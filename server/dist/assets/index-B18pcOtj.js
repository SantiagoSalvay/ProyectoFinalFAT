import{a as Yn,b as Xn,g as Qn,r as o,u as Re,L as ie,c as ws,R as Le,d as Hs,e as tn,f as kt,N as et,h as pr,i as xe,B as eo}from"./react-vendor-lQZpHoa6.js";import{V as pe,c as K,U as it,C as sn,L as rn,S as to,M as so,B as ro,X as He,a as ao,H as De,F as no,I as oo,b as io,T as lo,d as Bt,P as Ws,e as lt,f as Zs,g as an,h as Wt,A as Rs,i as pt,j as co,k as nn,l as Ct,E as $t,m as ht,n as tt,o as Ve,D as Ks,p as on,q as ln,r as Cs,s as zs,t as hr,u as uo,v as Us,w as At,x as Vt,y as cn,z as Bs,G as ls,J as mo,K as po,N as gt,O as ho,Q as Js,R as ks,W as go,Y as $s,Z as fo,_ as os,$ as xo,a0 as vo,a1 as bo,a2 as yo,a3 as dn,a4 as jo,a5 as No,a6 as wo,a7 as Co,a8 as ko,a9 as Lo,aa as gr,ab as Eo,ac as un,ad as fr,ae as So,af as Po,ag as Mo,ah as Oo,ai as Do,aj as es,ak as _o}from"./ui-vendor-BL_0gX_Y.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Es={exports:{}},Pt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr;function To(){if(xr)return Pt;xr=1;var s=Yn(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,m={},h=null,x=null;f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)a.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:h,ref:x,props:m,_owner:n.current}}return Pt.Fragment=r,Pt.jsx=l,Pt.jsxs=l,Pt}var vr;function Io(){return vr||(vr=1,Es.exports=To()),Es.exports}var e=Io(),ts={},br;function Ao(){if(br)return ts;br=1;var s=Xn();return ts.createRoot=s.createRoot,ts.hydrateRoot=s.hydrateRoot,ts}var Ro=Ao();const zo=Qn(Ro),Uo=()=>window.location.origin,Fe=Uo(),Ft=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:Fe},Symbol.toStringTag,{value:"Module"}));class Bo{async getDashboardSummary(){try{return await this.request("/auth/dashboard/summary",{method:"GET",headers:{Authorization:`Bearer ${this.getToken()}`}})}catch(t){throw console.error("Error al obtener resumen del dashboard:",t),t}}async adminListComments(t="pending"){return this.request(`/api/admin/comments?status=${t}`,{method:"GET"})}async adminUpdateComment(t,r){return this.request(`/api/admin/comments/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminListUsers(){return this.request("/api/admin/users",{method:"GET"})}async adminUpdateUser(t,r){return this.request(`/api/admin/users/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminBanUser(t,r){return this.request(`/api/admin/users/${t}/ban`,{method:"POST",body:JSON.stringify(r)})}async adminUnbanUser(t){return this.request(`/api/admin/users/${t}/ban`,{method:"DELETE"})}async adminListONGs(){return this.request("/api/admin/ongs",{method:"GET"})}async adminUpdateONG(t,r){return this.request(`/api/admin/ongs/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminBanONG(t,r){return this.request(`/api/admin/ongs/${t}/ban`,{method:"POST",body:JSON.stringify(r)})}async adminUnbanONG(t){return this.request(`/api/admin/ongs/${t}/ban`,{method:"DELETE"})}async adminListUsersAll(t){const r=new URLSearchParams;t?.type&&r.set("type",t.type),t?.q&&r.set("q",t.q);const a=r.toString();return this.request(`/api/admin/users-all${a?`?${a}`:""}`,{method:"GET"})}async adminUpdateActor(t,r){return this.request(`/api/admin/actors/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminListPosts(t){const r=t?`?q=${encodeURIComponent(t)}`:"";return this.request(`/api/admin/posts${r}`,{method:"GET"})}async adminUpdatePost(t,r){return this.request(`/api/admin/posts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminListDonations(t){const r=t?`?q=${encodeURIComponent(t)}`:"";return this.request(`/api/admin/donations${r}`,{method:"GET"})}async adminUpdateDonation(t,r){return this.request(`/api/admin/donations/${t}`,{method:"PUT",body:JSON.stringify(r)})}async adminFlagDonation(t,r){return this.request(`/api/admin/donations/${t}/flag`,{method:"POST",body:JSON.stringify({reason:r})})}async adminGetLogs(t=200){return this.request(`/api/admin/logs?limit=${t}`,{method:"GET"})}async adminListForumMessages(){return this.request("/api/admin/forum",{method:"GET"})}async adminDeleteForumMessage(t,r,a){return this.request(`/api/admin/forum/${t}/${r}`,{method:"DELETE",body:JSON.stringify({authorId:a})})}async getOngMPStatus(t){return this.request(`/api/ongs/${t}/mp-status`,{method:"GET"})}async setOngMPToken(t,r=!0){return this.request("/api/ongs/mp-token",{method:"POST",body:JSON.stringify({accessToken:t,enable:r})})}async deleteOngMPToken(){return this.request("/api/ongs/mp-token",{method:"DELETE"})}async createMPPreference(t){return this.request("/api/payments/mp/create",{method:"POST",body:JSON.stringify(t)})}async getDonacionesRealizadas(){try{return await this.request("/auth/donaciones/realizadas",{method:"GET",headers:{Authorization:`Bearer ${this.getToken()}`}})}catch(t){throw console.error("Error al obtener donaciones realizadas:",t),t}}async getTipoONGById(t){try{const r=await fetch(`${Fe}/auth/profile/tipoong/${t}`,{method:"GET",headers:{"Content-Type":"application/json",...this.getToken()&&{Authorization:`Bearer ${this.getToken()}`}}});if(!r.ok)throw new Error("Error al obtener datos de TipoONG");return(await r.json()).tipoONG}catch(r){return console.error("Error al obtener datos de TipoONG por id:",r),null}}async saveTipoONG(t){try{return await this.request("/auth/profile/tipoong",{method:"POST",headers:{Authorization:`Bearer ${this.getToken()}`,"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(r){throw console.error("Error al guardar datos de TipoONG:",r),r}}async getONGs(t){try{const r=new URLSearchParams;t?.type&&r.append("type",t.type),t?.location&&r.append("location",t.location);const a=r.toString(),n=`/api/ongs${a?`?${a}`:""}`;console.log("üîç [API] Obteniendo ONGs desde:",`${Fe}${n}`),console.log("üîç [API] Filtros aplicados:",t);const i=await this.request(n,{method:"GET"});return console.log("‚úÖ [API] ONGs obtenidas exitosamente:",i.ongs?.length||0,"ONGs"),i}catch(r){throw console.error("‚ùå [API] Error al obtener ONGs:",r),console.error("‚ùå [API] Detalles del error:",{message:r instanceof Error?r.message:"Error desconocido",stack:r instanceof Error?r.stack:void 0}),r}}async getTipoONG(){try{return(await this.request("/auth/profile/tipoong",{method:"GET",headers:{Authorization:`Bearer ${this.getToken()}`}})).tipoONG}catch(t){throw console.error("Error al obtener datos de TipoONG:",t),t}}token=null;setToken(t){this.token=t,localStorage.setItem("token",t)}getToken(){return this.token||(this.token=localStorage.getItem("token")),this.token}clearToken(){this.token=null,localStorage.removeItem("token")}async request(t,r={}){const a=`${Fe}${t}`,n=this.getToken();if(!n&&t!=="/auth/login"&&t!=="/auth/register"&&!t.startsWith("/api/ongs"))throw new Error("No hay token de autenticaci√≥n");const i={"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...r.headers},l={...r,headers:i};try{const c=await fetch(a,l);let d;const f=c.headers.get("content-type");if(f&&f.includes("application/json")?d=await c.json():d=await c.text(),!c.ok){const p=typeof d=="object"&&d.error?d.error:`HTTP error! status: ${c.status} - ${c.statusText}`;throw new Error(p)}return d}catch(c){throw c}}async register(t){console.log("Iniciando registro con datos:",{firstName:t.firstName,lastName:t.lastName,email:t.email,location:t.location,role:t.role,organization:t.organization,tipo_usuario:t.tipo_usuario,cuit:t.cuit||"N/A",tipoOrganizacion:t.tipoOrganizacion||"N/A",password:"[PROTECTED]"});try{const r=await this.request("/auth/register",{method:"POST",body:JSON.stringify({nombre:t.firstName||"",apellido:t.lastName||"",correo:t.email||"",contrasena:t.password||"",usuario:t.email&&t.email.split("@")[0]||t.email||"",ubicacion:t.location||"",coordenadas:t.coordinates,tipo_usuario:t.tipo_usuario||1,cuit:t.cuit,matricula:t.matricula,tipoOrganizacion:t.tipoOrganizacion})});return console.log("Registro exitoso:",{message:r.message,requiresVerification:r.requiresVerification,user:r.user?{...r.user,contrasena:void 0}:void 0}),r.token&&!r.requiresVerification&&this.setToken(r.token),r}catch(r){throw console.error("Error en el registro:",r),r}}async login(t){try{const r=await this.request("/auth/login",{method:"POST",body:JSON.stringify({correo:t.email,contrasena:t.password})});return r.token&&this.setToken(r.token),r}catch(r){throw console.error("Error en el login:",r),r}}async getProfile(){try{console.log("Obteniendo perfil de usuario...");const t=await this.request("/api/auth/me",{method:"GET",headers:{Authorization:`Bearer ${this.getToken()}`}});return console.log("Perfil obtenido:",t),t}catch(t){throw console.error("Error detallado al obtener perfil:",t),t}}async updateProfile(t){try{console.log("üì§ [API] Actualizando perfil con datos:",t),t.redes_sociales&&(console.log("üì§ [API] Redes sociales a enviar:",t.redes_sociales),console.log("üì§ [API] Tipo:",typeof t.redes_sociales));const r=await this.request("/auth/profile",{method:"PUT",body:JSON.stringify(t)});return console.log("‚úÖ [API] Perfil actualizado:",r),r.user?.redes_sociales&&console.log("‚úÖ [API] Redes sociales en respuesta:",r.user.redes_sociales),r}catch(r){throw console.error("‚ùå [API] Error detallado al actualizar perfil:",r),r}}async getCategorias(){try{return await this.request("/api/forum/categorias",{method:"GET"})}catch(t){throw console.error("Error al obtener categor√≠as:",t),t}}async getPublicaciones(){try{return await this.request("/api/forum/publicaciones",{method:"GET"})}catch(t){throw console.error("Error al obtener publicaciones:",t),t}}async getPublicacion(t){try{return await this.request(`/api/forum/publicaciones/${t}`,{method:"GET"})}catch(r){throw console.error("Error al obtener publicaci√≥n:",r),r}}async crearPublicacion(t){try{return await this.request("/api/forum/publicaciones",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Error al crear publicaci√≥n:",r),r}}async actualizarPublicacion(t,r){try{return await this.request(`/api/forum/publicaciones/${t}`,{method:"PUT",body:JSON.stringify(r)})}catch(a){throw console.error("Error al actualizar publicaci√≥n:",a),a}}async eliminarPublicacion(t){try{return await this.request(`/api/forum/publicaciones/${t}`,{method:"DELETE"})}catch(r){throw console.error("Error al eliminar publicaci√≥n:",r),r}}async getComentarios(t){try{return await this.request(`/api/forum/publicaciones/${t}/comentarios`,{method:"GET"})}catch(r){throw console.error("Error al obtener comentarios:",r),r}}async crearComentario(t,r,a){try{return await this.request(`/api/forum/publicaciones/${t}/comentarios`,{method:"POST",body:JSON.stringify({mensaje:r,id_respuesta_padre:a})})}catch(n){throw console.error("Error al crear comentario:",n),n}}async getModerationStats(){try{return await this.request("/api/forum/moderation/stats")}catch(t){throw console.error("Error al obtener estad√≠sticas de moderaci√≥n:",t),t}}async eliminarComentario(t){try{return await this.request(`/api/forum/comentarios/${t}`,{method:"DELETE"})}catch(r){throw console.error("Error al eliminar comentario:",r),r}}async toggleLike(t){try{return await this.request(`/api/forum/publicaciones/${t}/like`,{method:"POST"})}catch(r){throw console.error("Error al dar/quitar me gusta:",r),r}}async getLikes(t){try{return await this.request(`/api/forum/publicaciones/${t}/like`,{method:"GET"})}catch(r){throw console.error("Error al obtener likes:",r),r}}async calificarONG(t,r,a){try{return await this.request(`/api/ongs/${t}/calificar`,{method:"POST",body:JSON.stringify({puntuacion:r,comentario:a})})}catch(n){throw console.error("Error al calificar ONG:",n),n}}async obtenerMiCalificacion(t){try{return await this.request(`/api/ongs/${t}/mi-calificacion`,{method:"GET"})}catch(r){throw console.error("Error al obtener calificaci√≥n:",r),r}}async commentONG(t,r){try{return await this.request(`/api/ongs/${t}/comment`,{method:"POST",body:JSON.stringify({content:r})})}catch(a){throw console.error("Error al comentar ONG:",a),a}}async getCategories(){try{return await this.request("/api/categories")}catch(t){throw console.error("Error al obtener categor√≠as:",t),t}}async getONGCategories(t){try{return await this.request(`/api/categories/ong/${t}`)}catch(r){throw console.error("Error al obtener categor√≠as de ONG:",r),r}}async updateONGCategories(t,r){try{return await this.request(`/api/categories/ong/${t}`,{method:"POST",body:JSON.stringify({categoriaIds:r})})}catch(a){throw console.error("Error al actualizar categor√≠as de ONG:",a),a}}async uploadONGProfileImage(t){try{const r=new FormData;r.append("image",t);const a=this.getToken(),n=await fetch(`${Fe}/api/ongs/profile-image`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:r});if(!n.ok){const l=await n.json();throw new Error(l.error||"Error al subir imagen")}const i=await n.json();return console.log("‚úÖ Imagen de perfil subida:",i),i}catch(r){throw console.error("Error al subir imagen de perfil:",r),r}}async getONGProfileImage(t){try{return await this.request(`/api/ongs/${t}/profile-image`,{method:"GET"})}catch(r){throw console.error("Error al obtener imagen de perfil:",r),r}}async deleteONGProfileImage(){try{return await this.request("/api/ongs/profile-image",{method:"DELETE"})}catch(t){throw console.error("Error al eliminar imagen de perfil:",t),t}}async getNotifications(){try{return await this.request("/api/notifications",{method:"GET"})}catch(t){throw t}}async markNotificationAsRead(t){try{return await this.request(`/api/notifications/${t}/read`,{method:"PATCH"})}catch(r){throw r}}async markAllNotificationsAsRead(){try{return await this.request("/api/notifications/read-all",{method:"PATCH"})}catch(t){throw t}}async deleteNotification(t){try{return await this.request(`/api/notifications/${t}`,{method:"DELETE"})}catch(r){throw r}}async getUnreadNotificationsCount(){try{return await this.request("/api/notifications/unread-count",{method:"GET"})}catch(t){throw t}}}const ae=new Bo,mn=o.createContext(void 0);function $o({children:s}){const[t,r]=o.useState(null),[a,n]=o.useState(!0);o.useEffect(()=>{console.log("Estado del usuario actualizado:",t)},[t]),o.useEffect(()=>{const h=ae.getToken();console.log("Token encontrado:",h?"S√≠":"No"),h?i():n(!1)},[]);const i=async(h=0)=>{let u=!0;try{console.log(`Cargando perfil de usuario... (intento ${h+1}/4)`);const{user:v}=await ae.getProfile();console.log("Perfil cargado:",v),r(v)}catch(v){console.error("Error detallado al cargar perfil:",v);const j=v?.message||"";if(j.includes("401")||j.includes("403")||j.includes("Token")||j.includes("no autorizado")||j.includes("unauthorized"))console.log("‚ùå Error de autenticaci√≥n - cerrando sesi√≥n"),ae.clearToken(),r(null);else if(h<3){console.log("‚ö†Ô∏è Error de conexi√≥n - reintentando en 1500ms..."),u=!1,setTimeout(()=>{i(h+1)},1500);return}else console.log("‚ùå Se agotaron los reintentos - manteniendo token para reintento manual"),r(null),pe.error("Error de conexi√≥n con el servidor. Por favor, recarga la p√°gina.")}finally{u&&n(!1)}},m={user:t,isAuthenticated:!!t,isLoading:a,login:async(h,x)=>{try{console.log("Intentando login con:",{email:h,password:"[PROTECTED]"});const g=await ae.login({email:h,password:x});if(console.log("Respuesta de login:",{...g,token:g.token?"[TOKEN]":null}),g.user)return r(g.user),pe.success("¬°Inicio de sesi√≥n exitoso!"),g.user;throw console.error("No se recibieron datos del usuario en la respuesta"),pe.error("Error en el inicio de sesi√≥n: datos de usuario no recibidos"),new Error("Datos de usuario no recibidos")}catch(g){throw console.error("Error detallado en login:",g),pe.error("Error en el inicio de sesi√≥n"),g}},register:async h=>{try{const x=await ae.register(h);return x.requiresVerification||x.user&&(r(x.user),pe.success("¬°Registro exitoso!")),x}catch(x){console.error("Error en registro:",x);const g=x.response?.data?.error,u=x.response?.data?.message;throw g==="ONG_NOT_FOUND"?pe.error(u||"ONG no encontrada en SISA ni IPJ. Solicitud de revisi√≥n enviada a soporte.",{duration:6e3}):g==="IPJ_NOT_FOUND"?pe.error(u||"ONG no encontrada en IPJ. Solicitud de revisi√≥n enviada a soporte.",{duration:6e3}):g==="IPJ_NOT_UP_TO_DATE"?pe.error(u||"La organizaci√≥n no est√° al d√≠a con sus obligaciones en IPJ.",{duration:6e3}):g==="SISA_VERIFICATION_FAILED"?pe.error(u||"No se pudo verificar la organizaci√≥n en SISA.",{duration:6e3}):g==="SISA_DATA_MISMATCH"?pe.error(u||"Los datos no coinciden con el registro de SISA.",{duration:6e3}):pe.error(x.response?.data?.error||"Error en el registro"),x}},logout:()=>{r(null),ae.clearToken(),pe.success("Sesi√≥n cerrada")},updateProfile:async h=>{try{console.log("üîÑ [AuthContext] Actualizando perfil con:",h);const{user:x}=await ae.updateProfile(h);console.log("‚úÖ [AuthContext] Usuario recibido del backend:",x),x.redes_sociales&&console.log("‚úÖ [AuthContext] Redes sociales en usuario:",x.redes_sociales),r(x),console.log("‚úÖ [AuthContext] Usuario actualizado en el estado"),pe.success("Perfil actualizado exitosamente")}catch(x){throw console.error("‚ùå [AuthContext] Error al actualizar perfil:",x),pe.error("Error al actualizar perfil"),x}},setUserFromVerification:(h,x)=>{console.log("Estableciendo usuario desde verificaci√≥n:",h),ae.setToken(x),r(h),pe.success("¬°Cuenta verificada e inicio de sesi√≥n autom√°tico!")},setUser:r};return e.jsx(mn.Provider,{value:m,children:s})}function Ce(){const s=o.useContext(mn);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const pn=o.createContext(void 0);function Vo({children:s}){const[t,r]=o.useState([]),[a,n]=o.useState(!1);o.useEffect(()=>{const u=localStorage.getItem("token");n(!!u)},[]);const i=async()=>{if(a)try{const{notifications:u}=await ae.getNotifications(),v=u.map(j=>({id:j.id_notificacion.toString(),type:l(j.tipo_notificacion),title:c(j.tipo_notificacion),message:j.mensaje,timestamp:new Date(j.fecha_creacion),read:j.leida,priority:"medium",category:"system",autoHide:!1}));r(v)}catch{}};o.useEffect(()=>{if(!a)return;i();const u=setInterval(i,6e4);return()=>clearInterval(u)},[a]);const l=u=>u==="ban"||u==="mensaje_borrado"?"warning":u==="success"?"success":u==="error"?"error":"info",c=u=>{switch(u){case"ban":return"Cuenta Suspendida";case"mensaje_borrado":return"Mensaje Eliminado";default:return"Notificaci√≥n"}},d=u=>{const v={...u,id:u.id||Date.now().toString(),timestamp:new Date,read:!1,priority:u.priority||"medium",category:u.category||"system",autoHide:u.autoHide||!1,autoHideDelay:u.autoHideDelay||5e3};r(j=>{const w=j.findIndex(E=>E.id===v.id);return w!==-1?[{...j[w],...v,id:j[w].id,timestamp:new Date,read:!1},...j.filter((L,y)=>y!==w)]:[v,...j]}),v.autoHide&&setTimeout(()=>{m(v.id)},v.autoHideDelay)},f=u=>{r(v=>v.map(j=>j.id===u?{...j,read:!0}:j))},p=()=>{r(u=>u.map(v=>({...v,read:!0})))},m=u=>{r(v=>v.filter(j=>j.id!==u))},h=u=>{r(v=>v.filter(j=>j.category!==u))},x=t.filter(u=>!u.read).length,g={notifications:t,addNotification:d,markAsRead:f,markAllAsRead:p,removeNotification:m,unreadCount:x,clearCategory:h,refreshNotifications:i};return e.jsx(pn.Provider,{value:g,children:s})}function Zt(){const s=o.useContext(pn);if(s===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return s}function Fo(){const{user:s,isAuthenticated:t}=Ce(),{addNotification:r,removeNotification:a,notifications:n}=Zt(),[i,l]=o.useState(null),[c,d]=o.useState(0),f=Re();o.useEffect(()=>{n.find(v=>v.id==="profile-incomplete")&&a("profile-incomplete")},[]);const p=o.useCallback(async()=>{if(!s)return null;try{return(await ae.getProfile()).user}catch(u){return console.error("Error obteniendo datos del perfil:",u),null}},[s]),m=o.useCallback(async()=>{if(!s)return null;try{const u=await ae.getPublicaciones(),v=u?.length||0,j=0,w=u?.filter(y=>y.content?.includes("?")&&!y.answered).length||0,E=u?.filter(y=>(!y.imagenes||y.imagenes.length===0)&&y.content?.length>100).length||0,L=u?.filter(y=>(!y.content||y.content.length<50)&&(!y.imagenes||y.imagenes.length===0)).length||0;return{publicacionesCount:v,comentariosCount:j,preguntasSinResponder:w,publicacionesSinImagenes:E,publicacionesIncompletas:L}}catch(u){return console.error("Error analizando actividad del usuario:",u),null}},[s]),h=o.useCallback(async()=>{if(!s)return null;const[u,v]=await Promise.all([p(),m()]);if(!u&&!v)return null;const j=[],w=[],E=[];u&&((!u.bio||u.bio.trim().length<20)&&(j.push("biograf√≠a detallada"),E.push("Agrega una biograf√≠a que describa qui√©n eres y qu√© te interesa")),u.ubicacion||(j.push("ubicaci√≥n"),E.push("Especifica tu ubicaci√≥n para conectar con personas cercanas")),!u.telefono&&s.tipo_usuario===2&&(j.push("tel√©fono de contacto"),E.push("Agrega un tel√©fono para que las personas puedan contactarte")),u.fecha_nacimiento||(j.push("fecha de nacimiento"),E.push("Comparte tu fecha de nacimiento para personalizar tu experiencia")),u.sexo||(j.push("g√©nero"),E.push("Especifica tu g√©nero para ayudarnos a mostrarte contenido relevante")),(!u.intereses||u.intereses.length===0)&&(j.push("intereses"),E.push("Agrega tus intereses para recibir recomendaciones personalizadas")),(!u.habilidades||u.habilidades.length===0)&&(j.push("habilidades"),E.push("Comparte tus habilidades para ayudar a la comunidad")),u.foto_perfil||(j.push("foto de perfil"),E.push("Sube una foto de perfil para personalizar tu cuenta"))),v&&(v.preguntasSinResponder>0&&(w.push(`${v.preguntasSinResponder} preguntas sin responder`),E.push(`Tienes ${v.preguntasSinResponder} preguntas esperando respuesta. ¬°Ayuda a la comunidad!`)),v.publicacionesSinImagenes>0&&(w.push(`${v.publicacionesSinImagenes} publicaciones sin im√°genes`),E.push("Considera agregar im√°genes a tus publicaciones para hacerlas m√°s atractivas")),v.publicacionesIncompletas>0&&(w.push(`${v.publicacionesIncompletas} publicaciones muy cortas`),E.push("Desarrolla m√°s tus publicaciones para brindar m√°s valor a la comunidad")),v.publicacionesCount===0&&(w.push("sin publicaciones"),E.push("¬°Comparte tu primera publicaci√≥n! La comunidad quiere conocer tu opini√≥n")),v.comentariosCount===0&&v.publicacionesCount>2&&(w.push("poca participaci√≥n en comentarios"),E.push("¬°Participa en las conversaciones! Deja comentarios en publicaciones que te interesen")));const L=8,y=L-j.length;return{profileCompleteness:Math.round(y/L*100),missingProfileFields:j,activityIssues:w,recommendations:E}},[s,p,m]),x=o.useCallback(async()=>{if(!s)return;const u=Date.now();if(u-c<300*1e3)return;const v=await h();if(!v)return;d(u),l(v);const j="global-missing-biography";if(v.missingProfileFields.some(E=>E.toLowerCase().includes("biograf"))?n.find(L=>L.id===j)||r({id:j,type:"warning",title:"Completa tu biograf√≠a",message:"Tu biograf√≠a est√° vac√≠a o incompleta. Agrega m√°s informaci√≥n para que la comunidad te conozca mejor.",link:"/profile",category:"profile",priority:"medium"}):n.find(L=>L.id===j)&&a(j),v.activityIssues.some(E=>E.includes("preguntas sin responder"))){const E=parseInt(v.activityIssues.find(L=>L.includes("preguntas sin responder"))?.match(/\d+/)?.[0]||"0");E>0&&r({id:"unanswered-questions",type:"info",title:"Preguntas esperando respuesta",message:`Tienes ${E} pregunta${E>1?"s":""} esperando tu respuesta. ¬°Ayuda a la comunidad!`,link:"/forum?filter=unanswered"})}if(v.activityIssues.some(E=>E.includes("publicaciones sin im√°genes"))){const E=parseInt(v.activityIssues.find(L=>L.includes("publicaciones sin im√°genes"))?.match(/\d+/)?.[0]||"0");E>2&&r({id:"posts-without-images",type:"info",title:"Mejora tus publicaciones",message:`${E} de tus publicaciones podr√≠an ser m√°s atractivas con im√°genes.`,link:"/profile?tab=posts"})}if(v.activityIssues.some(E=>E.includes("sin publicaciones"))&&r({id:"no-posts",type:"info",title:"¬°Comparte con la comunidad!",message:"A√∫n no has publicado nada. ¬°Comparte tus ideas, preguntas o experiencias!",link:"/forum/create"}),v.recommendations.length>0){const E=v.recommendations[0];r({id:"personal-recommendation",type:"info",title:"Recomendaci√≥n personalizada",message:E,link:"/profile"})}},[s,c,h,r,a,n]),g=o.useCallback(async()=>{if(s)try{const v=(await ae.getPublicaciones())?.filter(j=>j.content?.includes("?")&&j.content.length>20)||[];for(const j of v.slice(0,5)){const E=(await ae.getComentarios(j.id))?.filter(L=>L.fecha_respuesta>new Date(Date.now()-1440*60*1e3))||[];E.length>0&&E.forEach(L=>{r({id:`question-response-${j.id}-${L.id_respuesta}`,type:"success",title:"¬°Tu pregunta recibi√≥ respuesta!",message:`${L.usuario.nombre} respondi√≥: "${L.mensaje.substring(0,100)}${L.mensaje.length>100?"...":""}"`,link:`/forum/${j.id}`})})}}catch(u){console.error("Error monitoreando respuestas a preguntas:",u)}},[s,r]);return o.useEffect(()=>{if(!t||!s)return;const u=s.tipo_usuario===2,v=sessionStorage.getItem(`welcome_${s.id_usuario}`);sessionStorage.getItem(`missing_data_${s.id_usuario}`),v||setTimeout(()=>{u?K.success(`¬°Bienvenida ${s.nombre}!`,{duration:4e3,icon:"üéâ"}):K.success(`¬°Bienvenido ${s.nombre}!`,{duration:4e3,icon:"üëã"}),sessionStorage.setItem(`welcome_${s.id_usuario}`,"true")},1e3);const j=`mp_setup_prompt_${s.id_usuario}`;s.tipo_usuario===2&&!sessionStorage.getItem(j)&&(async()=>{try{(await ae.getOngMPStatus(s.id_usuario)).enabled||(r({id:`mp-setup-${s.id_usuario}`,type:"warning",title:"Configura tus donaciones",message:"A√∫n no configuraste las donaciones monetarias. Sigue los pasos para habilitarlas.",link:"/pagos/configurar",autoHide:!1,category:"system",priority:"high"}),setTimeout(()=>{f("/pagos/configurar")},1200))}catch{}finally{sessionStorage.setItem(j,"true")}})(),setTimeout(()=>{x(),g()},2e3);const E=setInterval(x,600*1e3),L=setInterval(g,300*1e3);return()=>{clearInterval(E),clearInterval(L)}},[t,s,x,g]),{analysis:i,generateSmartNotifications:x,monitorQuestionResponses:g,performCompleteAnalysis:h}}function qo(){return Fo(),null}function Go({user:s,onLogout:t,isOpen:r,setIsOpen:a}){const[n,i]=o.useState(!1),l=typeof r=="boolean"&&typeof a=="function",c=l?r:n,d=l?a:i,f=o.useRef(null),p=s.nombre||s.email;return o.useEffect(()=>{function m(h){f.current&&!f.current.contains(h.target)&&d(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[d]),e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 p-2 rounded-lg transition-colors",style:{backgroundColor:"transparent",color:"var(--color-fg)"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor="color-mix(in oklab, var(--color-fg) 8%, transparent)"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center",children:e.jsx(it,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"hidden sm:block text-sm font-medium",style:{color:"var(--color-fg)"},children:p}),e.jsx(sn,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`,style:{color:"var(--color-muted)"}})]}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg border py-2 z-50",style:{backgroundColor:"var(--color-card)",borderColor:"var(--color-border)",color:"var(--color-fg)"},children:[e.jsxs("div",{className:"px-4 py-2 border-b",style:{borderColor:"var(--color-border)"},children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--color-fg)"},children:p}),s.email?e.jsx("p",{className:"text-xs",style:{color:"var(--color-muted)"},children:s.email.length>15?s.email.slice(0,15)+"...":s.email}):null]}),e.jsxs(ie,{to:"/profile",onClick:()=>d(!1),className:"flex items-center px-4 py-2 text-sm transition-colors",style:{color:"var(--color-fg)"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor="color-mix(in oklab, var(--color-fg) 8%, transparent)"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="transparent"},children:[e.jsx(it,{className:"w-4 h-4 mr-3"}),"Mi Perfil"]}),e.jsxs("button",{onClick:()=>{t(),d(!1)},className:"flex items-center w-full px-4 py-2 text-sm transition-colors",style:{color:"#ef4444"},onMouseEnter:m=>{m.currentTarget.style.backgroundColor="color-mix(in oklab, #ef4444 14%, transparent)"},onMouseLeave:m=>{m.currentTarget.style.backgroundColor="transparent"},children:[e.jsx(rn,{className:"w-4 h-4 mr-3"}),"Cerrar Sesi√≥n"]})]})]})}const hn=o.createContext(void 0),Vs="theme";function yr(){return typeof window>"u"||!("matchMedia"in window)?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ho(){try{return localStorage.getItem(Vs)??yr()}catch{return yr()}}function Wo(s){typeof document>"u"||document.documentElement.setAttribute("data-theme",s)}function Zo({children:s}){const[t,r]=o.useState(Ho);o.useEffect(()=>{Wo(t);try{localStorage.setItem(Vs,t)}catch{}},[t]),o.useEffect(()=>{const l=window.matchMedia?.("(prefers-color-scheme: dark)"),c=d=>{try{localStorage.getItem(Vs)||r(d.matches?"dark":"light")}catch{}};return l?.addEventListener?.("change",c),()=>l?.removeEventListener?.("change",c)},[]);const a=o.useCallback(l=>{r(l)},[]),n=o.useCallback(()=>{r(l=>l==="light"?"dark":"light")},[]),i=o.useMemo(()=>({theme:t,setTheme:a,toggleTheme:n}),[t,a,n]);return e.jsx(hn.Provider,{value:i,children:s})}function Ko(){const s=o.useContext(hn);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}function ft(){const s=ws(),{user:t,isAuthenticated:r,logout:a}=Ce(),{notifications:n,unreadCount:i,markAsRead:l,removeNotification:c}=Zt(),[d,f]=o.useState(!1),[p,m]=o.useState(!1),[h,x]=o.useState(!1),g=o.useRef(null),{theme:u,toggleTheme:v}=Ko(),E=r?[{name:"Inicio",href:"/"},{name:"Donaciones",href:"/donaciones"},{name:"Mapa",href:"/map"},{name:"Ranking",href:"/ranking"},{name:"Foro",href:"/forum"},{name:"Dashboard",href:"/dashboard"}]:[{name:"Inicio",href:"/"},{name:"Misi√≥n",href:"/mission"}],L=y=>s.pathname===y;return e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md border-b shadow-sm",style:{backgroundColor:"color-mix(in oklab, var(--color-bg) 92%, transparent)",borderColor:"var(--color-border)"},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(ie,{to:"/",className:"flex items-center space-x-2",style:{textDecoration:"none"},children:[e.jsx("div",{children:e.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"w-8 h-8"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent",style:{textDecoration:"none"},children:"Demos+"})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:E.map(y=>e.jsx(ie,{to:y.href,className:`px-4 text-sm font-medium transition-colors duration-200 ${L(y.href)?"text-purple-400 border-b-2 border-purple-500 no-underline hover:no-underline":"text-gray-600 hover:text-purple-400 hover:underline"}`,children:y.name},y.name))}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx("button",{onClick:v,className:"p-2 rounded-full border transition-colors","aria-label":"Cambiar tema",title:"Cambiar tema",style:{backgroundColor:"var(--color-card)",color:"var(--color-fg)",borderColor:"var(--color-border)"},children:u==="dark"?e.jsx(to,{className:"w-5 h-5"}):e.jsx(so,{className:"w-5 h-5"})}),r?e.jsxs(e.Fragment,{children:[e.jsxs("button",{ref:g,className:"relative p-2 text-gray-600 hover:text-purple-600 transition-colors",onClick:()=>{m(y=>(y||x(!1),!y))},children:[e.jsx(ro,{className:"w-5 h-5"}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:i>9?"9+":i})]}),p&&e.jsxs("div",{style:{position:"fixed",right:"32px",top:"64px",width:"320px",zIndex:1e3,backgroundColor:"var(--color-card)",color:"var(--color-fg)",borderColor:"var(--color-border)"},className:"rounded-lg shadow-lg border",children:[e.jsx("div",{className:"p-4 border-b font-bold",style:{borderColor:"var(--color-border)",color:"var(--color-fg)"},children:"Notificaciones"}),n.length===0?e.jsx("div",{className:"p-4 text-center",style:{color:"var(--color-muted)"},children:"No tienes notificaciones nuevas."}):e.jsx("ul",{className:"max-h-96 overflow-y-auto",children:n.map(y=>e.jsxs("li",{className:"px-4 py-3 border-b flex items-start gap-2",style:{borderColor:"var(--color-border)",background:y.read?"var(--color-card)":"color-mix(in oklab, var(--accent) 12%, var(--color-card))",boxShadow:y.read?void 0:"inset 4px 0 0 0 var(--accent)"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-base",style:{color:"var(--color-fg)"},children:y.title}),e.jsx("div",{className:"text-sm mb-1",style:{color:"var(--color-muted)"},children:y.message}),y.link&&e.jsx(ie,{to:y.link,className:"hover:underline font-medium text-xs",style:{color:"var(--link)"},onClick:()=>m(!1),children:"Acceder"}),e.jsx("div",{className:"text-xs mt-1",style:{color:"var(--color-muted)"},children:typeof y.timestamp=="string"?y.timestamp:y.timestamp.toLocaleString()})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!y.read&&e.jsx("button",{onClick:()=>l(y.id),className:"text-xs px-2 py-1 rounded",style:{background:"var(--accent)",color:"var(--accent-contrast)"},children:"Le√≠da"}),e.jsx("button",{onClick:()=>c(y.id),className:"text-xs px-2 py-1 rounded",style:{background:"color-mix(in oklab, var(--color-fg) 10%, transparent)",color:"var(--color-fg)"},children:"Eliminar"})]})]},y.id))})]}),e.jsx(Go,{user:t,onLogout:a,isOpen:h,setIsOpen:y=>{x(y),y&&m(!1)}})]}):e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(ie,{to:"/login",className:"text-sm font-medium transition-colors",style:{color:"var(--color-fg)"},children:"Iniciar Sesi√≥n"}),e.jsx(ie,{to:"/register",className:"btn-primary text-sm",children:"Registrarse"})]}),e.jsx("button",{onClick:()=>f(!d),className:"md:hidden p-2 transition-colors",style:{color:"var(--color-fg)"},children:d?e.jsx(He,{className:"w-6 h-6"}):e.jsx(ao,{className:"w-6 h-6"})})]})]}),d&&e.jsx("div",{className:"md:hidden py-4 border-t",style:{borderColor:"var(--color-border)"},children:e.jsxs("nav",{className:"flex flex-col space-y-4",children:[E.map(y=>e.jsx(ie,{to:y.href,onClick:()=>f(!1),className:`text-sm font-medium transition-colors duration-200 ${L(y.href)?"text-purple-400":""}`,style:{color:"var(--color-fg)"},children:y.name},y.name)),!r&&e.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t",style:{borderColor:"var(--color-border)"},children:[e.jsx(ie,{to:"/login",onClick:()=>f(!1),className:"text-sm font-medium transition-colors",style:{color:"var(--color-fg)"},children:"Iniciar Sesi√≥n"}),e.jsx(ie,{to:"/register",onClick:()=>f(!1),className:"btn-primary text-sm text-center",children:"Registrarse"})]})]})})]})})}function Jo(){const s=new Date().getFullYear(),{isAuthenticated:t}=Ce();return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(De,{className:"w-8 h-8 text-purple-500 mr-3"}),e.jsx("span",{className:"text-2xl font-bold",children:"Demos+"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Conectando corazones, transformando vidas. Nuestra plataforma facilita la solidaridad y crea un impacto positivo en el mundo conectando personas con organizaciones sin fines de lucro."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors","aria-label":"Facebook",children:e.jsx(no,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center hover:from-purple-600 hover:to-pink-600 transition-colors","aria-label":"Instagram",children:e.jsx(oo,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-700 rounded-full flex items-center justify-center hover:bg-blue-800 transition-colors","aria-label":"LinkedIn",children:e.jsx(io,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-400 rounded-full flex items-center justify-center hover:bg-blue-500 transition-colors","aria-label":"Twitter",children:e.jsx(lo,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces R√°pidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(ie,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Inicio"})}),e.jsx("li",{children:e.jsx(ie,{to:"/mission",className:"text-gray-300 hover:text-white transition-colors",children:"Nuestra Misi√≥n"})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(ie,{to:"/map",className:"text-gray-300 hover:text-white transition-colors",children:"Mapa"})}),e.jsx("li",{children:e.jsx(ie,{to:"/ranking",className:"text-gray-300 hover:text-white transition-colors",children:"Ranking"})}),e.jsx("li",{children:e.jsx(ie,{to:"/forum",className:"text-gray-300 hover:text-white transition-colors",children:"Foro"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center text-gray-300",children:[e.jsx(Bt,{className:"w-4 h-4 mr-3 text-purple-400"}),e.jsx("a",{href:"mailto:info@demos.org",className:"hover:text-white transition-colors",children:"info@demos.org"})]}),e.jsxs("li",{className:"flex items-center text-gray-300",children:[e.jsx(Ws,{className:"w-4 h-4 mr-3 text-purple-400"}),e.jsx("a",{href:"tel:+5491112345678",className:"hover:text-white transition-colors",children:"+54 9 11 1234-5678"})]}),e.jsxs("li",{className:"flex items-start text-gray-300",children:[e.jsx(lt,{className:"w-4 h-4 mr-3 mt-1 text-purple-400"}),e.jsxs("span",{children:["Buenos Aires, Argentina",e.jsx("br",{}),"Av. Corrientes 1234"]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["¬© ",s," Demos+. Todos los derechos reservados."]}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(ie,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Pol√≠tica de Privacidad"}),e.jsx(ie,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"T√©rminos de Servicio"}),e.jsx(ie,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Pol√≠tica de Cookies"})]})]})})]})})}const jr=!1,Mt="demos_cookie_consent",ss="demos_preferences",rs="demos_analytics";function gn(){const[s,t]=o.useState(null),[r,a]=o.useState(jr),[n,i]=o.useState(!1);o.useEffect(()=>{const u=localStorage.getItem(Mt);if(u)try{const v=JSON.parse(u);t(v),a(v.accepted);const j=Date.now()-365*24*60*60*1e3;v.timestamp<j&&i(!0)}catch(v){console.error("Error parsing cookie consent:",v),i(!0)}else i(!0)},[]);const l=u=>{const v={accepted:u,timestamp:Date.now()};localStorage.setItem(Mt,JSON.stringify(v)),m(Mt,JSON.stringify(v),365),u?(m(ss,"enabled",365),m(rs,"enabled",730)):(h(ss),h(rs)),t(v),a(u),i(!1)},c=()=>{l(!0)},d=()=>{l(!1)},f=()=>r,p=u=>{const j=`; ${document.cookie}`.split(`; ${u}=`);return j.length===2&&j.pop()?.split(";").shift()||null},m=(u,v,j)=>{const w=new Date;w.setTime(w.getTime()+j*24*60*60*1e3),document.cookie=`${u}=${v};expires=${w.toUTCString()};path=/;SameSite=Lax`},h=u=>{document.cookie=`${u}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`};return{consent:s,accepted:r,showBanner:n,acceptAll:c,rejectAll:d,isAccepted:f,getCookie:p,setCookie:m,deleteCookie:h,clearAllCookies:()=>{localStorage.removeItem(Mt),localStorage.removeItem(ss),localStorage.removeItem(rs),h(Mt),h(ss),h(rs),t(null),a(jr),i(!0)},showBannerAgain:()=>{i(!0)}}}function Yo(){const{showBanner:s,acceptAll:t,rejectAll:r}=gn();return s?e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(Zs,{className:"w-6 h-6 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"üç™ Utilizamos cookies para mejorar tu experiencia"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Utilizamos cookies para el funcionamiento de la plataforma, an√°lisis y personalizaci√≥n. Puedes aceptar o rechazar su uso."}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:e.jsx(ie,{to:"/cookies",className:"text-purple-600 hover:text-purple-700 underline",children:"M√°s informaci√≥n sobre cookies"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(an,{className:"w-4 h-4"}),"Rechazar"]}),e.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Aceptar"]})]})]})})}):null}function Xo({children:s}){return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(ft,{}),e.jsx("main",{className:"pt-16 flex-1 bg-white dark:bg-gray-900",children:s}),e.jsx(Jo,{}),e.jsx(Yo,{})]})}const Qo=()=>{const s=Re(),t=ws(),{isAuthenticated:r,user:a}=Ce(),n=o.useRef(""),i=o.useRef(!1);return o.useEffect(()=>{if(n.current===t.pathname)return;if(n.current=t.pathname,i.current=!1,t.pathname.includes("..")||t.pathname.includes("//")){console.warn("‚ö†Ô∏è Intento de path traversal detectado:",t.pathname),pe.error("Acceso no autorizado"),s("/dashboard",{replace:!0});return}const l=[/<script/gi,/javascript:/gi,/%3Cscript/gi,/eval\(/gi,/expression\(/gi],c=t.pathname+t.search+t.hash;if(l.some(m=>m.test(c))){console.warn("‚ö†Ô∏è Caracteres peligrosos detectados en URL:",c),pe.error("URL inv√°lida detectada"),s("/dashboard",{replace:!0});return}const d=t.pathname.match(/\/(\d+)/);if(d){const m=parseInt(d[1],10);if(isNaN(m)||m<=0||m>Number.MAX_SAFE_INTEGER){console.warn("‚ö†Ô∏è ID inv√°lido en URL:",m),pe.error("ID inv√°lido"),s(-1);return}}if(t.pathname.startsWith("/admin")&&(a?.tipo_usuario??a?.id_tipo_usuario??0)<3){console.warn("‚ö†Ô∏è Intento de acceso no autorizado a admin:",a),pe.error("Acceso denegado: se requieren privilegios de administrador"),s("/dashboard",{replace:!0});return}if(["/dashboard","/profile","/forum","/acciones","/pagos","/complete-data"].some(m=>t.pathname.startsWith(m))&&!r&&!i.current){console.warn("‚ö†Ô∏è Intento de acceso a ruta protegida sin autenticaci√≥n"),i.current=!0,s("/login",{state:{from:t},replace:!0});return}},[t,r,a,s]),{navigateSafely:l=>{if(l.includes("..")||l.includes("//")){console.warn("‚ö†Ô∏è Intento de navegaci√≥n insegura:",l),pe.error("Ruta inv√°lida");return}s(l)}}},ei=()=>{const s=o.useRef(!1);o.useEffect(()=>{const t=()=>{const i=localStorage.getItem("token");if(i)try{const l=i.split(".");if(l.length!==3){console.warn("‚ö†Ô∏è Token manipulado detectado en localStorage"),localStorage.removeItem("token"),s.current||(s.current=!0,pe.error("Tu sesi√≥n ha sido comprometida. Por favor, inicia sesi√≥n nuevamente."),setTimeout(()=>{window.location.href="/login"},1e3));return}try{const c=JSON.parse(atob(l[1]));if(!c.userId||!c.email){console.warn("‚ö†Ô∏è Token con payload inv√°lido"),localStorage.removeItem("token"),s.current||(s.current=!0,pe.error("Sesi√≥n inv√°lida. Por favor, inicia sesi√≥n nuevamente."),setTimeout(()=>{window.location.href="/login"},1e3));return}if(c.exp&&c.exp*1e3<Date.now()){console.warn("‚ö†Ô∏è Token expirado"),localStorage.removeItem("token"),s.current||(s.current=!0,pe.error("Tu sesi√≥n ha expirado. Por favor, inicia sesi√≥n nuevamente."),setTimeout(()=>{window.location.href="/login"},1e3));return}}catch(c){console.warn("‚ö†Ô∏è Error al decodificar token:",c),localStorage.removeItem("token"),s.current||(s.current=!0,pe.error("Token inv√°lido. Por favor, inicia sesi√≥n nuevamente."),setTimeout(()=>{window.location.href="/login"},1e3))}}catch(l){console.error("Error validando token:",l)}};let r=!1;r||(r=!0,t());const a=setInterval(t,6e4),n=i=>{i.key==="token"&&t()};return window.addEventListener("storage",n),()=>{clearInterval(a),window.removeEventListener("storage",n)}},[])},ti=()=>{o.useEffect(()=>{if(window.self!==window.top){console.warn("‚ö†Ô∏è Aplicaci√≥n embebida en iframe detectada");try{window.top.location=window.self.location}catch{document.body.innerHTML="Por razones de seguridad, esta aplicaci√≥n no puede ser embebida en un iframe."}}},[])},si=()=>{Qo(),ei(),ti()},Ss=()=>{const s=o.useRef(null),[t,r]=o.useState(!1);return o.useEffect(()=>{const a=new IntersectionObserver(([n])=>{n.isIntersecting&&r(!0)},{threshold:.1,rootMargin:"-50px"});return s.current&&a.observe(s.current),()=>{s.current&&a.unobserve(s.current)}},[]),{ref:s,isVisible:t}};function ri(){const{isAuthenticated:s}=Ce(),{ref:t,isVisible:r}=Ss(),{ref:a,isVisible:n}=Ss(),{ref:i,isVisible:l}=Ss();return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg)",color:"var(--color-fg)"},children:[e.jsxs("section",{className:"relative overflow-hidden min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/imagenhome1.jpg)",filter:"blur(1px) brightness(0.75)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 dark:bg-black/60"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-24 z-10 animate-fade-in -mt-32 sm:mt-0",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 sm:mb-8 animate-slide-in-up",style:{animationDelay:"0.1s"},children:e.jsxs("div",{className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium mb-3 sm:mb-6 bg-white/10 backdrop-blur-sm text-white border border-white/20 hover:bg-white/20 transition-all duration-300",children:[e.jsx(De,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 animate-pulse"}),"Conectando corazones, transformando vidas"]})}),e.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4 sm:mb-6 leading-tight px-4 animate-slide-in-up",style:{animationDelay:"0.2s"},children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 bg-clip-text text-transparent inline-block animate-gradient",children:"Demos+"}),e.jsx("br",{}),e.jsx("span",{className:"text-white/90",children:"Plataforma de"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 bg-clip-text text-transparent inline-block animate-gradient",children:"Solidaridad"})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-8 sm:mb-12 max-w-3xl mx-auto leading-relaxed text-white/90 px-4 animate-slide-in-up",style:{animationDelay:"0.3s"},children:"√önete a nuestra comunidad donde las personas y organizaciones trabajan juntas para crear un impacto positivo en el mundo. Donar, hacer voluntariado y conectar con causas que importan."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center px-4 animate-slide-in-up",style:{animationDelay:"0.4s"},children:s?e.jsxs(ie,{to:"/dashboard",className:"w-full sm:w-auto btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 flex items-center justify-center bg-purple-600 hover:bg-purple-700 text-white rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:["Ir al Dashboard",e.jsx(Rs,{className:"ml-2 w-4 h-4 sm:w-5 sm:h-5"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(ie,{to:"/register",className:"w-full sm:w-auto btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 flex items-center justify-center bg-purple-600 hover:bg-purple-700 text-white rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:["Comenzar Ahora",e.jsx(Rs,{className:"ml-2 w-4 h-4 sm:w-5 sm:h-5"})]}),e.jsx(ie,{to:"/mission",className:"w-full sm:w-auto btn-secondary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 bg-white/10 hover:bg-white/20 text-white border border-white/20 rounded-lg backdrop-blur-sm hover:scale-105 transition-all duration-300",children:"Conoce Nuestra Misi√≥n"})]})})]})})]}),e.jsx("section",{className:"home-section home-section--features py-12 sm:py-16 md:py-20",ref:t,children:e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${r?"animate-fade-in":"opacity-0"}`,children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-purple-600 to-purple-800 dark:from-purple-400 dark:to-purple-600 bg-clip-text text-transparent",children:"¬øPor qu√© elegir Demos+?"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl max-w-2xl mx-auto px-4",style:{color:"var(--color-muted)"},children:"Nuestra plataforma est√° dise√±ada para facilitar la conexi√≥n entre personas que quieren ayudar y organizaciones que necesitan apoyo."})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"feature-card p-6 sm:p-8 text-center group hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-purple-600 to-purple-700 dark:from-purple-500 dark:to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-lg",children:e.jsx(De,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 feature-card__title",children:"Donaciones Transparentes"}),e.jsx("p",{className:"text-sm sm:text-base feature-card__text",children:"Conecta directamente con organizaciones verificadas y sigue el impacto de tus donaciones en tiempo real."})]}),e.jsxs("div",{className:"feature-card p-6 sm:p-8 text-center group hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 dark:from-emerald-500 dark:to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-lg",children:e.jsx(pt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 feature-card__title",children:"Voluntariado Activo"}),e.jsx("p",{className:"text-sm sm:text-base feature-card__text",children:"Encuentra oportunidades de voluntariado que se adapten a tus habilidades y horarios disponibles."})]}),e.jsxs("div",{className:"feature-card p-6 sm:p-8 text-center group hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-orange-500 to-orange-600 dark:from-orange-400 dark:to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-lg",children:e.jsx(co,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 feature-card__title",children:"Comunidad Solidaria"}),e.jsx("p",{className:"text-sm sm:text-base feature-card__text",children:"√önete a una comunidad de personas comprometidas con el cambio social y comparte experiencias."})]})]})]})}),e.jsx("section",{className:"home-section home-section--stats py-12 sm:py-16 md:py-20 overflow-hidden",ref:a,children:e.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${n?"animate-fade-in":"opacity-0"}`,children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 sm:mb-4",children:"Nuestro Impacto"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-purple-100 px-4",children:"Juntos estamos creando un mundo mejor"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"stats-card text-center p-4 sm:p-6 hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2",children:"500+"}),e.jsx("div",{className:"text-sm sm:text-base text-purple-200",children:"Organizaciones"})]}),e.jsxs("div",{className:"stats-card text-center p-4 sm:p-6 hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2",children:"10K+"}),e.jsx("div",{className:"text-sm sm:text-base text-purple-200",children:"Voluntarios"})]}),e.jsxs("div",{className:"stats-card text-center p-4 sm:p-6 hover:scale-105 transition-all duration-300",children:[e.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2",children:"$2M+"}),e.jsx("div",{className:"text-sm sm:text-base text-purple-200",children:"Donaciones"})]}),e.jsxs("div",{className:"stats-card text-center p-4 sm:p-6 hover:scale-105 transition-all duration-300 col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2",children:"50K+"}),e.jsx("div",{className:"text-sm sm:text-base text-purple-200",children:"Vidas Impactadas"})]})]})]})}),!s&&e.jsx("section",{className:"home-section home-section--cta py-12 sm:py-16 md:py-20",ref:i,children:e.jsxs("div",{className:`max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 ${l?"animate-fade-in":"opacity-0"}`,children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-purple-600 via-purple-700 to-emerald-600 dark:from-purple-300 dark:via-purple-400 dark:to-emerald-400 bg-clip-text text-transparent",children:"¬øListo para hacer la diferencia?"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl mb-6 sm:mb-8 px-4",style:{color:"var(--color-muted)"},children:"√önete a miles de personas que ya est√°n creando un impacto positivo en sus comunidades y en el mundo."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsx(ie,{to:"/register",className:"w-full sm:w-auto cta-button cta-button--primary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 font-medium",children:"Registrarse Ahora"}),e.jsx(ie,{to:"/login",className:"w-full sm:w-auto cta-button cta-button--secondary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 font-medium",children:"Ya Tengo Cuenta"})]})]})})]})}var Kt=s=>s.type==="checkbox",mt=s=>s instanceof Date,Te=s=>s==null;const fn=s=>typeof s=="object";var we=s=>!Te(s)&&!Array.isArray(s)&&fn(s)&&!mt(s),ai=s=>we(s)&&s.target?Kt(s.target)?s.target.checked:s.target.value:s,ni=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,oi=(s,t)=>s.has(ni(t)),ii=s=>{const t=s.constructor&&s.constructor.prototype;return we(t)&&t.hasOwnProperty("isPrototypeOf")},Ys=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Me(s){let t;const r=Array.isArray(s),a=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(Ys&&(s instanceof Blob||a))&&(r||we(s)))if(t=r?[]:{},!r&&!ii(s))t=s;else for(const n in s)s.hasOwnProperty(n)&&(t[n]=Me(s[n]));else return s;return t}var Ls=s=>/^\w*$/.test(s),Ee=s=>s===void 0,Xs=s=>Array.isArray(s)?s.filter(Boolean):[],Qs=s=>Xs(s.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(s,t,r)=>{if(!t||!we(s))return r;const a=(Ls(t)?[t]:Qs(t)).reduce((n,i)=>Te(n)?n:n[i],s);return Ee(a)||a===s?Ee(s[t])?r:s[t]:a},Ke=s=>typeof s=="boolean",je=(s,t,r)=>{let a=-1;const n=Ls(t)?[t]:Qs(t),i=n.length,l=i-1;for(;++a<i;){const c=n[a];let d=r;if(a!==l){const f=s[c];d=we(f)||Array.isArray(f)?f:isNaN(+n[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;s[c]=d,s=s[c]}};const Nr={BLUR:"blur",FOCUS_OUT:"focusout"},qe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},li=Le.createContext(null);li.displayName="HookFormContext";var ci=(s,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in s)Object.defineProperty(n,i,{get:()=>{const l=i;return t._proxyFormState[l]!==qe.all&&(t._proxyFormState[l]=!a||qe.all),s[l]}});return n};const di=typeof window<"u"?o.useLayoutEffect:o.useEffect;var Je=s=>typeof s=="string",ui=(s,t,r,a,n)=>Je(s)?(a&&t.watch.add(s),ne(r,s,n)):Array.isArray(s)?s.map(i=>(a&&t.watch.add(i),ne(r,i))):(a&&(t.watchAll=!0),r),mi=(s,t,r,a,n)=>t?{...r[s],types:{...r[s]&&r[s].types?r[s].types:{},[a]:n||!0}}:{},Rt=s=>Array.isArray(s)?s:[s],wr=()=>{let s=[];return{get observers(){return s},next:n=>{for(const i of s)i.next&&i.next(n)},subscribe:n=>(s.push(n),{unsubscribe:()=>{s=s.filter(i=>i!==n)}}),unsubscribe:()=>{s=[]}}},Fs=s=>Te(s)||!fn(s);function nt(s,t,r=new WeakSet){if(Fs(s)||Fs(t))return s===t;if(mt(s)&&mt(t))return s.getTime()===t.getTime();const a=Object.keys(s),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(s)||r.has(t))return!0;r.add(s),r.add(t);for(const i of a){const l=s[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=t[i];if(mt(l)&&mt(c)||we(l)&&we(c)||Array.isArray(l)&&Array.isArray(c)?!nt(l,c,r):l!==c)return!1}}return!0}var Ae=s=>we(s)&&!Object.keys(s).length,er=s=>s.type==="file",Ge=s=>typeof s=="function",cs=s=>{if(!Ys)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xn=s=>s.type==="select-multiple",tr=s=>s.type==="radio",pi=s=>tr(s)||Kt(s),Ps=s=>cs(s)&&s.isConnected;function hi(s,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)s=Ee(s)?a++:s[t[a++]];return s}function gi(s){for(const t in s)if(s.hasOwnProperty(t)&&!Ee(s[t]))return!1;return!0}function ke(s,t){const r=Array.isArray(t)?t:Ls(t)?[t]:Qs(t),a=r.length===1?s:hi(s,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(we(a)&&Ae(a)||Array.isArray(a)&&gi(a))&&ke(s,r.slice(0,-1)),s}var vn=s=>{for(const t in s)if(Ge(s[t]))return!0;return!1};function ds(s,t={}){const r=Array.isArray(s);if(we(s)||r)for(const a in s)Array.isArray(s[a])||we(s[a])&&!vn(s[a])?(t[a]=Array.isArray(s[a])?[]:{},ds(s[a],t[a])):Te(s[a])||(t[a]=!0);return t}function bn(s,t,r){const a=Array.isArray(s);if(we(s)||a)for(const n in s)Array.isArray(s[n])||we(s[n])&&!vn(s[n])?Ee(t)||Fs(r[n])?r[n]=Array.isArray(s[n])?ds(s[n],[]):{...ds(s[n])}:bn(s[n],Te(t)?{}:t[n],r[n]):r[n]=!nt(s[n],t[n]);return r}var Ot=(s,t)=>bn(s,t,ds(t));const Cr={value:!1,isValid:!1},kr={value:!0,isValid:!0};var yn=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Ee(s[0].attributes.value)?Ee(s[0].value)||s[0].value===""?kr:{value:s[0].value,isValid:!0}:kr:Cr}return Cr},jn=(s,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Ee(s)?s:t?s===""?NaN:s&&+s:r&&Je(s)?new Date(s):a?a(s):s;const Lr={isValid:!1,value:null};var Nn=s=>Array.isArray(s)?s.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Lr):Lr;function Er(s){const t=s.ref;return er(t)?t.files:tr(t)?Nn(s.refs).value:xn(t)?[...t.selectedOptions].map(({value:r})=>r):Kt(t)?yn(s.refs).value:jn(Ee(t.value)?s.ref.value:t.value,s)}var fi=(s,t,r,a)=>{const n={};for(const i of s){const l=ne(t,i);l&&je(n,i,l._f)}return{criteriaMode:r,names:[...s],fields:n,shouldUseNativeValidation:a}},us=s=>s instanceof RegExp,Dt=s=>Ee(s)?s:us(s)?s.source:we(s)?us(s.value)?s.value.source:s.value:s,Sr=s=>({isOnSubmit:!s||s===qe.onSubmit,isOnBlur:s===qe.onBlur,isOnChange:s===qe.onChange,isOnAll:s===qe.all,isOnTouch:s===qe.onTouched});const Pr="AsyncFunction";var xi=s=>!!s&&!!s.validate&&!!(Ge(s.validate)&&s.validate.constructor.name===Pr||we(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===Pr)),vi=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Mr=(s,t,r)=>!r&&(t.watchAll||t.watch.has(s)||[...t.watch].some(a=>s.startsWith(a)&&/^\.\w+/.test(s.slice(a.length))));const zt=(s,t,r,a)=>{for(const n of r||Object.keys(s)){const i=ne(s,n);if(i){const{_f:l,...c}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],n)&&!a)return!0;if(l.ref&&t(l.ref,l.name)&&!a)return!0;if(zt(c,t))break}else if(we(c)&&zt(c,t))break}}};function Or(s,t,r){const a=ne(s,r);if(a||Ls(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),l=ne(t,i),c=ne(s,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};n.pop()}return{name:r}}var bi=(s,t,r,a)=>{r(s);const{name:n,...i}=s;return Ae(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!a||qe.all))},yi=(s,t,r)=>!s||!t||s===t||Rt(s).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),ji=(s,t,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||s):(r?a.isOnBlur:n.isOnBlur)?!s:(r?a.isOnChange:n.isOnChange)?s:!0,Ni=(s,t)=>!Xs(ne(s,t)).length&&ke(s,t),wi=(s,t,r)=>{const a=Rt(ne(s,r));return je(a,"root",t[r]),je(s,r,a),s},is=s=>Je(s);function Dr(s,t,r="validate"){if(is(s)||Array.isArray(s)&&s.every(is)||Ke(s)&&!s)return{type:r,message:is(s)?s:"",ref:t}}var bt=s=>we(s)&&!us(s)?s:{value:s,message:""},_r=async(s,t,r,a,n,i)=>{const{ref:l,refs:c,required:d,maxLength:f,minLength:p,min:m,max:h,pattern:x,validate:g,name:u,valueAsNumber:v,mount:j}=s._f,w=ne(r,u);if(!j||t.has(u))return{};const E=c?c[0]:l,L=S=>{n&&E.reportValidity&&(E.setCustomValidity(Ke(S)?"":S||""),E.reportValidity())},y={},k=tr(l),A=Kt(l),U=k||A,P=(v||er(l))&&Ee(l.value)&&Ee(w)||cs(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,I=mi.bind(null,u,a,y),$=(S,G,W,b=Qe.maxLength,T=Qe.minLength)=>{const H=S?G:W;y[u]={type:S?b:T,message:H,ref:l,...I(S?b:T,H)}};if(i?!Array.isArray(w)||!w.length:d&&(!U&&(P||Te(w))||Ke(w)&&!w||A&&!yn(c).isValid||k&&!Nn(c).isValid)){const{value:S,message:G}=is(d)?{value:!!d,message:d}:bt(d);if(S&&(y[u]={type:Qe.required,message:G,ref:E,...I(Qe.required,G)},!a))return L(G),y}if(!P&&(!Te(m)||!Te(h))){let S,G;const W=bt(h),b=bt(m);if(!Te(w)&&!isNaN(w)){const T=l.valueAsNumber||w&&+w;Te(W.value)||(S=T>W.value),Te(b.value)||(G=T<b.value)}else{const T=l.valueAsDate||new Date(w),H=B=>new Date(new Date().toDateString()+" "+B),R=l.type=="time",V=l.type=="week";Je(W.value)&&w&&(S=R?H(w)>H(W.value):V?w>W.value:T>new Date(W.value)),Je(b.value)&&w&&(G=R?H(w)<H(b.value):V?w<b.value:T<new Date(b.value))}if((S||G)&&($(!!S,W.message,b.message,Qe.max,Qe.min),!a))return L(y[u].message),y}if((f||p)&&!P&&(Je(w)||i&&Array.isArray(w))){const S=bt(f),G=bt(p),W=!Te(S.value)&&w.length>+S.value,b=!Te(G.value)&&w.length<+G.value;if((W||b)&&($(W,S.message,G.message),!a))return L(y[u].message),y}if(x&&!P&&Je(w)){const{value:S,message:G}=bt(x);if(us(S)&&!w.match(S)&&(y[u]={type:Qe.pattern,message:G,ref:l,...I(Qe.pattern,G)},!a))return L(G),y}if(g){if(Ge(g)){const S=await g(w,r),G=Dr(S,E);if(G&&(y[u]={...G,...I(Qe.validate,G.message)},!a))return L(G.message),y}else if(we(g)){let S={};for(const G in g){if(!Ae(S)&&!a)break;const W=Dr(await g[G](w,r),E,G);W&&(S={...W,...I(G,W.message)},L(W.message),a&&(y[u]=S))}if(!Ae(S)&&(y[u]={ref:E,...S},!a))return y}}return L(!0),y};const Ci={mode:qe.onSubmit,reValidateMode:qe.onChange,shouldFocusError:!0};function ki(s={}){let t={...Ci,...s},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ge(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=we(t.defaultValues)||we(t.values)?Me(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Me(n),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const h={array:wr(),state:wr()},x=t.criteriaMode===qe.all,g=N=>M=>{clearTimeout(f),f=setTimeout(N,M)},u=async N=>{if(!t.disabled&&(p.isValid||m.isValid||N)){const M=t.resolver?Ae((await A()).errors):await P(a,!0);M!==r.isValid&&h.state.next({isValid:M})}},v=(N,M)=>{!t.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((N||Array.from(c.mount)).forEach(q=>{q&&(M?je(r.validatingFields,q,M):ke(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ae(r.validatingFields)}))},j=(N,M=[],q,te,Q=!0,C=!0)=>{if(te&&q&&!t.disabled){if(l.action=!0,C&&Array.isArray(ne(a,N))){const O=q(ne(a,N),te.argA,te.argB);Q&&je(a,N,O)}if(C&&Array.isArray(ne(r.errors,N))){const O=q(ne(r.errors,N),te.argA,te.argB);Q&&je(r.errors,N,O),Ni(r.errors,N)}if((p.touchedFields||m.touchedFields)&&C&&Array.isArray(ne(r.touchedFields,N))){const O=q(ne(r.touchedFields,N),te.argA,te.argB);Q&&je(r.touchedFields,N,O)}(p.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Ot(n,i)),h.state.next({name:N,isDirty:$(N,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else je(i,N,M)},w=(N,M)=>{je(r.errors,N,M),h.state.next({errors:r.errors})},E=N=>{r.errors=N,h.state.next({errors:r.errors,isValid:!1})},L=(N,M,q,te)=>{const Q=ne(a,N);if(Q){const C=ne(i,N,Ee(q)?ne(n,N):q);Ee(C)||te&&te.defaultChecked||M?je(i,N,M?C:Er(Q._f)):W(N,C),l.mount&&u()}},y=(N,M,q,te,Q)=>{let C=!1,O=!1;const J={name:N};if(!t.disabled){if(!q||te){(p.isDirty||m.isDirty)&&(O=r.isDirty,r.isDirty=J.isDirty=$(),C=O!==J.isDirty);const se=nt(ne(n,N),M);O=!!ne(r.dirtyFields,N),se?ke(r.dirtyFields,N):je(r.dirtyFields,N,!0),J.dirtyFields=r.dirtyFields,C=C||(p.dirtyFields||m.dirtyFields)&&O!==!se}if(q){const se=ne(r.touchedFields,N);se||(je(r.touchedFields,N,q),J.touchedFields=r.touchedFields,C=C||(p.touchedFields||m.touchedFields)&&se!==q)}C&&Q&&h.state.next(J)}return C?J:{}},k=(N,M,q,te)=>{const Q=ne(r.errors,N),C=(p.isValid||m.isValid)&&Ke(M)&&r.isValid!==M;if(t.delayError&&q?(d=g(()=>w(N,q)),d(t.delayError)):(clearTimeout(f),d=null,q?je(r.errors,N,q):ke(r.errors,N)),(q?!nt(Q,q):Q)||!Ae(te)||C){const O={...te,...C&&Ke(M)?{isValid:M}:{},errors:r.errors,name:N};r={...r,...O},h.state.next(O)}},A=async N=>{v(N,!0);const M=await t.resolver(i,t.context,fi(N||c.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return v(N),M},U=async N=>{const{errors:M}=await A(N);if(N)for(const q of N){const te=ne(M,q);te?je(r.errors,q,te):ke(r.errors,q)}else r.errors=M;return M},P=async(N,M,q={valid:!0})=>{for(const te in N){const Q=N[te];if(Q){const{_f:C,...O}=Q;if(C){const J=c.array.has(C.name),se=Q._f&&xi(Q._f);se&&p.validatingFields&&v([te],!0);const le=await _r(Q,c.disabled,i,x,t.shouldUseNativeValidation&&!M,J);if(se&&p.validatingFields&&v([te]),le[C.name]&&(q.valid=!1,M))break;!M&&(ne(le,C.name)?J?wi(r.errors,le,C.name):je(r.errors,C.name,le[C.name]):ke(r.errors,C.name))}!Ae(O)&&await P(O,M,q)}}return q.valid},I=()=>{for(const N of c.unMount){const M=ne(a,N);M&&(M._f.refs?M._f.refs.every(q=>!Ps(q)):!Ps(M._f.ref))&&z(N)}c.unMount=new Set},$=(N,M)=>!t.disabled&&(N&&M&&je(i,N,M),!nt(B(),n)),S=(N,M,q)=>ui(N,c,{...l.mount?i:Ee(M)?n:Je(N)?{[N]:M}:M},q,M),G=N=>Xs(ne(l.mount?i:n,N,t.shouldUnregister?ne(n,N,[]):[])),W=(N,M,q={})=>{const te=ne(a,N);let Q=M;if(te){const C=te._f;C&&(!C.disabled&&je(i,N,jn(M,C)),Q=cs(C.ref)&&Te(M)?"":M,xn(C.ref)?[...C.ref.options].forEach(O=>O.selected=Q.includes(O.value)):C.refs?Kt(C.ref)?C.refs.forEach(O=>{(!O.defaultChecked||!O.disabled)&&(Array.isArray(Q)?O.checked=!!Q.find(J=>J===O.value):O.checked=Q===O.value||!!Q)}):C.refs.forEach(O=>O.checked=O.value===Q):er(C.ref)?C.ref.value="":(C.ref.value=Q,C.ref.type||h.state.next({name:N,values:Me(i)})))}(q.shouldDirty||q.shouldTouch)&&y(N,Q,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&V(N)},b=(N,M,q)=>{for(const te in M){if(!M.hasOwnProperty(te))return;const Q=M[te],C=N+"."+te,O=ne(a,C);(c.array.has(N)||we(Q)||O&&!O._f)&&!mt(Q)?b(C,Q,q):W(C,Q,q)}},T=(N,M,q={})=>{const te=ne(a,N),Q=c.array.has(N),C=Me(M);je(i,N,C),Q?(h.array.next({name:N,values:Me(i)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&q.shouldDirty&&h.state.next({name:N,dirtyFields:Ot(n,i),isDirty:$(N,C)})):te&&!te._f&&!Te(C)?b(N,C,q):W(N,C,q),Mr(N,c)&&h.state.next({...r}),h.state.next({name:l.mount?N:void 0,values:Me(i)})},H=async N=>{l.mount=!0;const M=N.target;let q=M.name,te=!0;const Q=ne(a,q),C=se=>{te=Number.isNaN(se)||mt(se)&&isNaN(se.getTime())||nt(se,ne(i,q,se))},O=Sr(t.mode),J=Sr(t.reValidateMode);if(Q){let se,le;const Ne=M.type?Er(Q._f):ai(N),be=N.type===Nr.BLUR||N.type===Nr.FOCUS_OUT,Se=!vi(Q._f)&&!t.resolver&&!ne(r.errors,q)&&!Q._f.deps||ji(be,ne(r.touchedFields,q),r.isSubmitted,J,O),Ue=Mr(q,c,be);je(i,q,Ne),be?(Q._f.onBlur&&Q._f.onBlur(N),d&&d(0)):Q._f.onChange&&Q._f.onChange(N);const ye=y(q,Ne,be),Oe=!Ae(ye)||Ue;if(!be&&h.state.next({name:q,type:N.type,values:Me(i)}),Se)return(p.isValid||m.isValid)&&(t.mode==="onBlur"?be&&u():be||u()),Oe&&h.state.next({name:q,...Ue?{}:ye});if(!be&&Ue&&h.state.next({...r}),t.resolver){const{errors:Ze}=await A([q]);if(C(Ne),te){const vt=Or(r.errors,a,q),Et=Or(Ze,a,vt.name||q);se=Et.error,q=Et.name,le=Ae(Ze)}}else v([q],!0),se=(await _r(Q,c.disabled,i,x,t.shouldUseNativeValidation))[q],v([q]),C(Ne),te&&(se?le=!1:(p.isValid||m.isValid)&&(le=await P(a,!0)));te&&(Q._f.deps&&V(Q._f.deps),k(q,le,se,ye))}},R=(N,M)=>{if(ne(r.errors,M)&&N.focus)return N.focus(),1},V=async(N,M={})=>{let q,te;const Q=Rt(N);if(t.resolver){const C=await U(Ee(N)?N:Q);q=Ae(C),te=N?!Q.some(O=>ne(C,O)):q}else N?(te=(await Promise.all(Q.map(async C=>{const O=ne(a,C);return await P(O&&O._f?{[C]:O}:O)}))).every(Boolean),!(!te&&!r.isValid)&&u()):te=q=await P(a);return h.state.next({...!Je(N)||(p.isValid||m.isValid)&&q!==r.isValid?{}:{name:N},...t.resolver||!N?{isValid:q}:{},errors:r.errors}),M.shouldFocus&&!te&&zt(a,R,N?Q:c.mount),te},B=N=>{const M={...l.mount?i:n};return Ee(N)?M:Je(N)?ne(M,N):N.map(q=>ne(M,q))},X=(N,M)=>({invalid:!!ne((M||r).errors,N),isDirty:!!ne((M||r).dirtyFields,N),error:ne((M||r).errors,N),isValidating:!!ne(r.validatingFields,N),isTouched:!!ne((M||r).touchedFields,N)}),re=N=>{N&&Rt(N).forEach(M=>ke(r.errors,M)),h.state.next({errors:N?r.errors:{}})},_=(N,M,q)=>{const te=(ne(a,N,{_f:{}})._f||{}).ref,Q=ne(r.errors,N)||{},{ref:C,message:O,type:J,...se}=Q;je(r.errors,N,{...se,...M,ref:te}),h.state.next({name:N,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&te&&te.focus&&te.focus()},Z=(N,M)=>Ge(N)?h.state.subscribe({next:q=>N(S(void 0,M),q)}):S(N,M,!0),D=N=>h.state.subscribe({next:M=>{yi(N.name,M.name,N.exact)&&bi(M,N.formState||p,st,N.reRenderRoot)&&N.callback({values:{...i},...r,...M})}}).unsubscribe,Y=N=>(l.mount=!0,m={...m,...N.formState},D({...N,formState:m})),z=(N,M={})=>{for(const q of N?Rt(N):c.mount)c.mount.delete(q),c.array.delete(q),M.keepValue||(ke(a,q),ke(i,q)),!M.keepError&&ke(r.errors,q),!M.keepDirty&&ke(r.dirtyFields,q),!M.keepTouched&&ke(r.touchedFields,q),!M.keepIsValidating&&ke(r.validatingFields,q),!t.shouldUnregister&&!M.keepDefaultValue&&ke(n,q);h.state.next({values:Me(i)}),h.state.next({...r,...M.keepDirty?{isDirty:$()}:{}}),!M.keepIsValid&&u()},ee=({disabled:N,name:M})=>{(Ke(N)&&l.mount||N||c.disabled.has(M))&&(N?c.disabled.add(M):c.disabled.delete(M))},de=(N,M={})=>{let q=ne(a,N);const te=Ke(M.disabled)||Ke(t.disabled);return je(a,N,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:N}},name:N,mount:!0,...M}}),c.mount.add(N),q?ee({disabled:Ke(M.disabled)?M.disabled:t.disabled,name:N}):L(N,!0,M.value),{...te?{disabled:M.disabled||t.disabled}:{},...t.progressive?{required:!!M.required,min:Dt(M.min),max:Dt(M.max),minLength:Dt(M.minLength),maxLength:Dt(M.maxLength),pattern:Dt(M.pattern)}:{},name:N,onChange:H,onBlur:H,ref:Q=>{if(Q){de(N,M),q=ne(a,N);const C=Ee(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,O=pi(C),J=q._f.refs||[];if(O?J.find(se=>se===C):C===q._f.ref)return;je(a,N,{_f:{...q._f,...O?{refs:[...J.filter(Ps),C,...Array.isArray(ne(n,N))?[{}]:[]],ref:{type:C.type,name:N}}:{ref:C}}}),L(N,!1,void 0,C)}else q=ne(a,N,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||M.shouldUnregister)&&!(oi(c.array,N)&&l.action)&&c.unMount.add(N)}}},oe=()=>t.shouldFocusError&&zt(a,R,c.mount),ge=N=>{Ke(N)&&(h.state.next({disabled:N}),zt(a,(M,q)=>{const te=ne(a,q);te&&(M.disabled=te._f.disabled||N,Array.isArray(te._f.refs)&&te._f.refs.forEach(Q=>{Q.disabled=te._f.disabled||N}))},0,!1))},_e=(N,M)=>async q=>{let te;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let Q=Me(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:C,values:O}=await A();r.errors=C,Q=Me(O)}else await P(a);if(c.disabled.size)for(const C of c.disabled)ke(Q,C);if(ke(r.errors,"root"),Ae(r.errors)){h.state.next({errors:{}});try{await N(Q,q)}catch(C){te=C}}else M&&await M({...r.errors},q),oe(),setTimeout(oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ae(r.errors)&&!te,submitCount:r.submitCount+1,errors:r.errors}),te)throw te},ze=(N,M={})=>{ne(a,N)&&(Ee(M.defaultValue)?T(N,Me(ne(n,N))):(T(N,M.defaultValue),je(n,N,Me(M.defaultValue))),M.keepTouched||ke(r.touchedFields,N),M.keepDirty||(ke(r.dirtyFields,N),r.isDirty=M.defaultValue?$(N,Me(ne(n,N))):$()),M.keepError||(ke(r.errors,N),p.isValid&&u()),h.state.next({...r}))},We=(N,M={})=>{const q=N?Me(N):n,te=Me(q),Q=Ae(N),C=Q?n:te;if(M.keepDefaultValues||(n=q),!M.keepValues){if(M.keepDirtyValues){const O=new Set([...c.mount,...Object.keys(Ot(n,i))]);for(const J of Array.from(O))ne(r.dirtyFields,J)?je(C,J,ne(i,J)):T(J,ne(C,J))}else{if(Ys&&Ee(N))for(const O of c.mount){const J=ne(a,O);if(J&&J._f){const se=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(cs(se)){const le=se.closest("form");if(le){le.reset();break}}}}if(M.keepFieldsRef)for(const O of c.mount)T(O,ne(C,O));else a={}}i=t.shouldUnregister?M.keepDefaultValues?Me(n):{}:Me(C),h.array.next({values:{...C}}),h.state.next({values:{...C}})}c={mount:M.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!M.keepIsValid||!!M.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:Q?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!nt(N,n)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Q?{}:M.keepDirtyValues?M.keepDefaultValues&&i?Ot(n,i):r.dirtyFields:M.keepDefaultValues&&N?Ot(n,N):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},fe=(N,M)=>We(Ge(N)?N(i):N,M),xt=(N,M={})=>{const q=ne(a,N),te=q&&q._f;if(te){const Q=te.refs?te.refs[0]:te.ref;Q.focus&&(Q.focus(),M.shouldSelect&&Ge(Q.select)&&Q.select())}},st=N=>{r={...r,...N}},Xe={control:{register:de,unregister:z,getFieldState:X,handleSubmit:_e,setError:_,_subscribe:D,_runSchema:A,_focusError:oe,_getWatch:S,_getDirty:$,_setValid:u,_setFieldArray:j,_setDisabledField:ee,_setErrors:E,_getFieldArray:G,_reset:We,_resetDefaultValues:()=>Ge(t.defaultValues)&&t.defaultValues().then(N=>{fe(N,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ge,_subjects:h,_proxyFormState:p,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(N){l=N},get _defaultValues(){return n},get _names(){return c},set _names(N){c=N},get _formState(){return r},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:Y,trigger:V,register:de,handleSubmit:_e,watch:Z,setValue:T,getValues:B,reset:fe,resetField:ze,clearErrors:re,unregister:z,setError:_,setFocus:xt,getFieldState:X};return{...Xe,formControl:Xe}}function wn(s={}){const t=Le.useRef(void 0),r=Le.useRef(void 0),[a,n]=Le.useState({isDirty:!1,isValidating:!1,isLoading:Ge(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:Ge(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:a},s.defaultValues&&!Ge(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:l,...c}=ki(s);t.current={...c,formState:a}}const i=t.current.control;return i._options=s,di(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,l},[i]),Le.useEffect(()=>i._disableForm(s.disabled),[i,s.disabled]),Le.useEffect(()=>{s.mode&&(i._options.mode=s.mode),s.reValidateMode&&(i._options.reValidateMode=s.reValidateMode)},[i,s.mode,s.reValidateMode]),Le.useEffect(()=>{s.errors&&(i._setErrors(s.errors),i._focusError())},[i,s.errors]),Le.useEffect(()=>{s.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,s.shouldUnregister]),Le.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),Le.useEffect(()=>{s.values&&!nt(s.values,r.current)?(i._reset(s.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=s.values,n(l=>({...l}))):i._resetDefaultValues()},[i,s.values]),Le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=ci(a,i),t.current}function Cn({mode:s,hideForONG:t=!1}){const r=()=>{window.location.href="/api/auth/google"};return t?null:e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O contin√∫a con"})})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:e.jsx("button",{onClick:r,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})})}),e.jsx("p",{className:"mt-4 text-center text-xs text-gray-500",children:s==="login"?"Otras formas de acceder a tu cuenta":"Otras formas de crear tu cuenta"})]})}const Li={login:"Iniciando sesi√≥n...",register:"Creando tu cuenta...",logout:"Cerrando sesi√≥n...",verify:"Verificando...","reset-password":"Restableciendo contrase√±a...","forgot-password":"Enviando enlace de recuperaci√≥n..."},Ei={login:"¬°Bienvenido de vuelta!",register:"¬°Cuenta creada exitosamente!",logout:"Sesi√≥n cerrada correctamente",verify:"Verificaci√≥n exitosa","reset-password":"Contrase√±a restablecida","forgot-password":"Correo enviado exitosamente"};function kn(){const[s,t]=o.useState({isLoading:!1,operation:null,message:""}),r=o.useCallback((i,l)=>{t({isLoading:!0,operation:i,message:l||Li[i]})},[]),a=o.useCallback(()=>{t({isLoading:!1,operation:null,message:""})},[]),n=o.useCallback((i,l,c={})=>{const{loadingMessage:d,successMessage:f,errorMessage:p,showSuccessToast:m=!0,showErrorToast:h=!0}=c;return async(...x)=>{r(i,d);try{const g=await l(...x);return m&&K.success(f||Ei[i]),g}catch(g){if(h){const u=g instanceof Error?g.message:p||"Ha ocurrido un error";K.error(u)}throw g}finally{a()}}},[r,a]);return{isLoading:s.isLoading,operation:s.operation,message:s.message,startLoading:r,stopLoading:a,withAuthLoading:n}}function Si(){const{isLoading:s,message:t,withAuthLoading:r}=kn(),a=o.useCallback((n,i)=>r("login",n,{loadingMessage:i,showSuccessToast:!0,showErrorToast:!0}),[r]);return{isLoading:s,message:t,withLoginLoading:a}}function Pi(){const{isLoading:s,message:t,withAuthLoading:r}=kn(),a=o.useCallback((n,i)=>r("register",n,{loadingMessage:i,showSuccessToast:!1,showErrorToast:!0}),[r]);return{isLoading:s,message:t,withRegisterLoading:a}}function Mi({size:s="md",color:t="currentColor",className:r=""}){const n={sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-3 h-3"}[s];return e.jsxs("div",{className:`flex items-center justify-center space-x-1 ${r}`,children:[e.jsx("div",{className:`${n} rounded-full animate-bounce`,style:{backgroundColor:t,animationDelay:"0ms",animationDuration:"1.4s"}}),e.jsx("div",{className:`${n} rounded-full animate-bounce`,style:{backgroundColor:t,animationDelay:"160ms",animationDuration:"1.4s"}}),e.jsx("div",{className:`${n} rounded-full animate-bounce`,style:{backgroundColor:t,animationDelay:"320ms",animationDuration:"1.4s"}})]})}function Oi({size:s=24,color:t="#7c3aed",thickness:r=3,className:a=""}){return e.jsx("div",{className:`inline-block animate-spin rounded-full ${a}`,style:{width:s,height:s,border:`${r}px solid rgba(124, 58, 237, 0.1)`,borderTopColor:t}})}function Ln({isLoading:s,children:t,className:r="",spinnerSize:a=16,variant:n="spinner"}){return e.jsxs("div",{className:`flex items-center justify-center ${r}`,children:[s&&e.jsx("span",{className:"mr-2",children:n==="dots"?e.jsx(Mi,{size:"sm"}):e.jsx(Oi,{size:a,color:"currentColor"})}),t]})}function Di({isOpen:s,bannedReason:t,bannedUntil:r,permanent:a=!1,onClose:n}){if(!s)return null;const i=l=>new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 rounded-t-2xl relative",children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col items-center text-white text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-3",children:e.jsx(nn,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Cuenta Suspendida"})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-200",children:a?"Tu cuenta ha sido baneada permanentemente":`Tu cuenta ha sido suspendida temporalmente hasta el ${r?i(r):"que un administrador la revise"}`})}),e.jsxs("div",{className:"text-left space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Raz√≥n del baneo:"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:t||"Violaci√≥n de las normas de la comunidad"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2 text-sm",children:"‚ÑπÔ∏è Informaci√≥n importante"}),e.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"No podr√°s iniciar sesi√≥n ni publicar contenido"}),e.jsx("li",{children:"Tus publicaciones y comentarios anteriores pueden ser eliminados"}),a&&e.jsx("li",{className:"font-bold",children:"El baneo es permanente y no puede ser revertido"}),!a&&r&&e.jsxs("li",{children:["Podr√°s volver a acceder a tu cuenta despu√©s del ",i(r)]})]})]}),!a&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-200 mb-2 text-sm",children:"‚ö†Ô∏è Para evitar futuros problemas"}),e.jsxs("ul",{className:"text-xs text-amber-800 dark:text-amber-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Respeta las normas de la comunidad"}),e.jsx("li",{children:"Evita lenguaje ofensivo o discriminatorio"}),e.jsx("li",{children:"No publiques spam o contenido inapropiado"}),e.jsx("li",{children:"Mant√©n un tono respetuoso en tus interacciones"})]})]})]})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-b-2xl",children:e.jsx("button",{onClick:n,className:"w-full px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:"Entendido"})})]})})}function _i(){const[s,t]=o.useState(!1),[r,a]=o.useState(!1),[n,i]=o.useState({}),{login:l}=Ce(),{isLoading:c,message:d}=Si(),f=Re(),{register:p,handleSubmit:m,formState:{errors:h}}=wn(),x=async g=>{try{((await l(g.email,g.password)).tipo_usuario??0)>=3||g.email.toLowerCase()==="admin@demos.local"?f("/admin"):f("/dashboard")}catch(u){u.response?.status===403&&u.response.data?.userBanned?(i({reason:u.response.data.reason,bannedUntil:u.response.data.bannedUntil,permanent:u.response.data.permanent}),a(!0)):K.error("Credenciales inv√°lidas. Int√©ntalo de nuevo.")}};return e.jsxs(e.Fragment,{children:[e.jsx(Di,{isOpen:r,bannedReason:n.reason,bannedUntil:n.bannedUntil,permanent:n.permanent,onClose:()=>a(!1)}),e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg)"},children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(ie,{to:"/",className:"inline-flex items-center mb-4",style:{color:"var(--link)"},children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(De,{className:"w-6 h-6 text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"Bienvenido de vuelta"}),e.jsx("p",{style:{color:"var(--color-muted)"},children:"Inicia sesi√≥n en tu cuenta de Demos+"})]}),e.jsxs("div",{className:"card p-8",children:[e.jsxs("form",{onSubmit:m(x),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Correo electr√≥nico"}),e.jsx("input",{type:"email",...p("email",{required:"El email es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv√°lido"}}),className:"input-field",placeholder:"tu@email.com"}),h.email&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:h.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:s?"text":"password",...p("password",{required:"La contrase√±a es requerida"}),className:"input-field pr-10",placeholder:"Tu contrase√±a"}),e.jsx("button",{type:"button",onClick:()=>t(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?e.jsx($t,{className:"h-5 w-5",style:{color:"var(--color-muted)"}}):e.jsx(ht,{className:"h-5 w-5",style:{color:"var(--color-muted)"}})})]}),h.password&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:h.password.message})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(ie,{to:"/forgot-password",className:"text-sm font-medium",style:{color:"var(--link)"},children:"¬øOlvidaste tu contrase√±a?"})}),e.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-lg",children:e.jsx(Ln,{isLoading:c,variant:"dots",children:c?d:"Iniciar sesi√≥n"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm",style:{color:"var(--color-muted)"},children:["¬øNo tienes una cuenta?"," ",e.jsx(ie,{to:"/register",className:"font-medium",style:{color:"var(--link)"},children:"Reg√≠strate aqu√≠"})]})}),e.jsx(Cn,{mode:"login"})]})]})})]})}const Ti="modulepreload",Ii=function(s){return"/"+s},Tr={},qt=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");n=d(r.map(f=>{if(f=Ii(f),f in Tr)return;Tr[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const h=document.createElement("link");if(h.rel=p?"stylesheet":Ti,p||(h.as="script"),h.crossOrigin="",h.href=f,c&&h.setAttribute("nonce",c),document.head.appendChild(h),p)return new Promise((x,g)=>{h.addEventListener("load",x),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function En({value:s,onChange:t,placeholder:r="Ingresa una direcci√≥n en C√≥rdoba",className:a="",disabled:n=!1,onSelect:i}){const[l,c]=o.useState([]),[d,f]=o.useState(!1),[p,m]=o.useState(""),h=o.useRef(null),[x,g]=o.useState(!1),u=o.useRef(null),[v,j]=o.useState(!1);o.useEffect(()=>{const I=setTimeout(()=>{if(!s||s.length<3){c([]),m(""),j(!1);return}f(!0),j(!0);const $=s.split(",").map(G=>G.trim());let S=s;$.length>1?S=`${$[0]}, ${$[1]}, C√≥rdoba Capital, C√≥rdoba, Argentina`:S=`${s}, C√≥rdoba Capital, C√≥rdoba, Argentina`,fetch(`${Fe}/api/location/autocomplete?q=${encodeURIComponent(S)}&limit=15&countrycodes=ar&dedupe=0&addressdetails=1&normalizeaddress=1&viewbox=-64.3,-31.3,-64.0,-31.5&bounded=1`).then(async G=>G.ok?G.json():(L(),[])).then(G=>{if(!Array.isArray(G)){L();return}const b=G.filter(R=>{if(!R.address)return!1;const V=(R.display_name||"").toLowerCase(),B=V.includes("c√≥rdoba")||V.includes("cordoba"),X=V.includes("misiones")||V.includes("buenos aires")||V.includes("santa fe")||V.includes("mendoza")||V.includes("salta")||V.includes("tucum√°n");return B&&!X}).map(R=>{const V=R.address?.road||R.address?.street||"",B=R.address?.house_number||"",X=R.address?.neighbourhood||R.address?.suburb||R.address?.quarter||"",re=R.address?.city||R.address?.town||R.address?.municipality||"C√≥rdoba",_=R.address?.postcode||"";let Z="",D="";const Y=[];return V&&B?(Y.push(`${V} ${B}`),Z=`${V} ${B}`):V&&(Y.push(V),Z=V),X&&X!==re&&(Y.push(X),Z||(Z=X)),re!==X&&Y.push(re),_&&Y.push(`CP ${_}`),Y.push("C√≥rdoba"),Y.push("Argentina"),D=Y.join(", "),!Z&&Y.length>0&&(Z=Y[0]),(!D||D==="C√≥rdoba, Argentina")&&(D=R.display_name,Z=R.display_name.split(",")[0]),{display:Z,full:D,type:"api"}}),T=E(),H=[T];if(b.forEach(R=>{R.full.toLowerCase()===T.full.toLowerCase()||H.push(R)}),c(H),!x&&H.length>0){const R=H[0];R.full.toLowerCase().startsWith(s.toLowerCase())?m(R.full):m("")}else m("")}).catch(()=>{L()}).finally(()=>f(!1))},300);return()=>clearTimeout(I)},[s,"pk.1a7fa159e70750e56ff92633137209e5"]);const E=()=>{const I=s.split(",").map(S=>S.trim());let $="";return I.length>=3?($=I.join(", "),$.toLowerCase().includes("c√≥rdoba")?$.toLowerCase().includes("argentina")||($+=", Argentina"):$+=", C√≥rdoba, Argentina"):I.length===2?$=`${I[0]}, ${I[1]}, C√≥rdoba, CP X5020, Argentina`:$=`${s}, C√≥rdoba, CP X5000, Argentina`,{display:s,full:$,type:"manual"}},L=()=>{const I=E();c([I]),j(!0),m(I.full)},y=I=>{if(I.key==="Enter"){if(I.preventDefault(),l.length>0)k(l[0]);else if(s.length>=3){const $=E();t($.full),j(!1),c([]),m(""),i&&i($.full)}}else(I.key==="Tab"||I.key==="ArrowRight")&&p&&p!==s?(I.preventDefault(),t(p),j(!1),c([]),m(""),i&&i(p)):I.key==="Escape"?(j(!1),c([]),m("")):I.key==="ArrowDown"&&l.length>0&&I.preventDefault()},k=I=>{t(I.full),j(!1),c([]),m(""),g(!1),i&&i(I.full),h.current?.blur()},A=I=>{t(I),j(!0),g(!0),m(""),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{g(!1)},500)},U=()=>{s.length>=3&&l.length>0&&j(!0)},P=()=>{setTimeout(()=>{j(!1)},200)};return e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{className:"relative",children:[p&&p!==s&&s.length>0&&!x&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none flex items-center px-3",style:{color:"transparent",whiteSpace:"pre",overflow:"hidden"},children:[e.jsx("span",{style:{color:"transparent"},children:s}),e.jsx("span",{style:{color:"#9CA3AF",fontSize:"inherit"},children:p.slice(s.length)})]}),e.jsx("input",{ref:h,type:"text",value:s,onChange:I=>A(I.target.value),onKeyDown:y,onFocus:U,onBlur:P,placeholder:r,disabled:n,className:`w-full ${a}`,autoComplete:"off",style:{position:"relative",zIndex:1,backgroundColor:"transparent"}}),d&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})})]}),v&&l.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 rounded-md shadow-lg max-h-80 overflow-y-auto location-suggestions",children:l.map((I,$)=>{const S=I.type==="manual",G=$===0;return e.jsx("button",{type:"button",onClick:()=>k(I),className:`w-full px-4 py-3 text-left focus:outline-none border-b last:border-b-0 transition-colors location-suggestions__option ${G?"location-suggestions__option--highlight":""}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(lt,{className:"w-4 h-4 mr-3 mt-0.5 flex-shrink-0",style:{color:G?"var(--accent)":"var(--color-muted)"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm break-words",children:I.full}),G&&e.jsx("div",{className:"text-xs mt-1 font-medium location-suggestions__primary-hint",children:"‚úì Presiona ENTER o haz clic para usar esta direcci√≥n"}),S&&!G&&e.jsx("div",{className:"text-xs mt-1 location-suggestions__hint",children:"Usar direcci√≥n exacta como la escribiste"}),!S&&!G&&e.jsx("div",{className:"text-xs mt-1 location-suggestions__source",children:"Sugerencia de LocationIQ"})]})]})},$)})}),s.length>0&&s.length<3&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Escribe al menos 3 caracteres para ver sugerencias"}),s.length>=3&&l.length===0&&!d&&e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:'üí° Escribe tu direcci√≥n completa: "Calle N√∫mero, Barrio" y presiona ENTER'}),s.length>=3&&l.length>0&&!v&&e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"‚úì Direcci√≥n guardada. Haz clic para editar."}),s.length>=3&&l.length>0&&v&&e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"‚Üë‚Üì Navega | ENTER para seleccionar | ESC para cerrar"})]})}function Ai(){const[s,t]=o.useState(""),[r,a]=o.useState("person"),[n,i]=o.useState(!1),[l,c]=o.useState(!1),[d,f]=o.useState(!1),[p,m]=o.useState(""),[h,x]=o.useState(null),[g,u]=o.useState(!1),[v,j]=o.useState(!1),[w,E]=o.useState(!1),[L,y]=o.useState(!1),{register:k}=Ce(),{isLoading:A,message:U,withRegisterLoading:P}=Pi(),I=Re(),{register:$,handleSubmit:S,watch:G,setValue:W,formState:{errors:b}}=wn(),T=G("password"),H=G("cuit"),R=async()=>{const B=H;if(!B||B.length<11){K.error("Por favor, ingresa un CUIT v√°lido");return}u(!0);try{const{API_BASE_URL:X}=await qt(async()=>{const{API_BASE_URL:_}=await Promise.resolve().then(()=>Ft);return{API_BASE_URL:_}},void 0),re=await fetch(`${X}/api/ong/search-by-cuit?cuit=${B}`);if(re.ok){const _=await re.json();x(_),y(!1),_.domicilioCompleto&&(W("location",_.domicilioCompleto),t(_.domicilioCompleto)),_.email&&W("email",_.email),K.success(`‚úÖ ONG encontrada en SISA: ${_.nombre}`)}else x(null),y(!0),j(!0)}catch(X){console.error("Error buscando ONG:",X),x(null),y(!1),K.error("Error al verificar la ONG. Por favor, intenta nuevamente.")}finally{u(!1)}},V=P(async B=>{if(B.password!==B.confirmPassword)throw K.error("Las contrase√±as no coinciden"),new Error("Las contrase√±as no coinciden");if(r==="ong"&&L)try{const{API_BASE_URL:Y}=await qt(async()=>{const{API_BASE_URL:de}=await Promise.resolve().then(()=>Ft);return{API_BASE_URL:de}},void 0),z=await fetch(`${Y}/api/ong-requests/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B.email,password:B.password,nombre_organizacion:B.firstName,cuit:B.cuit,ubicacion:B.location,descripcion:B.organization||"",telefono:"",sitio_web:""})}),ee=await z.json();if(z.ok)E(!0),K.success("¬°Solicitud enviada exitosamente!");else throw K.error(ee.error||"Error al enviar la solicitud"),new Error(ee.error||"Error al enviar la solicitud");return}catch(Y){throw console.error("Error enviando solicitud:",Y),K.error("Error al enviar la solicitud. Por favor, intenta nuevamente."),Y}let X=1,re=B.firstName,_=B.lastName,Z=B.organization;if(r==="ong"&&(X=2,re=B.firstName,_="",Z=B.organization||""),(await k({email:B.email,password:B.password,firstName:re,lastName:_,role:r,organization:Z,location:B.location,tipo_usuario:X,cuit:r==="ong"?B.cuit:void 0}))?.requiresVerification){m(B.email),f(!0);return}K.success("¬°Registro exitoso! Bienvenido a Demos+"),I("/dashboard")});return w?e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg)"},children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl border text-center",style:{backgroundColor:"var(--color-card)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"¬°Solicitud enviada con √©xito!"}),e.jsx("p",{className:"text-lg mb-4",style:{color:"var(--color-muted)"},children:"Tu solicitud de registro est√° siendo revisada"})]}),e.jsxs("div",{className:"p-6 rounded-lg mb-6",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx("p",{className:"text-left mb-4",style:{color:"var(--color-fg)"},children:e.jsx("strong",{children:"¬øQu√© sigue?"})}),e.jsxs("ul",{className:"text-left space-y-2",style:{color:"var(--color-muted)"},children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),e.jsx("span",{children:"Nuestro equipo verificar√° que tu organizaci√≥n es leg√≠tima"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),e.jsx("span",{children:"Te enviaremos un email cuando tu cuenta sea aprobada"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),e.jsx("span",{children:"Este proceso suele tardar 24-48 horas"})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsx("p",{className:"text-sm",style:{color:"var(--color-fg)"},children:e.jsx("strong",{children:"üí° ¬øPor qu√© hacemos esto?"})}),e.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-muted)"},children:"Verificamos todas las organizaciones para garantizar que solo ONGs reales formen parte de nuestra plataforma, protegiendo as√≠ a toda la comunidad."})]}),e.jsx(ie,{to:"/",className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:"var(--accent)",color:"white"},children:"Volver al inicio"})]})})}):d?e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg)"},children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl border text-center",style:{backgroundColor:"var(--color-card)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"¬°Revisa tu correo!"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--color-muted)"},children:["Te hemos enviado un correo de verificaci√≥n a"," ",e.jsx("strong",{className:"text-purple-400",children:p})]})]}),e.jsx("div",{className:"rounded-lg p-6 mb-6",style:{background:"color-mix(in oklab, var(--accent) 6%, transparent)"},children:e.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--color-fg)"},children:"Haz clic en el enlace del correo para verificar tu cuenta y completar el registro. Una vez verificado, podr√°s iniciar sesi√≥n autom√°ticamente."})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"w-full btn-primary",children:"Intentar de nuevo"}),e.jsx(ie,{to:"/login",className:"block w-full text-center border-2 py-3 rounded-lg font-semibold transition-colors",style:{borderColor:"var(--accent)",color:"var(--accent)"},children:"Ir a iniciar sesi√≥n"})]})]})})}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg)"},children:[v&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:e.jsxs("div",{className:"relative max-w-lg w-full rounded-2xl p-8 shadow-2xl border",style:{backgroundColor:"var(--color-card)",borderColor:"var(--color-border)"},children:[e.jsx("button",{onClick:()=>j(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"ONG no encontrada en SISA"}),e.jsx("p",{className:"text-sm",style:{color:"var(--color-muted)"},children:"Tu organizaci√≥n no fue encontrada en el registro oficial SISA"})]}),e.jsxs("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx("p",{className:"font-semibold mb-3",style:{color:"var(--color-fg)"},children:"¬øQu√© significa esto?"}),e.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-muted)"},children:"Para garantizar que solo organizaciones leg√≠timas se registren en nuestra plataforma, necesitamos verificar manualmente tu organizaci√≥n."}),e.jsx("p",{className:"font-semibold mb-2",style:{color:"var(--color-fg)"},children:"Completa el formulario de registro y env√≠a tu solicitud. Te notificaremos por email cuando sea aprobada."})]}),e.jsxs("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-fg)"},children:"üí° ¬øPor qu√© hacemos esto?"}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-muted)"},children:"Verificamos todas las organizaciones para proteger a donantes y voluntarios, asegurando que solo ONGs reales formen parte de Demos+."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"w-full py-3 rounded-lg font-semibold transition-colors",style:{backgroundColor:"var(--accent)",color:"white"},children:"Continuar completando formulario"}),e.jsx("button",{onClick:()=>{j(!1),y(!1)},className:"w-full py-3 rounded-lg font-semibold transition-colors border-2",style:{borderColor:"var(--color-border)",color:"var(--color-fg)"},children:"Cancelar"})]})]})}),e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(ie,{to:"/",className:"inline-flex items-center mb-4",style:{color:"var(--link)"},children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),e.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"√önete a Demos+"}),e.jsx("p",{style:{color:"var(--color-muted)"},children:"Crea tu cuenta y comienza a hacer la diferencia"})]}),e.jsxs("div",{className:"card p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:"var(--color-fg)"},children:"¬øC√≥mo quieres participar?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>a("person"),className:`p-4 rounded-lg border-2 transition-all ${r==="person"?"border-purple-500":"border"}`,style:r==="person"?{background:"color-mix(in oklab, #7c3aed 12%, transparent)",color:"var(--color-fg)",borderColor:"#7c3aed"}:{background:"var(--color-card)",color:"var(--color-fg)",borderColor:"var(--color-border)"},children:[e.jsx(it,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"Persona"}),e.jsx("div",{className:"text-xs",style:{color:"var(--color-muted)"},children:"Donar o hacer voluntariado"})]}),e.jsxs("button",{type:"button",onClick:()=>a("ong"),className:`p-4 rounded-lg border-2 transition-all ${r==="ong"?"border-emerald-500":"border"}`,style:r==="ong"?{background:"color-mix(in oklab, #10b981 14%, transparent)",color:"var(--color-fg)",borderColor:"#10b981"}:{background:"var(--color-card)",color:"var(--color-fg)",borderColor:"var(--color-border)"},children:[e.jsx(tt,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"ONG"}),e.jsx("div",{className:"text-xs",style:{color:"var(--color-muted)"},children:"Organizaci√≥n sin fines de lucro"})]})]})]}),e.jsxs("form",{onSubmit:S(V),className:"space-y-6",children:[r==="person"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Nombre"}),e.jsx("input",{type:"text",...$("firstName",{required:"El nombre es requerido"}),className:"input-field",placeholder:"Tu nombre"}),b.firstName&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Apellido"}),e.jsx("input",{type:"text",...$("lastName",{required:"El apellido es requerido"}),className:"input-field",placeholder:"Tu apellido"}),b.lastName&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.lastName.message})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Nombre de la organizaci√≥n"}),e.jsx("input",{type:"text",...$("firstName",{required:"El nombre de la organizaci√≥n es requerido"}),className:"input-field",placeholder:"Nombre de la ONG"}),b.firstName&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.firstName.message})]}),r==="ong"&&e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:["CUIT ",e.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),e.jsx("input",{type:"text",...$("cuit",{required:"El CUIT es requerido para verificaci√≥n en SISA",pattern:{value:/^\d{2}-?\d{8}-?\d{1}$/,message:"Formato de CUIT inv√°lido (ej: 30-71710094-4)"}}),className:"input-field",placeholder:"30-12345678-9",maxLength:13}),b.cuit&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.cuit.message}),e.jsx("button",{type:"button",onClick:R,disabled:g||!H||H.length<11,className:"mt-2 w-full py-2 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2",style:{backgroundColor:g||!H||H.length<11?"var(--color-muted)":"var(--accent)",color:g||!H||H.length<11?"var(--color-fg-muted)":"white",cursor:g||!H||H.length<11?"not-allowed":"pointer",opacity:g||!H||H.length<11?.5:1},children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Verificando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Verificar CUIT en SISA"]})}),h&&e.jsx("div",{className:"mt-3 p-4 rounded-lg border",style:{backgroundColor:"color-mix(in oklab, #10b981 10%, transparent)",borderColor:"color-mix(in oklab, #10b981 30%, transparent)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6",style:{color:"#10b981"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"#10b981"},children:"‚úÖ ONG verificada en SISA"}),e.jsx("p",{className:"text-sm mt-1 font-medium",style:{color:"var(--color-fg)"},children:h.nombre}),e.jsxs("div",{className:"mt-2 text-xs",style:{color:"var(--color-muted)"},children:[e.jsxs("p",{children:["üìç ",h.provinciaDomicilio]}),h.telefono&&e.jsxs("p",{children:["üìû ",h.telefono]})]})]})]})}),e.jsx("p",{className:"mt-2 text-xs",style:{color:"var(--color-muted)"},children:'Ingresa el CUIT de tu organizaci√≥n y haz clic en "Verificar" para validar los datos en el registro SISA.'})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Correo electr√≥nico"}),e.jsx("input",{type:"email",...$("email",{required:"El email es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inv√°lido"}}),className:"input-field",placeholder:"tu@email.com"}),b.email&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Ubicaci√≥n"}),e.jsx(En,{value:s,onChange:B=>{t(B),W("location",B)},onSelect:B=>{W("location",B)},placeholder:"Calle, n√∫mero, barrio, ciudad en C√≥rdoba",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",...$("password",{required:"La contrase√±a es requerida",minLength:{value:8,message:"La contrase√±a debe tener al menos 8 caracteres"}}),className:"input-field pr-10",placeholder:"M√≠nimo 8 caracteres"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?e.jsx($t,{className:"h-5 w-5",style:{color:"var(--color-muted)"}}):e.jsx(ht,{className:"h-5 w-5",style:{color:"var(--color-muted)"}})})]}),b.password&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Confirmar contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",...$("confirmPassword",{required:"Confirma tu contrase√±a",validate:B=>B===T||"Las contrase√±as no coinciden"}),className:"input-field pr-10",placeholder:"Repite tu contrase√±a"}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx($t,{className:"h-5 w-5",style:{color:"var(--color-muted)"}}):e.jsx(ht,{className:"h-5 w-5",style:{color:"var(--color-muted)"}})})]}),b.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm",style:{color:"#ef4444"},children:b.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:A,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-lg",children:e.jsx(Ln,{isLoading:A,variant:"dots",children:A?U:L?"Enviar solicitud":"Crear cuenta"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm",style:{color:"var(--color-muted)"},children:["¬øYa tienes una cuenta?"," ",e.jsx(ie,{to:"/login",className:"font-medium",style:{color:"var(--link)"},children:"Inicia sesi√≥n"})]})}),e.jsx(Cn,{mode:"register",hideForONG:r==="ong"})]})]})]})}function sr(){const{user:s}=Ce(),{addNotification:t,notifications:r,removeNotification:a}=Zt(),n=o.useRef(!1),i=s?.tipo_usuario===2,l=o.useCallback(async()=>{if(!(!i||!s))try{const d=await ae.getTipoONG(),f=!d?.grupo_social||d.grupo_social.trim()==="",p=!d?.necesidad||d.necesidad.trim()==="",m="ong-missing-group-social",h="ong-missing-necesidad",x=r.find(g=>g.id==="ong-missing-data");if(x&&a(x.id),f)r.find(u=>u.id===m)||t({id:m,type:"warning",title:"Completa tu grupo social",message:"Agrega el grupo social al que pertenece tu organizaci√≥n para mejorar la visibilidad de tus campa√±as.",link:"/complete-data",category:"system",priority:"high"});else{const g=r.find(u=>u.id===m);g&&a(g.id)}if(p)r.find(u=>u.id===h)||t({id:h,type:"warning",title:"Especifica tu necesidad principal",message:"Indica la necesidad principal de tu ONG para conectar con voluntarios y donantes adecuados.",link:"/complete-data",category:"system",priority:"high"});else{const g=r.find(u=>u.id===h);g&&a(g.id)}}catch(d){console.error("Error verificando datos faltantes de ONG:",d)}},[i,s,r,t,a]),c=o.useCallback(()=>{const d=r.find(f=>f.id==="ong-missing-data");d&&a(d.id)},[r,a]);return o.useEffect(()=>{i&&s&&!n.current&&(l(),n.current=!0)},[i,s?.id_usuario]),{checkMissingData:l,clearMissingDataNotification:c,isONG:i}}function Ri(){const{user:s}=Ce(),t=Re(),r=!!(s?.id_usuario&&(s?.tipo_usuario===2||s?.id_tipo_usuario===2)),[a,n]=o.useState(null),[i,l]=o.useState(!0),{addNotification:c,notifications:d,removeNotification:f}=Zt();sr();const[p,m]=o.useState(null),[h,x]=o.useState(!0),[g,u]=o.useState(!1),[v,j]=o.useState(!1),[w,E]=o.useState(!1),[L,y]=o.useState(null),[k,A]=o.useState(!1);return o.useEffect(()=>{(async()=>{const P=ae.getToken();if(r&&P)try{const I=await ae.getTipoONG();I&&typeof I=="object"&&(I.grupo_social!==void 0||I.necesidad!==void 0)?n(I):n({})}catch{n({})}finally{l(!1)}else n(null),l(!1)})()},[r]),o.useEffect(()=>{(async()=>{if(!(!r||!s?.id_usuario)){A(!0);try{const P=await ae.getOngMPStatus(s.id_usuario);y(P)}catch{y({enabled:!0})}finally{A(!1)}}})()},[r,s?.id_usuario]),o.useEffect(()=>{(async()=>{x(!0);try{const P=await ae.getDashboardSummary();m(P)}catch{m({donationsCount:0,totalDonated:0,puntos:0,recentActivity:[]})}finally{x(!1)}})()},[]),o.useEffect(()=>{s?.id_usuario&&s?.tipo_usuario===1&&s!=null&&(!s.ubicacion||s.ubicacion==="")&&!d.some(P=>P.type==="warning"&&P.title==="Completa tu ubicaci√≥n")&&c({id:"person-missing-location",type:"warning",title:"Completa tu ubicaci√≥n",message:'No tienes una ubicaci√≥n registrada. Haz clic en "Acceder" para completar tu perfil.',link:"/profile"})},[s,d,c]),e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenido"}),e.jsx("p",{className:"text-gray-600",children:r?"Panel de control de tu organizaci√≥n":"Tu centro de actividades"})]}),r&&L&&L.enabled===!1&&e.jsx("div",{className:"mb-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b"},children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx(nn,{className:"w-5 h-5",color:"#92400e"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",style:{color:"#92400e"},children:"Configura tu token de Mercado Pago"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#92400e"},children:"A√∫n no configuraste la recepci√≥n de donaciones por pagos. Configura tu token de Mercado Pago para habilitarlas y poder recibir aportes."})]})]}),e.jsx("button",{className:"btn-primary text-sm whitespace-nowrap",onClick:()=>t("/pagos/configurar"),children:"Configurar ahora"})]})}),e.jsxs("div",{className:"grid gap-6 mb-8",style:{gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[e.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500",role:"button",tabIndex:0,"aria-expanded":g,onClick:()=>u(U=>!U),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),u(P=>!P))},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(De,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r?"Donaciones Recibidas":"Donaciones Realizadas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h?"‚Äî":p?.donationsCount??0})]})]}),g&&e.jsx("div",{className:"mt-4 text-sm text-gray-700",children:h?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ve,{className:"w-4 h-4 animate-spin"})," Cargando..."]}):(p?.recentActivity.filter(U=>U.type==="donation").length??0)===0?e.jsx("div",{className:"text-gray-500",children:"A√∫n no hay donaciones registradas."}):e.jsxs("div",{className:"space-y-2",children:[p.recentActivity.filter(U=>U.type==="donation").slice(0,3).map(U=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-gray-600",children:new Date(U.date).toLocaleString()}),e.jsxs("span",{className:"font-semibold text-purple-700",children:["$",U.amount]})]},U.id)),e.jsx("div",{className:"text-xs text-gray-500",children:"Mostrando √∫ltimas 3 donaciones."})]})})]}),e.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-orange-500",role:"button",tabIndex:0,"aria-expanded":v,onClick:()=>j(U=>!U),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),j(P=>!P))},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:e.jsx(Ks,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r?"Total Recaudado":"Total Donado"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h?"‚Äî":`$${(p?.totalDonated??0).toLocaleString()}`})]})]}),v&&e.jsx("div",{className:"mt-4 text-sm text-gray-700",children:h?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ve,{className:"w-4 h-4 animate-spin"})," Cargando..."]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Promedio por donaci√≥n"}),e.jsxs("span",{className:"font-semibold",children:["$",((p.totalDonated||0)/Math.max(1,p.donationsCount||0)).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Cantidad de donaciones"}),e.jsx("span",{className:"font-semibold",children:p.donationsCount})]})]})})]}),e.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500",role:"button",tabIndex:0,"aria-expanded":w,onClick:()=>E(U=>!U),onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),E(P=>!P))},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:e.jsx(on,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r?"Puntos de la ONG":"Puntos actuales"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h?"‚Äî":`${p?.puntos??0}pt`})]})]}),w&&e.jsx("div",{className:"mt-4 text-sm text-gray-700",children:h?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ve,{className:"w-4 h-4 animate-spin"})," Cargando..."]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-gray-50 rounded-md px-3 py-2",children:"Los puntos se calculan en base a tus actividades (donaciones, participaci√≥n en foros, etc.)."}),e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Puntos actuales"}),e.jsxs("span",{className:"font-semibold",children:[p.puntos," pt"]})]})]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Actividad Reciente"}),h?e.jsxs("div",{className:"text-center py-12 text-gray-600",children:[e.jsx(Ve,{className:"w-6 h-6 mx-auto mb-3 animate-spin"}),"Cargando actividad..."]}):(p?.recentActivity?.length??0)===0?e.jsx("div",{className:"text-center py-12 text-gray-600",children:"Sin actividad reciente"}):e.jsx("div",{className:"space-y-4",children:p.recentActivity.map(U=>e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ",children:U.type==="donation"?e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(De,{className:"w-5 h-5 text-green-600"})}):e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.type==="donation"?"Donaci√≥n realizada":"Respuesta en el foro"}),e.jsx("p",{className:"text-sm text-gray-600",children:U.type==="donation"?`$${U.amount}`:U.message}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(U.date).toLocaleString()})]})]},U.id))})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones R√°pidas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full btn-primary text-sm",onClick:()=>{r||t("/map")},children:r?"Crear Nueva Campa√±a":"Buscar Organizaciones"}),e.jsx("button",{className:"w-full btn-secondary text-sm",onClick:()=>{r||t("/forum?filtro=voluntariado")},children:r?"Gestionar Voluntarios":"Ver Oportunidades de Voluntariado"}),e.jsx("button",{className:"w-full btn-accent text-sm",onClick:()=>{r||t("/acciones/mi-historial")},children:r?"Ver Reportes":"Ver Mi Historial"})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci√≥n de Perfil"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center",children:r?e.jsx(tt,{className:"w-4 h-4 text-white"}):e.jsx(pt,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s?.nombre||s?.usuario}),e.jsx("p",{className:"text-xs text-gray-500",children:r?"Organizaci√≥n":"Persona"})]})]}),s?.ubicacion&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),s.ubicacion]}),r&&e.jsx(e.Fragment,{})]})]}),(o.useEffect(()=>{if(!s?.id_usuario)return;const U=`eventos-enviados-${s.id_usuario}`,P=localStorage.getItem(U),I=d.some(S=>S.id==="evento-campana"),$=d.some(S=>S.id==="evento-voluntariado");!P&&!I&&!$&&(c({id:"evento-campana",type:"info",title:"Pr√≥ximo Evento: Campa√±a de Donaci√≥n",message:"No te pierdas la campa√±a de donaci√≥n el 15 de Diciembre."}),c({id:"evento-voluntariado",type:"info",title:"Pr√≥ximo Evento: Sesi√≥n de Voluntariado",message:"Participa en la sesi√≥n de voluntariado el 20 de Diciembre."}),localStorage.setItem(U,"true"))},[c,s?.id_usuario,d]),null)]})]})]})})}const zi=["idiota","est√∫pido","estupido","imb√©cil","imbecil","tonto","tonta","pendejo","pendeja","pelotudo","pelotuda","boludo","boluda","gil","tarado","tarada","cretino","cretina","subnormal","mong√≥lico","mongolico","mog√≥lico","mogolico","retrasado","retrasada","retardado","retardada","retard","retrasado mental","retardado mental","discapacitado mental","autista","autistic","down","s√≠ndrome de down","sindrome de down","deficiente","deficiente mental","anormal","loco","loca","demente","puta","puto","putita","putito","zorra","zorro","prostituta","ramera","golfa","cualquiera","furcia","guarra","guarro","guarrilla","hijo de puta","hdp","hija de puta","hp","hijo de su puta madre","cabr√≥n","cabron","cabrona","cabronazo","cornudo","cornuda","mierda","mierd@","m1erda","cagada","carajo","co√±o","cono","joder","jodete","j√≥dete","chingar","chingas","chingada","chingado","verga","vrga","v3rga","pija","pij@","p1ja","concha","conchudo","conchuda","culiao","culiado","culero","culera","marica","maricon","maric√≥n","maricona","maricones","mariconazo","maricada","mamaguevo","malparido","malparida","negro de mierda","sudaca","indio","india","cholo","chola","negro","negra","negrito","negrita","morenito","morenita","racista","nazi","nazis","fascista","fascistas","facho","terrorista","terroristas","mono","mona","simio","judio","jud√≠o","judia","jud√≠a","judios","jud√≠os","judias","jud√≠as","judio de mierda","jud√≠o de mierda","burro","burra","bruto","bruta","ignorante","analfabeto","analfabeta","in√∫til","inutil","incompetente","mediocre","fracasado","fracasada","perdedor","perdedora","loser","looser","feo","fea","horrible","asqueroso","asquerosa","repugnante","gordo","gorda","gordo de mierda","gorda de mierda","flaco","flaca","enano","enana","petiso","petisa","maric√≥n","maricon","puto","puta","marica","gay de mierda","lesbiana de mierda","travesti","trolo","trola","putito","sodomita","invertido","invertida","tu madre","tu mam√°","tu mama","tu vieja","tu viejo","la puta que te pari√≥","la concha de tu madre","la concha de tu hermana","te mato","te voy a matar","matarte","morir","mu√©rete","muere","ojal√° te mueras","ojal√° mueras","te rompo","te parto","te violo","violarte","te cagas","c√°llate","callate","cierra el pico","compra ahora","haz clic aqu√≠","haz clic aqui","click here","click aqui","gana dinero","ganar dinero facil","dinero f√°cil","dinero facil","oferta limitada","promoci√≥n exclusiva","promocion exclusiva","compra ya","oferta √∫nica","oferta unica","no te lo pierdas","porno","pornografia","pornograf√≠a","xxx","sexo gratis","pene","vagina","tetas","culo","trasero","masturbaci√≥n","masturbacion","pajero","pajera","p3ndejo","p3ndejas","put@","put0","c0√±o","mierda","idi√≥t@","idiot@","est00pido","ret@rd@do","fuck","fucking","shit","bitch","asshole","bastard","motherfucker","cunt","dick","pussy","whore","slut","stupid","idiot","moron","dumb","retard","retarded","maldito","maldita","desgraciado","desgraciada","miserable","basura","escoria","par√°sito","parasito","rata","cucaracha","boludo","boluda","boludito","boludita","boludazo","boludaza","pelotudo","pelotuda","pelotudito","pelotudita","pelotudazo","gil","gila","gilastro","gilazo","gilada","tarado","tarada","taradito","taradita","taradazo","mog√≥lico","mogolico","mongolon","mongui","garca","garc√≥n","garcha","garchado","garchada","forro","forra","forrito","forrazo","forraso","chupapija","chupaverga","chupamedias","lameculos","la concha de tu madre","la concha de tu hermana","la concha de la lora","andate a la mierda","andate al carajo","raj√° de ac√°","raja de aca","la puta que te pari√≥","la puta que te pario","la re puta madre","hijo de puta","hijo de mil putas","hijo de re mil putas","la re concha de tu madre","la reconcha","re concha","sorete","soretito","soretazo","soreteada","choto","chota","chotazo","al pedo","la concha de dios","me cago en dios","la puta madre","chupame","chupamela","chupate esta","chupenla","mamita","mamadera","mamerto","mam√≥n","mamon","turro","turra","turrito","turraso","turr√≥n","negro villero","negrada","negros de mierda","planero","planera","vago","vaga","vago de mierda","culiado","culia","culiau","culiada","culi√°","culiadazo","culiadita","la puta","la pucha","qu√© culiado","que culiado","culiado loco","nabo","nabito","nabaso","re nabo","nabazo","chamuyero","chamuyera","chanta","chantazo","chantada","chant√∫n","bot√≥n","boton","buch√≥n","buchon","cag√≥n","cagon","buch√≥n de mierda","ortiva","ortibas","ortib√≥n","ortibon","ortivo","pecho fr√≠o","pecho frio","pechofr√≠o","pechofrio","gato","gata","gatubi","minusa","minuza","gatito","gatote","groncho","groncha","gronchada","grasa","grasada","grasoso","cagaste","te cagaron","la cagaste","cagador","cagadora","pedorro","pedorra","pedorrito","pedorrazo","pedo","pedazo","chupame un huevo","me importa un carajo","me chupa un huevo","andate a cagar","andate al chori","raj√° gil","raja gil","la concha bien de tu madre","recontra","re contra","recontra puta","malparido","malparida","malnacido","malnacida","malparidazo","trolaso","trola","trolo","trollo","trollito","trollaso","careta","caretazo","careteada","careteo","gil de goma","gilaso","gil√∫n","gilastra","gilipollas","rompero ortos","rompeculos","rompehuevos","rompebolas","choro","chorito","chorra","chorro","chorizada","boludo culiado","culiado boludo","la re culia","qu√© culiado que sos","que culiado que sos","sos un culiado","termo culiado","termo","terma","term√≠n","termazo","salame","salam√≠n","salamin","salamazo","salame culiado","cabeza de termo","cabeza de tacho","termo","termo culiado","la re mil","la re put√≠sima","re put√≠sima","la re culiada","villero","villera","villa miseria","negro villero","villero culiado","cabeza","cabecita","cabecita negra","cabeza de tacho","choriplanero","choriplanera","√±oqui","√±oquis","chori","vende patria","vendepatria","cipayo","gorila","cipayo culiado","zurdo","zurdito","comunista de mierda","peroncho","peroncha","kirchnerista","k","macrista","choriplaneros","kirchnerista culiado"],Ui=[];function Sn(s,t=!1){const r=[],a=[];let n="none";const i=s.toLowerCase().trim();if(i.length===0)return r.push("El contenido no puede estar vac√≠o"),{isValid:!1,errors:r,warnings:a,severity:"high"};i.length<3&&(r.push("El contenido es demasiado corto (m√≠nimo 3 caracteres)"),n="medium"),i.length>5e3&&(r.push("El contenido es demasiado largo (m√°ximo 5000 caracteres)"),n="high");const l=[];zi.forEach(g=>{new RegExp(`\\b${g}\\b`,"gi").test(i)&&l.push(g)}),l.length>0&&(l.filter(u=>!Ui.includes(u.toLowerCase())).length>0?(r.push("Contenido inapropiado detectado. Por favor, usa un lenguaje respetuoso."),n="high"):t?(r.push("El contenido contiene lenguaje inapropiado"),n="medium"):(a.push("Se detectaron palabras que podr√≠an ser inapropiadas. Por favor, mant√©n un tono respetuoso."),n="low"));const c=s.match(/https?:\/\/[^\s]+/gi);c&&c.length>2&&(a.push("Demasiados enlaces detectados. Esto podr√≠a ser considerado spam."),n=n==="none"?"low":n),/(.)\1{6,}/.test(s)&&(r.push("Evita la repetici√≥n excesiva de caracteres"),n="medium");const d=(s.match(/[A-Z]/g)||[]).length,f=(s.match(/[a-zA-Z]/g)||[]).length;f>20&&d/f>.5&&(a.push("Evita escribir todo en may√∫sculas. Puede interpretarse como gritar."),n=n==="none"?"low":n),s.split(/\s+/).filter(g=>g.length>0).length<2&&s.length>10&&(a.push("El contenido parece incompleto"),n="low");const m=/\b\d{8,}\b/g,h=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g;m.test(s)&&a.push("Se detect√≥ un posible n√∫mero de tel√©fono. Evita compartir informaci√≥n personal p√∫blica."),h.test(s)&&!s.includes("@demos")&&a.push("Se detect√≥ un email. Evita compartir informaci√≥n personal p√∫blica.");const x=r.length===0;return{isValid:x,errors:r,warnings:a,sanitizedContent:x?s.trim():void 0,severity:n}}function Ir(s){const t=s.toLowerCase(),a=["compra ahora","haz clic","gana dinero","oferta limitada","promoci√≥n exclusiva","click here","buy now"].some(c=>t.includes(c)),i=(s.match(/https?:\/\//g)||[]).length>2,l=/(.{3,})\1{3,}/.test(s);return a||i||l}const jt=[];function Bi(s,t=1,r=1e4){const a=Date.now(),n=jt.filter(l=>a-l.timestamp<r);return jt.length=0,jt.push(...n),jt.filter(l=>l.userId===s).length>=t?!0:(jt.push({userId:s,timestamp:a}),!1)}function $i(s,t=1e4){const r=Date.now(),a=jt.filter(c=>c.userId===s&&r-c.timestamp<t);if(a.length===0)return 0;const n=a[a.length-1],i=r-n.timestamp,l=t-i;return Math.ceil(l/1e3)}function Vi(s){const t=[];s.length<10&&t.push("Intenta ser m√°s descriptivo en tu mensaje"),/[.!?]$/.test(s.trim())||t.push("Considera terminar tu mensaje con puntuaci√≥n apropiada");const r=(s.match(/[A-Z]/g)||[]).length,a=(s.match(/[a-zA-Z]/g)||[]).length;return a>0&&r/a>.3&&t.push("Evita el uso excesivo de may√∫sculas"),t}function Fi(s){const t=[],r=[];if(!s||s.trim().length===0)return t.push("El t√≠tulo no puede estar vac√≠o"),{isValid:!1,errors:t,warnings:r,severity:"high"};s.trim().length<5&&t.push("El t√≠tulo debe tener al menos 5 caracteres"),s.length>200&&t.push("El t√≠tulo es demasiado largo (m√°ximo 200 caracteres)");const a=Sn(s,!0);return{isValid:t.length===0&&a.isValid,errors:[...t,...a.errors],warnings:[...r,...a.warnings],sanitizedContent:a.isValid?s.trim():void 0,severity:a.severity}}function Pn(s={}){const{strict:t=!1,showToasts:r=!0,checkSpam:a=!0,checkFlood:n=!0}=s,[i,l]=o.useState(null),c=o.useCallback(g=>{const u=Sn(g,t);return l(u),u},[t]),d=o.useCallback(g=>{const u=c(g);return r?(u.errors.length>0&&u.errors.forEach(v=>{K.error(v,{duration:4e3,icon:"üö´"})}),u.warnings.length>0&&u.severity!=="none"&&u.warnings.forEach(v=>{K(v,{duration:3e3,icon:"‚ö†Ô∏è",style:{background:"#fef3c7",color:"#92400e"}})}),a&&u.isValid&&Ir(g)?(K.error("El contenido fue detectado como spam",{icon:"üö®"}),!1):u.isValid):u.isValid},[c,r,a]),f=o.useCallback(g=>{const u=Fi(g);return l(u),u},[]),p=o.useCallback(g=>{const u=f(g);return r&&(u.errors.length>0&&u.errors.forEach(v=>{K.error(v,{duration:4e3,icon:"üö´"})}),u.warnings.length>0&&u.warnings.forEach(v=>{K(v,{duration:3e3,icon:"‚ö†Ô∏è"})})),u.isValid},[f,r]),m=o.useCallback(g=>Ir(g),[]),h=o.useCallback(g=>{if(!n)return!1;const u=Bi(g);return u&&r&&K.error("Debes esperar 10 segundos entre mensajes.",{icon:"‚è±Ô∏è",duration:3e3}),u},[n,r]),x=o.useCallback(g=>Vi(g),[]);return{validate:c,validateWithFeedback:d,validateTitle:f,validateTitleWithFeedback:p,checkSpam:m,checkFlood:h,getSuggestions:x,lastResult:i}}function qi(){const s=Pn({strict:!1,showToasts:!0,checkSpam:!0,checkFlood:!0});return{validateComment:o.useCallback((r,a)=>a&&s.checkFlood(a)?!1:s.validateWithFeedback(r),[s]),...s}}function Gi(){const s=Pn({strict:!0,showToasts:!0,checkSpam:!0,checkFlood:!1});return{validatePost:o.useCallback((r,a)=>!(!s.validateTitleWithFeedback(r)||!s.validateWithFeedback(a)),[s]),...s}}function Hi(){const s=Re(),{user:t}=Ce(),{addNotification:r}=Zt(),{validatePost:a,validateTitle:n,validate:i}=Gi(),[l,c]=o.useState([]),[d,f]=o.useState([]),[p,m]=o.useState(!0),[h,x]=o.useState(!1),[g,u]=o.useState(""),[v,j]=o.useState(""),[w,E]=o.useState([]),[L,y]=o.useState(!1),[k,A]=o.useState(!1),[U,P]=o.useState(!1),[I,$]=o.useState(new Set),[S,G]=o.useState(null),[W,b]=o.useState(""),[T,H]=o.useState([]),[R,V]=o.useState(!1);o.useEffect(()=>{if(d.length>0){const O=new URLSearchParams(window.location.search).get("filtro");if(O==="voluntariado"||O==="volunteering"){const J=d.find(se=>se.etiqueta==="Voluntariado");J&&H([J.id_etiqueta])}if(O==="donaciones"||O==="donations"){const J=d.find(se=>se.etiqueta==="Donacion");J&&H([J.id_etiqueta])}}},[d]);const[B,X]=o.useState({title:"",content:"",categorias:[],location:"",coordinates:null,imagenes:[]}),[re,_]=o.useState([]),[Z,D]=o.useState(null),[Y,z]=o.useState({});o.useRef({}),o.useEffect(()=>{const C=setTimeout(()=>{if(!B.location||B.location.length<3){E([]);return}y(!0),fetch(`${Fe}/api/location/autocomplete?q=${encodeURIComponent(B.location)}&limit=8&countrycodes=ar&dedupe=1`).then(async O=>O.ok?O.json():(E([]),[])).then(O=>{if(!Array.isArray(O)){E([]);return}const J=O.filter(se=>se.address&&(se.address.city&&se.address.city.toLowerCase().includes("c√≥rdoba")||se.address.state&&se.address.state.toLowerCase().includes("c√≥rdoba")||se.display_name&&se.display_name.toLowerCase().includes("c√≥rdoba")));E(J.map(se=>{const le=se.address?.road||se.address?.name||"",Ne=se.address?.house_number||"";return le&&Ne?`${le} ${Ne}, C√≥rdoba`:le?`${le}, C√≥rdoba`:se.display_name}))}).catch(()=>{E([])}).finally(()=>y(!1))},600);return()=>clearTimeout(C)},[B.location,k]),o.useEffect(()=>{ee()},[]);const ee=async()=>{try{m(!0);const[C,O]=await Promise.all([ae.getPublicaciones(),ae.getCategorias()]),J=C.map(se=>({...se,createdAt:new Date(se.createdAt)}));c(J),f(O)}catch(C){console.error("Error al cargar datos:",C),K.error("Error al cargar las publicaciones")}finally{m(!1)}},de=t?.tipo_usuario===2,oe=async C=>{if(!t){K.error("Debes iniciar sesi√≥n");return}if(window.confirm("¬øEst√°s seguro de que quieres eliminar esta publicaci√≥n?"))try{await ae.eliminarPublicacion(C),c(O=>O.filter(J=>J.id!==C)),K.success("Publicaci√≥n eliminada exitosamente")}catch(O){console.error("Error al eliminar publicaci√≥n:",O);const J=O?.response?.data?.error||"Error al eliminar la publicaci√≥n";K.error(J)}},ge=async C=>{if(!t){P(!0);return}try{const O=await ae.toggleLike(C);c(J=>J.map(se=>se.id===C?{...se,likes:O.totalLikes,isLiked:O.liked}:se)),K.success(O.liked?"¬°Te gusta esta publicaci√≥n!":"Ya no te gusta esta publicaci√≥n",{duration:2e3,icon:O.liked?"üíú":"ü§ç"})}catch(O){console.error("Error al dar me gusta:",O),K.error("Error al actualizar el me gusta")}},_e=C=>{$(O=>{const J=new Set(O);return J.has(C)?J.delete(C):J.add(C),J})},ze=C=>{G(O=>O===C?null:C)},We=C=>{console.log("üîç [ULTRA-SIMPLE] Click en categor√≠a:",C),console.log("üîç [ULTRA-SIMPLE] Estado actual:",re),_(O=>{const J=O.includes(C);let se;return J?(se=O.filter(le=>le!==C),console.log("üîç [ULTRA-SIMPLE] Removiendo:",C)):(se=[...O,C],console.log("üîç [ULTRA-SIMPLE] Agregando:",C)),console.log("üîç [ULTRA-SIMPLE] Nuevo estado:",se),se})},fe=async(C,O)=>{const J=`${window.location.origin}/forum/${C}`;if(navigator.share)try{await navigator.share({title:O,text:`Mira esta publicaci√≥n: ${O}`,url:J}),K.success("¬°Compartido exitosamente!")}catch(se){se.name!=="AbortError"&&console.error("Error al compartir:",se)}else try{await navigator.clipboard.writeText(J),K.success("¬°Link copiado al portapapeles!",{duration:3e3,icon:"üîó"})}catch(se){console.error("Error al copiar al portapapeles:",se),K.error("No se pudo copiar el link")}},xt=C=>{s(`/forum/${C}`)},st=C=>{D(C.id),X({title:C.title,content:C.content,categorias:[],location:C.location||"",coordinates:null,imagenes:C.imagenes||[]});const O=d.filter(J=>C.tags.includes(J.etiqueta)).map(J=>J.id_etiqueta);_(O),A(!0),K.success("Post cargado para edici√≥n")},Lt=async()=>{if(!t){P(!0);return}if(!de){K.error("Solo las ONGs pueden crear publicaciones");return}if(!B.title.trim()||!B.content.trim()){K.error("Por favor completa todos los campos requeridos");return}if(re.length===0){K.error("Por favor selecciona al menos una categor√≠a");return}if(a(B.title.trim(),B.content.trim()))try{x(!0);const O={titulo:B.title.trim(),descripcion:B.content.trim(),categorias:re,ubicacion:B.location.trim()||void 0,coordenadas:B.coordinates||void 0,imagenes:B.imagenes.length>0?B.imagenes:void 0};console.log("üìù [POST] Datos a enviar:",O),console.log("üìù [POST] Categor√≠as seleccionadas:",re),console.log("üìù [POST] Cantidad de categor√≠as seleccionadas:",re.length),console.log("üìù [POST] Lista de categor√≠as disponibles:",d),Z?(console.log("üìù [UPDATE] Actualizando publicaci√≥n ID:",Z),await ae.actualizarPublicacion(Z,O),K.success("Publicaci√≥n actualizada exitosamente")):(console.log("üìù [CREATE] Creando nueva publicaci√≥n"),await ae.crearPublicacion(O),K.success("Publicaci√≥n creada exitosamente")),X({title:"",content:"",categorias:[],location:"",coordinates:null,imagenes:[]}),_([]),z({}),D(null),A(!1),await ee()}catch(O){console.error("Error al crear publicaci√≥n:",O),O.response?.status===400?K.error(O.response.data.error||"La publicaci√≥n contiene contenido no permitido"):K.error("Error al crear la publicaci√≥n")}finally{x(!1)}},Xe=(C,O=800,J=.8)=>new Promise((se,le)=>{console.log("üîÑ [COMPRESS] Iniciando compresi√≥n de:",C.name);try{const Ne=document.createElement("canvas"),be=Ne.getContext("2d"),Se=document.createElement("img");console.log("üîÑ [COMPRESS] Canvas y contexto creados"),Se.onerror=ye=>{console.error("‚ùå [COMPRESS] Error al cargar la imagen:",ye),le(new Error(`No se pudo cargar la imagen ${C.name}`))},Se.onload=()=>{console.log("üîÑ [COMPRESS] Imagen cargada, dimensiones originales:",Se.width,"x",Se.height);try{if(!be){console.error("‚ùå [COMPRESS] No se pudo obtener el contexto del canvas"),le(new Error("No se pudo obtener el contexto del canvas"));return}let{width:ye,height:Oe}=Se;if(ye>O&&(Oe=Oe*O/ye,ye=O),console.log("üîÑ [COMPRESS] Dimensiones calculadas:",ye,"x",Oe),ye<=0||Oe<=0){console.error("‚ùå [COMPRESS] Dimensiones inv√°lidas:",ye,"x",Oe),le(new Error("Dimensiones de imagen inv√°lidas"));return}Ne.width=ye,Ne.height=Oe,console.log("üîÑ [COMPRESS] Canvas configurado"),be.drawImage(Se,0,0,ye,Oe),console.log("üîÑ [COMPRESS] Imagen dibujada en canvas");const Ze=Ne.toDataURL("image/jpeg",J);if(console.log("üîÑ [COMPRESS] Data URL generado, longitud:",Ze.length),!Ze||Ze==="data:,"){console.error("‚ùå [COMPRESS] Data URL vac√≠o o inv√°lido"),le(new Error("Error al generar la imagen comprimida"));return}console.log("‚úÖ [COMPRESS] Compresi√≥n exitosa"),se(Ze)}catch(ye){console.error("‚ùå [COMPRESS] Error en el procesamiento:",ye),le(ye)}},console.log("üîÑ [COMPRESS] Creando URL del objeto");const Ue=URL.createObjectURL(C);console.log("üîÑ [COMPRESS] URL creada:",Ue),Se.src=Ue,console.log("üîÑ [COMPRESS] Imagen asignada al src")}catch(Ne){console.error("‚ùå [COMPRESS] Error general:",Ne),le(Ne)}}),N=async C=>{const O=C.target.files;if(!O)return;const J=5,se=5*1024*1024;if(B.imagenes.length+O.length>J){K.error(`M√°ximo ${J} im√°genes permitidas`);return}for(const le of Array.from(O)){if(console.log("üñºÔ∏è Procesando imagen:",le.name,"Tama√±o:",le.size,"Tipo:",le.type),le.size>se){K.error(`La imagen ${le.name} es muy grande. M√°ximo 5MB`);continue}if(!le.type.startsWith("image/")){K.error(`El archivo ${le.name} no es una imagen v√°lida`);continue}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(le.type)){K.error(`El formato ${le.type} no est√° soportado. Use JPEG, PNG, GIF o WebP`);continue}try{console.log("üîÑ Procesando imagen:",le.name);try{const be=await Xe(le,800,.7);console.log("‚úÖ Imagen comprimida exitosamente:",le.name),console.log("üìè Tama√±o del data URL:",be.length),X(Se=>({...Se,imagenes:[...Se.imagenes,be]})),K.success(`Imagen ${le.name} procesada exitosamente`)}catch(be){console.warn("‚ö†Ô∏è Error en compresi√≥n, intentando m√©todo alternativo:",be);const Se=new FileReader;Se.onload=Ue=>{const ye=Ue.target?.result;if(ye)console.log("‚úÖ Imagen procesada con m√©todo alternativo:",le.name),console.log("üìè Tama√±o del data URL:",ye.length),X(Oe=>({...Oe,imagenes:[...Oe.imagenes,ye]})),K.success(`Imagen ${le.name} procesada exitosamente (sin compresi√≥n)`);else throw new Error("No se pudo leer el archivo")},Se.onerror=()=>{throw new Error("Error al leer el archivo")},Se.readAsDataURL(le)}}catch(be){console.error("‚ùå Error al procesar imagen:",be),K.error(`Error al procesar la imagen ${le.name}: ${be.message||"Error desconocido"}`)}}C.target.value=""},M=C=>{X(O=>({...O,imagenes:O.imagenes.filter((J,se)=>se!==C)}))},q=C=>{H(O=>O.includes(C)?O.filter(J=>J!==C):[...O,C])},te=()=>{H([]),b("")},Q=l.filter(C=>{const O=W===""||C.title.toLowerCase().includes(W.toLowerCase())||C.content.toLowerCase().includes(W.toLowerCase())||C.tags.some(se=>se.toLowerCase().includes(W.toLowerCase())),J=T.length===0||T.some(se=>{const le=d.find(Ne=>Ne.id_etiqueta===se);return le&&C.tags.includes(le.etiqueta)});return O&&J});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Foro Comunitario"}),e.jsx("p",{className:"text-gray-600",children:"Conecta, comparte y colabora con la comunidad"})]}),t&&de&&e.jsxs("button",{onClick:()=>A(!0),className:"btn-primary flex items-center",children:[e.jsx(ln,{className:"w-5 h-5 mr-2"}),"Nueva Publicaci√≥n"]})]}),e.jsx("div",{className:"card p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar publicaciones por t√≠tulo, contenido o etiqueta...",value:W,onChange:C=>b(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Filtrar por categor√≠a",T.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full",children:T.length})]}),(T.length>0||W)&&e.jsx("button",{onClick:te,className:"text-xs text-gray-600 hover:text-purple-600 transition-colors",children:"Limpiar filtros"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(R?d:d.slice(0,8)).map(C=>{const O=T.includes(C.id_etiqueta),J=l.filter(se=>se.tags.includes(C.etiqueta)).length;return e.jsxs("button",{onClick:()=>q(C.id_etiqueta),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${O?"bg-purple-600 text-white shadow-md hover:bg-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[C.etiqueta,e.jsxs("span",{className:`ml-1.5 ${O?"text-purple-200":"text-gray-500"}`,children:["(",J,")"]})]},C.id_etiqueta)}),d.length>8&&e.jsx("button",{onClick:()=>V(!R),className:"px-4 py-2 rounded-full text-sm font-medium bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-300 transition-colors",children:R?"Ver menos":`Ver todas (${d.length})`})]})]}),T.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Filtros activos:"}),T.map(C=>{const O=d.find(J=>J.id_etiqueta===C);return O?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[O.etiqueta,e.jsx("button",{onClick:()=>q(C),className:"ml-1.5 hover:text-purple-900",children:"√ó"})]},C):null})]}),e.jsxs("div",{className:"text-sm text-gray-600 border-t pt-3",children:["Mostrando"," ",e.jsx("span",{className:"font-semibold text-purple-600",children:Q.length})," ","de ",l.length," publicaciones",T.length>0&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["con ",T.length," ",T.length===1?"categor√≠a":"categor√≠as"," ","seleccionada",T.length===1?"":"s"]})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(hr,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No tienes sesi√≥n iniciada"}),e.jsx("p",{className:"text-gray-600",children:"Para comentar y dar me gusta, necesitas iniciar sesi√≥n o registrarte"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{P(!1),window.location.href="/login"},className:"w-full btn-primary flex items-center justify-center",children:[e.jsx(hr,{className:"w-5 h-5 mr-2"}),"Iniciar Sesi√≥n"]}),e.jsxs("button",{onClick:()=>{P(!1),window.location.href="/register"},className:"w-full btn-secondary flex items-center justify-center",children:[e.jsx(uo,{className:"w-5 h-5 mr-2"}),"Registrarse"]}),e.jsx("button",{onClick:()=>P(!1),className:"w-full px-4 py-2 text-gray-600 hover:text-gray-800",children:"Continuar sin sesi√≥n"})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsx("button",{onClick:()=>{A(!1),_([]),z({}),D(null)},"aria-label":"Cerrar",className:"absolute right-3 top-3 text-gray-500 hover:text-gray-800 rounded-full p-1",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:Z?"Editar Publicaci√≥n":"Nueva Publicaci√≥n"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T√≠tulo"}),e.jsx("input",{type:"text",value:B.title,onChange:C=>{const O=C.target.value;if(X(J=>({...J,title:O})),O.length>0){const J=n(O);J.isValid?u(""):u(J.errors[0]||"Error de validaci√≥n")}else u("")},className:`input-field ${g?"border-red-500 focus:ring-red-500":""}`,placeholder:"T√≠tulo de la publicaci√≥n"}),g&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Us,{className:"w-4 h-4 mr-1"}),g]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contenido"}),e.jsx("textarea",{value:B.content,onChange:C=>{const O=C.target.value;if(X(J=>({...J,content:O})),O.length>0){const J=i(O);J.isValid?j(""):j(J.errors[0]||"Error de validaci√≥n")}else j("")},className:`input-field ${v?"border-red-500 focus:ring-red-500":""}`,rows:4,placeholder:"Describe tu publicaci√≥n..."}),v&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(Us,{className:"w-4 h-4 mr-1"}),v]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor√≠as"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3",children:d.map(C=>{console.log("üîç [DEBUG] Estructura completa de categor√≠a:",C);const O=re.includes(C.id_etiqueta);return console.log(`üîç [RENDER] Renderizando categor√≠a ${C.etiqueta} (ID: ${C.id_etiqueta}):`,{isSelected:O,modalSelectedCategories:re}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",style:{backgroundColor:"transparent"},children:[e.jsx("input",{type:"checkbox",id:`categoria-${C.id_etiqueta}`,name:`categoria-${C.id_etiqueta}`,checked:O,onChange:J=>{J.stopPropagation(),console.log("üîç [CHECKBOX] Click directo en:",C.etiqueta,"ID:",C.id_etiqueta),console.log("üîç [CHECKBOX] Checkbox checked:",J.target.checked),We(C.id_etiqueta)},className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:C.etiqueta})]},C.id_etiqueta)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicaci√≥n (opcional)"}),e.jsx(En,{value:B.location,onChange:C=>X(O=>({...O,location:C})),placeholder:"Calle, n√∫mero, barrio, ciudad en C√≥rdoba",className:"input-field w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Im√°genes (opcional)"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Subir Im√°genes"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"M√°ximo 5 im√°genes, 5MB cada una"})]}),B.imagenes.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:B.imagenes.map((C,O)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:C,alt:`Preview ${O+1}`,className:"w-full h-24 object-cover rounded-lg border"}),e.jsx("button",{type:"button",onClick:()=>M(O),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(He,{className:"w-3 h-3"})})]},O))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:()=>{A(!1),_([]),z({}),D(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:h,children:"Cancelar"}),e.jsxs("button",{onClick:Lt,className:"btn-primary flex items-center",disabled:h,children:[h&&e.jsx(Ve,{className:"w-4 h-4 mr-2 animate-spin"}),h?Z?"Actualizando...":"Publicando...":Z?"Actualizar":"Publicar"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"w-8 h-8 text-purple-600 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando publicaciones..."})]}):Q.map(C=>e.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>xt(C.id),children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center",children:C.author.role==="ong"?e.jsx(tt,{className:"w-6 h-6 text-white"}):e.jsx(it,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.title}),C.author.role==="ong"&&e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 text-xs rounded-full",children:"ONG"})]}),C.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:C.tags.map(O=>e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full flex items-center",children:[e.jsx(zs,{className:"w-3 h-3 mr-1"}),O]},O))}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-gray-500 italic",children:"Haz clic para ver la descripci√≥n completa, ubicaci√≥n, im√°genes y comentarios"})}),e.jsxs("div",{className:"flex items-center justify-between",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("button",{onClick:()=>ge(C.id),className:`flex items-center space-x-2 ${C.isLiked?"text-red-600":"text-gray-500 hover:text-red-600"}`,children:[e.jsx(De,{className:`w-5 h-5 ${C.isLiked?"fill-current":""}`}),e.jsx("span",{children:C.likes})]}),e.jsxs("button",{onClick:()=>_e(C.id),className:"flex items-center space-x-2 text-gray-500 hover:text-purple-600",children:[e.jsx(Vt,{className:"w-5 h-5"}),e.jsx("span",{children:C.comments})]}),e.jsxs("button",{onClick:()=>fe(C.id,C.title),className:"flex items-center space-x-2 text-gray-500 hover:text-purple-600",children:[e.jsx(cn,{className:"w-5 h-5"}),e.jsx("span",{children:"Compartir"})]}),t&&t.id_usuario===C.id_usuario&&e.jsxs("button",{onClick:()=>st(C),className:"flex items-center space-x-2 text-gray-500 hover:text-blue-600",title:"Editar publicaci√≥n",children:[e.jsx(Bs,{className:"w-5 h-5"}),e.jsx("span",{children:"Editar"})]}),C.imagenes&&C.imagenes.length>0&&e.jsxs("button",{onClick:()=>ze(C.id),className:"flex items-center space-x-2 text-gray-500 hover:text-purple-600",children:[e.jsx(At,{className:"w-5 h-5"}),e.jsx("span",{children:S===C.id?"Ver menos":"Ver m√°s"})]})]}),t&&C.id_usuario===t.id_usuario&&e.jsxs("button",{onClick:()=>oe(C.id),className:"flex items-center space-x-2 text-red-500 hover:text-red-700 transition-colors",title:"Eliminar publicaci√≥n",children:[e.jsx(ls,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Eliminar"})]})]})]})]}),S===C.id&&C.imagenes&&C.imagenes.length>0&&e.jsxs("div",{className:"mt-4 border-t pt-4",onClick:O=>O.stopPropagation(),children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Galer√≠a de Im√°genes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.imagenes.map((O,J)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:O,alt:`Imagen ${J+1} de ${C.title}`,className:"w-full h-64 object-cover rounded-lg border shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{window.open(O,"_blank")}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white bg-opacity-90 rounded-full p-2",children:e.jsx(At,{className:"w-6 h-6 text-gray-700"})})})]},J))})]})]},C.id)),!p&&Q.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Vt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron publicaciones"}),e.jsx("p",{className:"text-gray-600",children:"Intenta ajustar los filtros o t√©rminos de b√∫squeda"})]})]})]})})}function Wi({publicacionId:s,isExpanded:t,onToggle:r,onCommentAdded:a}){const{user:n}=Ce(),{validateComment:i,lastResult:l}=qi(),[c,d]=o.useState([]),[f,p]=o.useState(""),[m,h]=o.useState(!1),[x,g]=o.useState(!1),[u,v]=o.useState(0),[j,w]=o.useState(null),[E,L]=o.useState("");o.useEffect(()=>{t&&y()},[t,s]),o.useEffect(()=>{if(!n)return;const S=setInterval(()=>{const G=$i(n.id_usuario.toString());v(G)},100);return()=>clearInterval(S)},[n,c.length]);const y=async()=>{try{h(!0);const S=await ae.getComentarios(s);d(S)}catch(S){console.error("Error al cargar comentarios:",S),K.error("Error al cargar los comentarios")}finally{h(!1)}},k=async()=>{if(!n){K.error("Debes iniciar sesi√≥n para comentar");return}if(!f.trim()){K.error("El comentario no puede estar vac√≠o");return}if(!i(f.trim(),n.id_usuario.toString()))return;const G=Date.now(),W={id_respuesta:G,id_usuario:n.id_usuario,mensaje:f.trim(),fecha_respuesta:new Date().toISOString(),usuario:{id_usuario:n.id_usuario,nombre:n.nombre||"",apellido:n.apellido||"",id_tipo_usuario:n.id_tipo_usuario},respuestasHijas:[]};try{g(!0),d(T=>[W,...T]),p("");const b=await ae.crearComentario(s,W.mensaje);b.comentario&&d(T=>T.map(H=>H.id_respuesta===G?{...W,...b.comentario}:H)),a&&a(),K.success("Comentario publicado exitosamente")}catch(b){if(console.error("Error al crear comentario:",b),d(T=>T.filter(H=>H.id_respuesta!==G)),p(W.mensaje),b.response?.status===429)K.error("Debes esperar 10 segundos entre mensajes.",{duration:3e3,icon:"‚è±Ô∏è"});else if(b.response?.status===400){const T=b.response.data;K.error(T.error||"El comentario contiene contenido inapropiado",{duration:5e3})}else K.error("Error al publicar el comentario")}finally{g(!1)}},A=async S=>{if(!n){K.error("Debes iniciar sesi√≥n para responder");return}if(!E.trim()){K.error("La respuesta no puede estar vac√≠a");return}if(!i(E.trim(),n.id_usuario.toString()))return;const W=Date.now(),b={id_respuesta:W,id_usuario:n.id_usuario,mensaje:E.trim(),fecha_respuesta:new Date().toISOString(),id_respuesta_padre:S,usuario:{id_usuario:n.id_usuario,nombre:n.nombre||"",apellido:n.apellido||"",id_tipo_usuario:n.id_tipo_usuario},respuestasHijas:[]};try{g(!0),d(H=>H.map(R=>R.id_respuesta===S?{...R,respuestasHijas:[...R.respuestasHijas||[],b]}:R)),L(""),w(null);const T=await ae.crearComentario(s,b.mensaje,S);T.comentario&&d(H=>H.map(R=>R.id_respuesta===S?{...R,respuestasHijas:(R.respuestasHijas||[]).map(V=>V.id_respuesta===W?{...b,...T.comentario}:V)}:R)),a&&a(),K.success("Respuesta publicada")}catch(T){if(console.error("Error al crear respuesta:",T),d(H=>H.map(R=>R.id_respuesta===S?{...R,respuestasHijas:(R.respuestasHijas||[]).filter(V=>V.id_respuesta!==W)}:R)),L(b.mensaje),w(S),T.response?.status===400){const H=T.response.data;K.error(H.error||"Contenido inapropiado")}else K.error("Error al publicar la respuesta")}finally{g(!1)}},U=async S=>{if(!n){K.error("Debes iniciar sesi√≥n");return}const G=c.find(W=>W.id_respuesta===S);try{d(W=>W.filter(b=>b.id_respuesta!==S)),await ae.eliminarComentario(S.toString()),a&&a(),K.success("Comentario eliminado exitosamente")}catch(W){console.error("Error al eliminar comentario:",W),G&&d(b=>[G,...b]),K.error("Error al eliminar el comentario")}},P=S=>new Date(S).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=S=>S.reduce((G,W)=>G+1+(W.respuestasHijas?I(W.respuestasHijas):0),0),$=S=>{const G=n&&n.id_usuario===S.id_usuario,W=(S.usuario.id_tipo_usuario??S.usuario.tipo_usuario)===2;return e.jsx("div",{className:"rounded-lg p-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center flex-shrink-0",children:W?e.jsx(tt,{className:"w-3 h-3 text-white"}):e.jsx(it,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[S.usuario.nombre," ",S.usuario.apellido]}),W&&e.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 text-emerald-800 text-xs rounded-full",children:"ONG"}),e.jsx("span",{className:"text-xs text-gray-500",children:P(S.fecha_respuesta)})]}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:S.mensaje}),e.jsxs("div",{className:"mt-2 flex items-center space-x-3",children:[n&&e.jsx("button",{onClick:()=>{w(b=>b===S.id_respuesta?null:S.id_respuesta),L("")},className:"text-xs text-purple-600 hover:text-purple-800",children:"Responder"}),G&&e.jsxs("button",{onClick:()=>U(S.id_respuesta),className:"text-xs text-red-600 hover:text-red-800 flex items-center space-x-1",children:[e.jsx(ls,{className:"w-3 h-3"}),e.jsx("span",{children:"Eliminar"})]})]}),j===S.id_respuesta&&n&&e.jsxs("div",{className:"mt-3",children:[e.jsx("textarea",{value:E,onChange:b=>L(b.target.value),placeholder:"Escribe tu respuesta...",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none text-sm ${l&&!l.isValid&&E.length>0?"border-red-300 bg-red-50":"border-gray-300"}`,rows:2,disabled:x}),e.jsxs("div",{className:"mt-2 flex space-x-2",children:[e.jsx("button",{onClick:()=>A(S.id_respuesta),disabled:x||!E.trim()||u>0,className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 text-sm",children:x?"Enviando...":"Enviar respuesta"}),e.jsx("button",{onClick:()=>{w(null),L("")},className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"})]})]}),S.respuestasHijas&&S.respuestasHijas.length>0&&e.jsx("div",{className:"mt-3 ml-6 space-y-3",children:S.respuestasHijas.map(b=>$(b))})]})]})},S.id_respuesta)};return e.jsxs("div",{className:"border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:r,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[I(c)," comentario",I(c)!==1?"s":""]})]}),t?e.jsx(mo,{className:"w-4 h-4 text-gray-500"}):e.jsx(sn,{className:"w-4 h-4 text-gray-500"})]}),t&&e.jsxs("div",{className:"px-4 pb-4",children:[e.jsx("div",{className:"mb-4",children:m?e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(Ve,{className:"w-5 h-5 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Cargando comentarios..."})]}):c.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Vt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No hay comentarios a√∫n"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"S√© el primero en comentar"})]}):e.jsx("div",{className:"space-y-3",children:c.map(S=>$(S))})}),n?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{value:f,onChange:S=>p(S.target.value),placeholder:"Escribe tu comentario... (Recuerda mantener un lenguaje respetuoso)",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none text-sm ${l&&!l.isValid&&f.length>0?"border-red-300 bg-red-50":"border-gray-300"}`,rows:2,disabled:x}),l&&f.length>0&&l.warnings.length>0&&e.jsxs("div",{className:"mt-2 flex items-start space-x-2 text-xs text-amber-600",children:[e.jsx(Us,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:l.warnings[0]})]})]}),e.jsx("button",{onClick:k,disabled:x||!f.trim()||u>0,className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 text-sm transition-colors min-w-[100px]",children:x?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):u>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/30 border-t-white animate-spin"}),e.jsxs("span",{children:[u,"s"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(po,{className:"w-4 h-4"}),e.jsx("span",{children:"Enviar"})]})})]})}):e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Para comentar necesitas iniciar sesi√≥n"}),e.jsxs("div",{className:"flex space-x-2 justify-center",children:[e.jsx("button",{onClick:()=>window.location.href="/login",className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700",children:"Iniciar Sesi√≥n"}),e.jsx("button",{onClick:()=>window.location.href="/register",className:"px-3 py-1 border border-gray-300 text-gray-700 rounded text-sm hover:bg-gray-50",children:"Registrarse"})]})]})]})]})}function Zi(){const{id:s}=Hs(),t=Re(),{user:r}=Ce(),[a,n]=o.useState(null),[i,l]=o.useState(!0),[c,d]=o.useState(null),[f,p]=o.useState(!1),m=o.useCallback(async()=>{if(s)try{l(!0);const g=await ae.getPublicacion(s),u={...g,createdAt:new Date(g.createdAt)};n(u)}catch(g){console.error("Error al cargar publicaci√≥n:",g),d("Error al cargar la publicaci√≥n"),K.error("Error al cargar la publicaci√≥n")}finally{l(!1)}},[s]);o.useEffect(()=>{m()},[m]);const h=async()=>{if(!r){K.error("Debes iniciar sesi√≥n para dar like");return}if(!a)return;const g=a.isLiked,u=a.likes;try{n(j=>j?{...j,isLiked:!g,likes:g?j.likes-1:j.likes+1}:null);const v=await ae.toggleLike(s);K.success(v.liked?"¬°Te gusta esta publicaci√≥n!":"Ya no te gusta esta publicaci√≥n",{duration:2e3,icon:v.liked?"üíú":"ü§ç"})}catch(v){console.error("Error al dar like:",v),n(j=>j?{...j,isLiked:g,likes:u}:null),K.error("Error al dar like")}},x=async()=>{if(!a)return;const g=`${window.location.origin}/forum/${a.id}`;if(navigator.share)try{await navigator.share({title:a.title,url:g}),K.success("¬°Compartido exitosamente!")}catch(u){u.name!=="AbortError"&&console.error("Error al compartir:",u)}else try{await navigator.clipboard.writeText(g),K.success("¬°Link copiado al portapapeles!",{duration:3e3,icon:"üîó"})}catch(u){console.error("Error al copiar al portapapeles:",u),K.error("No se pudo copiar el link")}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Cargando publicaci√≥n..."})]})}):c||!a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Publicaci√≥n no encontrada"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"La publicaci√≥n que buscas no existe o ha sido eliminada."}),e.jsx("button",{onClick:()=>t("/forum"),className:"btn-primary",children:"Volver al Foro"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsxs("button",{onClick:()=>t("/forum"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mr-4",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2"}),"Volver al Foro"]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.author.role==="ong"?e.jsx(tt,{className:"w-6 h-6 text-purple-600"}):e.jsx(it,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a.author.name}),a.author.role==="ong"&&e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 text-xs rounded-full",children:"ONG"})]}),e.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(gt,{className:"w-4 h-4 mr-1"}),a.createdAt.toLocaleDateString()]})})]})]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a.title}),e.jsx("div",{className:"prose prose-lg max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:a.content})}),a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.tags.map(g=>e.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full flex items-center",children:[e.jsx(zs,{className:"w-3 h-3 mr-1"}),g]},g))}),a.location&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:"Ubicaci√≥n:"}),e.jsx("span",{children:a.location})]}),a.imagenes&&a.imagenes.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Galer√≠a de Im√°genes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.imagenes.map((g,u)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:g,alt:`Imagen ${u+1} de ${a.title}`,className:"w-full h-64 object-cover rounded-lg border shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{window.open(g,"_blank")}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white bg-opacity-90 rounded-full p-2",children:e.jsx(At,{className:"w-6 h-6 text-gray-700"})})})]},u))})]}),e.jsx("div",{className:"flex items-center justify-between pt-6 border-t",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("button",{onClick:h,className:`flex items-center space-x-2 transition-colors ${a.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(De,{className:`w-5 h-5 ${a.isLiked?"fill-current":""}`}),e.jsx("span",{children:a.likes})]}),e.jsxs("button",{onClick:()=>p(!f),className:"flex items-center space-x-2 text-gray-500 hover:text-blue-600",children:[e.jsx(Vt,{className:"w-5 h-5"}),e.jsx("span",{children:a.comments})]}),e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 text-gray-500 hover:text-green-600",children:[e.jsx(cn,{className:"w-5 h-5"}),e.jsx("span",{children:"Compartir"})]})]})}),f&&e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsx(Wi,{publicacionId:a.id,isExpanded:f,onToggle:()=>p(!f),onCommentAdded:()=>m()})})]})]})})}function Ki(){return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 to-purple-800 py-20",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"}),e.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Nuestra Misi√≥n"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto leading-relaxed",children:"Conectar personas con causas que importan, facilitando la solidaridad y creando un impacto positivo en el mundo."})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"¬øPor qu√© existe Demos+?"}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"En un mundo donde las necesidades sociales son cada vez m√°s complejas, creemos que la tecnolog√≠a puede ser una herramienta poderosa para conectar a las personas con las causas que les importan."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"El Problema"}),e.jsxs("ul",{className:"space-y-4 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Muchas personas quieren ayudar pero no saben c√≥mo o d√≥nde"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Las organizaciones tienen dificultades para conectar con voluntarios y donantes"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Falta de transparencia en el uso de donaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Barreras geogr√°ficas y de informaci√≥n"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestra Soluci√≥n"}),e.jsxs("ul",{className:"space-y-4 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Plataforma que conecta directamente personas con organizaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Sistema de verificaci√≥n y transparencia para todas las organizaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Herramientas para seguimiento del impacto de las donaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Comunidad global de personas comprometidas con el cambio social"})]})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Nuestros Valores"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Los principios que gu√≠an todo lo que hacemos"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(De,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Solidaridad"}),e.jsx("p",{className:"text-gray-600",children:"Creemos en el poder de la colaboraci√≥n y el apoyo mutuo para crear un mundo mejor para todos."})]}),e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ho,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Transparencia"}),e.jsx("p",{className:"text-gray-600",children:"Mantenemos la transparencia en todas nuestras operaciones y facilitamos el seguimiento del impacto de las donaciones."})]}),e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Js,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Impacto Global"}),e.jsx("p",{className:"text-gray-600",children:"Trabajamos para crear un impacto positivo que trascienda fronteras y beneficie a comunidades de todo el mundo."})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Nuestro Impacto"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Juntos estamos creando un cambio real y medible"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"500+"}),e.jsx("div",{className:"text-gray-600",children:"Organizaciones Verificadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-600 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-600",children:"Voluntarios Activos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:"$2M+"}),e.jsx("div",{className:"text-gray-600",children:"En Donaciones"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"50K+"}),e.jsx("div",{className:"text-gray-600",children:"Vidas Impactadas"})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-600 to-purple-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"√önete a nuestra misi√≥n"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8",children:"Cada persona puede hacer la diferencia. ¬øEst√°s listo para ser parte del cambio que el mundo necesita?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(ie,{to:"/register",className:"btn-secondary text-lg px-8 py-4 flex items-center justify-center",children:["Comenzar Ahora",e.jsx(Rs,{className:"ml-2 w-5 h-5"})]}),e.jsx(ie,{to:"/",className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-medium hover:bg-gray-100 transition-colors text-lg",children:"Saber M√°s"})]})]})})]})}function Ji(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 to-purple-800 py-20",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"}),e.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"T√©rminos y Servicios"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto leading-relaxed",children:"Conoce nuestros t√©rminos de uso y pol√≠ticas que rigen la plataforma Demos+"})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Bienvenido a Demos+"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:'Estos t√©rminos y condiciones ("T√©rminos") rigen el uso de la plataforma Demos+ ("Plataforma", "Servicio") operada por nosotros ("nosotros", "nuestro", "la empresa"). Al acceder o usar nuestro servicio, usted acepta estar sujeto a estos t√©rminos.'}),e.jsxs("p",{className:"text-lg text-gray-600 leading-relaxed",children:[e.jsx("strong",{children:"√öltima actualizaci√≥n:"})," ",new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(De,{className:"w-8 h-8 text-purple-600 mr-3"}),"Nuestra Misi√≥n"]}),e.jsx("div",{className:"bg-purple-50 p-6 rounded-lg mb-6",children:e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Conectar personas con causas que importan, facilitando la solidaridad y creando un impacto positivo en el mundo. Creemos que la tecnolog√≠a puede ser una herramienta poderosa para conectar a las personas con las causas que les importan."})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"El Problema que Resolvemos"}),e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Muchas personas quieren ayudar pero no saben c√≥mo o d√≥nde"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Las organizaciones tienen dificultades para conectar con voluntarios y donantes"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Falta de transparencia en el uso de donaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Barreras geogr√°ficas y de informaci√≥n"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Nuestra Soluci√≥n"}),e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Plataforma que conecta directamente personas con organizaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Sistema de verificaci√≥n y transparencia para todas las organizaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Herramientas para seguimiento del impacto de las donaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{children:"Comunidad global de personas comprometidas con el cambio social"})]})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(ks,{className:"w-8 h-8 text-purple-600 mr-3"}),"Nuestros Valores y Principios"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(De,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Solidaridad"}),e.jsx("p",{className:"text-gray-600",children:"Creemos en el poder de la colaboraci√≥n y el apoyo mutuo para crear un mundo mejor para todos."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(go,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Transparencia"}),e.jsx("p",{className:"text-gray-600",children:"Mantenemos la transparencia en todas nuestras operaciones y facilitamos el seguimiento del impacto de las donaciones."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Js,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Impacto Global"}),e.jsx("p",{className:"text-gray-600",children:"Trabajamos para crear un impacto positivo que trascienda fronteras y beneficie a comunidades de todo el mundo."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"T√©rminos de Uso"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Aceptaci√≥n de los T√©rminos"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Al acceder y usar Demos+, usted acepta cumplir con estos t√©rminos y condiciones. Si no est√° de acuerdo con alguna parte de estos t√©rminos, no debe usar nuestro servicio."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Descripci√≥n del Servicio"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Demos+ es una plataforma que conecta personas con organizaciones sin fines de lucro, facilitando donaciones, voluntariado y apoyo social. Nuestros servicios incluyen:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Conectar donantes con organizaciones verificadas"}),e.jsx("li",{children:"Facilitar oportunidades de voluntariado"}),e.jsx("li",{children:"Proporcionar herramientas de seguimiento de impacto"}),e.jsx("li",{children:"Crear una comunidad de personas comprometidas con el cambio social"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Cuentas de Usuario"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Para usar ciertas funciones de la plataforma, debe crear una cuenta. Usted es responsable de:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Proporcionar informaci√≥n precisa y actualizada"}),e.jsx("li",{children:"Mantener la confidencialidad de su contrase√±a"}),e.jsx("li",{children:"Todas las actividades que ocurran bajo su cuenta"}),e.jsx("li",{children:"Notificarnos inmediatamente sobre cualquier uso no autorizado"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Organizaciones Verificadas"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Todas las organizaciones en nuestra plataforma pasan por un proceso de verificaci√≥n para asegurar su legitimidad y transparencia. Sin embargo, no podemos garantizar el uso espec√≠fico de las donaciones por parte de las organizaciones."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Donaciones y Pagos"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Las donaciones monetarias se procesan a trav√©s de proveedores de pago seguros. Usted acepta que:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Las donaciones son voluntarias y no reembolsables"}),e.jsx("li",{children:"Nosotros no retenemos comisiones de las donaciones"}),e.jsx("li",{children:"Los pagos est√°n sujetos a los t√©rminos de los proveedores de pago"}),e.jsx("li",{children:"Debe proporcionar informaci√≥n de pago precisa y v√°lida"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Contenido del Usuario"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Usted es responsable del contenido que publique en la plataforma. Al publicar contenido, usted garantiza que:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"El contenido es suyo o tiene derecho a usarlo"}),e.jsx("li",{children:"El contenido no viola derechos de terceros"}),e.jsx("li",{children:"El contenido es apropiado y no ofensivo"}),e.jsx("li",{children:"El contenido cumple con nuestras pol√≠ticas de comunidad"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Privacidad y Protecci√≥n de Datos"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["Su privacidad es importante para nosotros. Consulte nuestra",e.jsx(ie,{to:"/privacy",className:"text-purple-600 hover:text-purple-700 underline",children:"Pol√≠tica de Privacidad"})," para obtener informaci√≥n detallada sobre c√≥mo recopilamos, usamos y protegemos su informaci√≥n personal."]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Limitaci√≥n de Responsabilidad"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:'Demos+ se proporciona "tal como est√°" sin garant√≠as de ning√∫n tipo. No seremos responsables por da√±os directos, indirectos, incidentales o consecuentes que puedan resultar del uso de nuestro servicio.'})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Modificaciones"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Nos reservamos el derecho de modificar estos t√©rminos en cualquier momento. Los cambios entrar√°n en vigor inmediatamente despu√©s de su publicaci√≥n en la plataforma. Su uso continuado del servicio constituye aceptaci√≥n de los t√©rminos modificados."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Terminaci√≥n"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Podemos terminar o suspender su cuenta en cualquier momento por violaci√≥n de estos t√©rminos o por cualquier otra raz√≥n a nuestra discreci√≥n."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(Bt,{className:"w-8 h-8 text-purple-600 mr-3"}),"Contacto"]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Si tiene preguntas sobre estos t√©rminos y condiciones, por favor cont√°ctenos:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Email:"})," legal@demosplus.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Direcci√≥n:"})," C√≥rdoba, Argentina"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Horario de atenci√≥n:"})," Lunes a Viernes, 9:00 AM - 6:00 PM (GMT-3)"]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Nuestro Impacto"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Juntos estamos creando un cambio real y medible en el mundo:"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"500+"}),e.jsx("div",{className:"text-gray-600",children:"Organizaciones Verificadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-600 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-600",children:"Voluntarios Activos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:"$2M+"}),e.jsx("div",{className:"text-gray-600",children:"En Donaciones"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"50K+"}),e.jsx("div",{className:"text-gray-600",children:"Vidas Impactadas"})]})]})]}),e.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-8 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"¬øListo para hacer la diferencia?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-6",children:"√önete a nuestra comunidad y comienza a crear un impacto positivo hoy mismo."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ie,{to:"/register",className:"bg-white text-purple-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Crear Cuenta"}),e.jsx(ie,{to:"/",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-purple-600 transition-colors",children:"Explorar ONGs"})]})]})]})})]})}function Yi(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 to-purple-800 py-20",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"}),e.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Pol√≠tica de Privacidad"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto leading-relaxed",children:"Protegemos tu privacidad y datos personales con los m√°s altos est√°ndares de seguridad"})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Compromiso con tu Privacidad"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:"En Demos+, valoramos profundamente tu privacidad y nos comprometemos a proteger tu informaci√≥n personal. Esta Pol√≠tica de Privacidad explica c√≥mo recopilamos, usamos, almacenamos y protegemos tu informaci√≥n cuando utilizas nuestra plataforma."}),e.jsxs("p",{className:"text-lg text-gray-600 leading-relaxed",children:[e.jsx("strong",{children:"√öltima actualizaci√≥n:"})," ",new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(De,{className:"w-8 h-8 text-purple-600 mr-3"}),"Nuestros Valores de Privacidad"]}),e.jsx("div",{className:"bg-purple-50 p-6 rounded-lg mb-6",children:e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Creemos que la transparencia y la protecci√≥n de datos son fundamentales para construir confianza en nuestra comunidad. Nuestra misi√≥n de conectar personas con causas que importan solo puede lograrse cuando nuestros usuarios se sienten seguros y protegidos."})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ks,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Transparencia"}),e.jsx("p",{className:"text-gray-600",children:"Mantenemos la transparencia en todas nuestras operaciones y facilitamos el seguimiento del impacto de las donaciones."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($s,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Seguridad"}),e.jsx("p",{className:"text-gray-600",children:"Implementamos las mejores pr√°cticas de seguridad para proteger tu informaci√≥n personal y financiera."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Control del Usuario"}),e.jsx("p",{className:"text-gray-600",children:"T√∫ tienes control total sobre tu informaci√≥n personal y puedes modificarla o eliminarla en cualquier momento."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(fo,{className:"w-8 h-8 text-purple-600 mr-3"}),"Informaci√≥n que Recopilamos"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Informaci√≥n Personal"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Recopilamos informaci√≥n que nos proporcionas directamente cuando:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Creas una cuenta (nombre, apellido, email)"}),e.jsx("li",{children:"Completas tu perfil (ubicaci√≥n, biograf√≠a, tel√©fono)"}),e.jsx("li",{children:"Realizas donaciones (informaci√≥n de pago)"}),e.jsx("li",{children:"Participas en actividades de voluntariado"}),e.jsx("li",{children:"Contactas nuestro servicio de atenci√≥n al cliente"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Informaci√≥n de Uso"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Recopilamos autom√°ticamente informaci√≥n sobre c√≥mo usas nuestra plataforma:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"P√°ginas visitadas y tiempo de permanencia"}),e.jsx("li",{children:"Actividades realizadas en la plataforma"}),e.jsx("li",{children:"Dispositivo y navegador utilizado"}),e.jsx("li",{children:"Direcci√≥n IP y ubicaci√≥n geogr√°fica general"}),e.jsx("li",{children:"Cookies y tecnolog√≠as similares"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Informaci√≥n de Organizaciones"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Para organizaciones verificadas, tambi√©n recopilamos informaci√≥n adicional como documentos de verificaci√≥n, informaci√≥n fiscal y detalles de contacto para garantizar la transparencia y legitimidad."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(ht,{className:"w-8 h-8 text-purple-600 mr-3"}),"C√≥mo Usamos tu Informaci√≥n"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Proporcionar y Mejorar Nuestros Servicios"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Conectar donantes con organizaciones verificadas"}),e.jsx("li",{children:"Facilitar oportunidades de voluntariado"}),e.jsx("li",{children:"Proporcionar herramientas de seguimiento de impacto"}),e.jsx("li",{children:"Mejorar la funcionalidad y experiencia del usuario"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Comunicaci√≥n"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Enviar confirmaciones de donaciones y actividades"}),e.jsx("li",{children:"Notificar sobre nuevas oportunidades de voluntariado"}),e.jsx("li",{children:"Proporcionar actualizaciones sobre el impacto de tus donaciones"}),e.jsx("li",{children:"Responder a consultas y solicitudes de soporte"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Seguridad y Cumplimiento"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Verificar identidades y prevenir fraudes"}),e.jsx("li",{children:"Cumplir con obligaciones legales y regulatorias"}),e.jsx("li",{children:"Proteger los derechos y seguridad de nuestros usuarios"}),e.jsx("li",{children:"Investigar y prevenir actividades ilegales"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. An√°lisis y Desarrollo"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsx("li",{children:"Analizar patrones de uso para mejorar nuestros servicios"}),e.jsx("li",{children:"Desarrollar nuevas funcionalidades"}),e.jsx("li",{children:"Generar estad√≠sticas agregadas y an√≥nimas"}),e.jsx("li",{children:"Realizar investigaciones sobre impacto social"})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cu√°ndo Compartimos tu Informaci√≥n"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Nunca Vendemos tu Informaci√≥n Personal"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"No vendemos, alquilamos ni comercializamos tu informaci√≥n personal a terceros para fines comerciales. Tu privacidad es sagrada para nosotros."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Compartimos Informaci√≥n Solo Cuando:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Con organizaciones verificadas:"})," Para facilitar donaciones y voluntariado"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Con proveedores de servicios:"})," Para procesar pagos y operar la plataforma"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Por requerimiento legal:"})," Cuando la ley lo exija"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Para proteger derechos:"})," Para proteger nuestros derechos o los de otros usuarios"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Con tu consentimiento:"})," Cuando expl√≠citamente nos autorices"]})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Seguridad de tus Datos"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"Implementamos m√∫ltiples capas de seguridad para proteger tu informaci√≥n:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Seguridad T√©cnica"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Encriptaci√≥n SSL/TLS para todas las comunicaciones"}),e.jsx("li",{children:"‚Ä¢ Almacenamiento seguro de contrase√±as"}),e.jsx("li",{children:"‚Ä¢ Sistemas de monitoreo y detecci√≥n de intrusiones"}),e.jsx("li",{children:"‚Ä¢ Copias de seguridad regulares y seguras"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Pr√°cticas Organizacionales"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Acceso limitado solo al personal autorizado"}),e.jsx("li",{children:"‚Ä¢ Capacitaci√≥n regular en seguridad de datos"}),e.jsx("li",{children:"‚Ä¢ Auditor√≠as de seguridad peri√≥dicas"}),e.jsx("li",{children:"‚Ä¢ Pol√≠ticas estrictas de manejo de datos"})]})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Tus Derechos sobre tus Datos"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Derecho de Acceso"}),e.jsx("p",{className:"text-gray-600",children:"Puedes solicitar una copia de toda la informaci√≥n personal que tenemos sobre ti."})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Derecho de Rectificaci√≥n"}),e.jsx("p",{className:"text-gray-600",children:"Puedes corregir o actualizar cualquier informaci√≥n inexacta o incompleta."})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Derecho de Eliminaci√≥n"}),e.jsx("p",{className:"text-gray-600",children:"Puedes solicitar la eliminaci√≥n de tu informaci√≥n personal en ciertas circunstancias."})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Derecho de Portabilidad"}),e.jsx("p",{className:"text-gray-600",children:"Puedes solicitar que transfiramos tu informaci√≥n a otro servicio."})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Derecho de Oposici√≥n"}),e.jsx("p",{className:"text-gray-600",children:"Puedes oponerte al procesamiento de tu informaci√≥n para ciertos fines."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cookies y Tecnolog√≠as Similares"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Utilizamos cookies y tecnolog√≠as similares para mejorar tu experiencia en nuestra plataforma. Las cookies son peque√±os archivos de texto que se almacenan en tu dispositivo."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Cookies Esenciales"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Necesarias para el funcionamiento b√°sico de la plataforma, como mantener tu sesi√≥n iniciada y recordar tus preferencias."})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Cookies Anal√≠ticas"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Nos ayudan a entender c√≥mo los usuarios interact√∫an con nuestra plataforma para poder mejorarla."})]})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Puedes controlar las cookies a trav√©s de la configuraci√≥n de tu navegador. Sin embargo, deshabilitar ciertas cookies puede afectar la funcionalidad de la plataforma."})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Retenci√≥n de Datos"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Conservamos tu informaci√≥n personal solo durante el tiempo necesario para cumplir con los prop√≥sitos descritos en esta pol√≠tica, a menos que la ley requiera un per√≠odo de retenci√≥n m√°s largo."}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Per√≠odos de Retenci√≥n T√≠picos:"}),e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cuentas activas:"})," Mientras tu cuenta est√© activa"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Datos de donaciones:"})," 7 a√±os (requerimiento fiscal)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Datos de voluntariado:"})," 3 a√±os despu√©s de la √∫ltima actividad"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Datos de comunicaci√≥n:"})," 2 a√±os"]})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Protecci√≥n de Menores"}),e.jsx("div",{className:"bg-yellow-50 p-6 rounded-lg",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Nuestros servicios est√°n dirigidos a personas mayores de 18 a√±os. No recopilamos intencionalmente informaci√≥n personal de menores de edad. Si descubrimos que hemos recopilado informaci√≥n de un menor, la eliminaremos inmediatamente."})})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cambios en esta Pol√≠tica"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Podemos actualizar esta Pol√≠tica de Privacidad ocasionalmente para reflejar cambios en nuestras pr√°cticas o por razones legales. Te notificaremos sobre cambios significativos a trav√©s de la plataforma o por email. Te recomendamos revisar esta pol√≠tica peri√≥dicamente."})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(Bt,{className:"w-8 h-8 text-purple-600 mr-3"}),"Contacto y Consultas"]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Si tienes preguntas sobre esta Pol√≠tica de Privacidad o sobre c√≥mo manejamos tu informaci√≥n, por favor cont√°ctanos:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bt,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Email:"})," privacy@demosplus.com"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ws,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Tel√©fono:"})," +54 351 XXX-XXXX"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Direcci√≥n:"})," C√≥rdoba, Argentina"]})]})]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-4",children:[e.jsx("strong",{children:"Horario de atenci√≥n:"})," Lunes a Viernes, 9:00 AM - 6:00 PM (GMT-3)"]})]})]}),e.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-8 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Tu Privacidad es Nuestra Prioridad"}),e.jsx("p",{className:"text-xl text-purple-100 mb-6",children:"√önete a nuestra comunidad segura y transparente para crear un impacto positivo en el mundo."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ie,{to:"/register",className:"bg-white text-purple-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Crear Cuenta Segura"}),e.jsx(ie,{to:"/terms",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-purple-600 transition-colors",children:"Ver T√©rminos de Servicio"})]})]})]})})]})}function Xi(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-purple-600 to-purple-800 py-20",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"}),e.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Pol√≠tica de Cookies"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto leading-relaxed",children:"Entiende c√≥mo utilizamos las cookies para mejorar tu experiencia en Demos+"})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"¬øQu√© son las Cookies?"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6",children:"Las cookies son peque√±os archivos de texto que se almacenan en tu dispositivo cuando visitas nuestra plataforma. Nos ayudan a recordar tus preferencias, mejorar tu experiencia de navegaci√≥n y analizar c√≥mo utilizas nuestros servicios."}),e.jsxs("p",{className:"text-lg text-gray-600 leading-relaxed",children:[e.jsx("strong",{children:"√öltima actualizaci√≥n:"})," ",new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(De,{className:"w-8 h-8 text-purple-600 mr-3"}),"Nuestro Compromiso con la Transparencia"]}),e.jsx("div",{className:"bg-purple-50 p-6 rounded-lg mb-6",children:e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"En Demos+, creemos en la transparencia total sobre c√≥mo utilizamos las cookies. Nuestra misi√≥n de conectar personas con causas que importan solo puede lograrse cuando nuestros usuarios comprenden y controlan su experiencia digital."})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ks,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Transparencia"}),e.jsx("p",{className:"text-gray-600",children:"Te explicamos claramente qu√© cookies utilizamos y por qu√©, sin jerga t√©cnica innecesaria."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(os,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Control Total"}),e.jsx("p",{className:"text-gray-600",children:"T√∫ decides qu√© cookies aceptar y puedes cambiar tus preferencias en cualquier momento."})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($s,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Privacidad"}),e.jsx("p",{className:"text-gray-600",children:"Respetamos tu privacidad y solo utilizamos cookies que son necesarias o que has aceptado expl√≠citamente."})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center",children:[e.jsx(Zs,{className:"w-8 h-8 text-purple-600 mr-3"}),"Tipos de Cookies que Utilizamos"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"card p-6 border-l-4 border-green-500",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx($s,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cookies Esenciales"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Estas cookies son absolutamente necesarias para el funcionamiento b√°sico de nuestra plataforma. No se pueden desactivar."}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¬øQu√© hacen?"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Mantener tu sesi√≥n iniciada"}),e.jsx("li",{children:"‚Ä¢ Recordar tus preferencias de idioma"}),e.jsx("li",{children:"‚Ä¢ Garantizar la seguridad de la plataforma"}),e.jsx("li",{children:"‚Ä¢ Permitir el funcionamiento de formularios"})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[e.jsx("strong",{children:"Duraci√≥n:"})," Sesi√≥n o hasta 1 a√±o"]})]})]})}),e.jsx("div",{className:"card p-6 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx(ht,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cookies de Rendimiento y An√°lisis"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Estas cookies nos ayudan a entender c√≥mo los usuarios interact√∫an con nuestra plataforma para poder mejorarla."}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¬øQu√© hacen?"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Contar visitantes y p√°ginas vistas"}),e.jsx("li",{children:"‚Ä¢ Identificar p√°ginas m√°s populares"}),e.jsx("li",{children:"‚Ä¢ Medir el tiempo de permanencia"}),e.jsx("li",{children:"‚Ä¢ Detectar errores y problemas t√©cnicos"}),e.jsx("li",{children:"‚Ä¢ Analizar patrones de navegaci√≥n"})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[e.jsx("strong",{children:"Duraci√≥n:"})," Hasta 2 a√±os"]}),e.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[e.jsx("strong",{children:"Puedes desactivarlas:"})," S√≠, pero esto puede afectar la funcionalidad"]})]})]})}),e.jsx("div",{className:"card p-6 border-l-4 border-purple-500",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx(os,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cookies de Funcionalidad"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Estas cookies mejoran tu experiencia recordando tus preferencias y personalizando el contenido."}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¬øQu√© hacen?"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Recordar tus preferencias de visualizaci√≥n"}),e.jsx("li",{children:"‚Ä¢ Personalizar el contenido mostrado"}),e.jsx("li",{children:"‚Ä¢ Recordar configuraciones de accesibilidad"}),e.jsx("li",{children:"‚Ä¢ Mantener preferencias de notificaciones"}),e.jsx("li",{children:"‚Ä¢ Recordar filtros y b√∫squedas recientes"})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[e.jsx("strong",{children:"Duraci√≥n:"})," Hasta 1 a√±o"]}),e.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:[e.jsx("strong",{children:"Puedes desactivarlas:"})," S√≠, pero perder√°s personalizaci√≥n"]})]})]})}),e.jsx("div",{className:"card p-6 border-l-4 border-orange-500",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:e.jsx(Js,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Cookies de Marketing y Publicidad"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Estas cookies se utilizan para mostrar contenido relevante y medir la efectividad de nuestras campa√±as."}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¬øQu√© hacen?"}),e.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[e.jsx("li",{children:"‚Ä¢ Mostrar contenido personalizado"}),e.jsx("li",{children:"‚Ä¢ Medir la efectividad de campa√±as"}),e.jsx("li",{children:"‚Ä¢ Evitar mostrar el mismo anuncio repetidamente"}),e.jsx("li",{children:"‚Ä¢ Proporcionar funciones de redes sociales"}),e.jsx("li",{children:"‚Ä¢ Crear perfiles de audiencia"})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[e.jsx("strong",{children:"Duraci√≥n:"})," Hasta 2 a√±os"]}),e.jsxs("div",{className:"mt-2 text-sm text-orange-600",children:[e.jsx("strong",{children:"Puedes desactivarlas:"})," S√≠, completamente opcionales"]})]})]})})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cookies Espec√≠ficas que Utilizamos"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-900",children:"Nombre de Cookie"}),e.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-900",children:"Prop√≥sito"}),e.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-900",children:"Tipo"}),e.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-900",children:"Duraci√≥n"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-3 font-mono text-sm",children:"demos_session"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"Mantener la sesi√≥n del usuario"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Esencial"})}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"Sesi√≥n"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-3 font-mono text-sm",children:"demos_preferences"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"Recordar preferencias del usuario"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:"Funcionalidad"})}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"1 a√±o"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-3 font-mono text-sm",children:"demos_analytics"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"An√°lisis de uso de la plataforma"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"An√°lisis"})}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"2 a√±os"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-3 font-mono text-sm",children:"demos_cookie_consent"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"Recordar preferencias de cookies"}),e.jsx("td",{className:"border border-gray-300 px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Esencial"})}),e.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-600",children:"1 a√±o"})]})]})]})})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"C√≥mo Controlar las Cookies"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configuraci√≥n en Nuestra Plataforma"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Puedes gestionar tus preferencias de cookies directamente desde nuestra plataforma:"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(os,{className:"w-6 h-6 text-purple-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Centro de Preferencias de Cookies"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:'Accede a tu perfil y ve a "Configuraci√≥n de Privacidad" para personalizar qu√© tipos de cookies aceptas.'}),e.jsx(ie,{to:"/profile",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Ir a Configuraci√≥n"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configuraci√≥n del Navegador"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Tambi√©n puedes controlar las cookies a trav√©s de la configuraci√≥n de tu navegador:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Chrome"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Configuraci√≥n ‚Üí Privacidad y seguridad ‚Üí Cookies y otros datos del sitio"}),e.jsx("a",{href:"https://support.google.com/chrome/answer/95647",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Ver gu√≠a completa ‚Üí"})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Firefox"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Opciones ‚Üí Privacidad y seguridad ‚Üí Cookies y datos del sitio"}),e.jsx("a",{href:"https://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-sitios-web-rastrear-preferencias",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Ver gu√≠a completa ‚Üí"})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Safari"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Preferencias ‚Üí Privacidad ‚Üí Cookies y datos de sitios web"}),e.jsx("a",{href:"https://support.apple.com/es-es/guide/safari/sfri11471/mac",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Ver gu√≠a completa ‚Üí"})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Edge"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Configuraci√≥n ‚Üí Cookies y permisos del sitio ‚Üí Cookies y datos almacenados"}),e.jsx("a",{href:"https://support.microsoft.com/es-es/microsoft-edge/eliminar-las-cookies-en-microsoft-edge-63947406-40ac-c3b8-57b9-2a946a29ae09",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Ver gu√≠a completa ‚Üí"})]})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Cookies de Terceros"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Algunos de nuestros socios de confianza tambi√©n pueden establecer cookies en tu dispositivo. Estos incluyen:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Proveedores de An√°lisis"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Utilizamos Google Analytics para entender c√≥mo los usuarios interact√∫an con nuestra plataforma."}),e.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Pol√≠tica de Privacidad de Google ‚Üí"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Proveedores de Pago"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Nuestros procesadores de pago pueden establecer cookies para garantizar transacciones seguras."}),e.jsx("a",{href:"https://www.mercadopago.com.ar/privacidad",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 text-sm",children:"Pol√≠tica de MercadoPago ‚Üí"})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"¬øQu√© Pasa si Desactivo las Cookies?"}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"‚ö†Ô∏è Importante"}),e.jsx("p",{className:"text-gray-700",children:"Desactivar ciertas cookies puede afectar la funcionalidad de nuestra plataforma. Te explicamos qu√© puedes esperar:"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Si desactivas cookies esenciales:"}),e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ No podr√°s iniciar sesi√≥n"}),e.jsx("li",{children:"‚Ä¢ Los formularios no funcionar√°n correctamente"}),e.jsx("li",{children:"‚Ä¢ La plataforma puede no cargar adecuadamente"}),e.jsx("li",{children:"‚Ä¢ Perder√°s tu sesi√≥n al cerrar el navegador"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Si desactivas cookies de funcionalidad:"}),e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ No recordaremos tus preferencias"}),e.jsx("li",{children:"‚Ä¢ Tendr√°s que configurar la plataforma cada vez"}),e.jsx("li",{children:"‚Ä¢ El contenido no se personalizar√°"}),e.jsx("li",{children:"‚Ä¢ Perder√°s filtros y b√∫squedas guardadas"})]})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"¬øTienes Preguntas sobre las Cookies?"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Si tienes preguntas sobre nuestra pol√≠tica de cookies o necesitas ayuda para configurar tus preferencias, no dudes en contactarnos:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Email:"})," cookies@demosplus.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Tel√©fono:"})," +54 351 XXX-XXXX"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Horario:"})," Lunes a Viernes, 9:00 AM - 6:00 PM (GMT-3)"]})]})]})]}),e.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-8 text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Controla tu Experiencia Digital"}),e.jsx("p",{className:"text-xl text-purple-100 mb-6",children:"Personaliza tu experiencia en Demos+ configurando tus preferencias de cookies."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ie,{to:"/profile",className:"bg-white text-purple-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Configurar Cookies"}),e.jsx(ie,{to:"/privacy",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-purple-600 transition-colors",children:"Ver Pol√≠tica de Privacidad"})]})]})]})})]})}var Mn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ar=Le.createContext&&Le.createContext(Mn),Qi=["attr","size","title"];function el(s,t){if(s==null)return{};var r=tl(s,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function tl(s,t){if(s==null)return{};var r={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;r[a]=s[a]}return r}function ms(){return ms=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},ms.apply(this,arguments)}function Rr(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function ps(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rr(Object(r),!0).forEach(function(a){sl(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function sl(s,t,r){return t=rl(t),t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function rl(s){var t=al(s,"string");return typeof t=="symbol"?t:t+""}function al(s,t){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function On(s){return s&&s.map((t,r)=>Le.createElement(t.tag,ps({key:r},t.attr),On(t.child)))}function Ye(s){return t=>Le.createElement(nl,ms({attr:ps({},s.attr)},t),On(s.child))}function nl(s){var t=r=>{var{attr:a,size:n,title:i}=s,l=el(s,Qi),c=n||r.size||"1em",d;return r.className&&(d=r.className),s.className&&(d=(d?d+" ":"")+s.className),Le.createElement("svg",ms({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:d,style:ps(ps({color:s.color||r.color},r.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Le.createElement("title",null,i),s.children)};return Ar!==void 0?Le.createElement(Ar.Consumer,null,r=>t(r)):t(Mn)}function ol(s){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function il(s){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function ll(s){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(s)}function cl(s){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(s)}function dl(s){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(s)}function ul(s){return Ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(s)}function ml(s){return Ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(s)}function pl(s){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(s)}function hl(s){return Ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(s)}function gl(s){return Ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(s)}function fl(s){const t=s.toLowerCase().trim();return t.includes("@")||t.startsWith("mailto:")?"email":t.includes("wa.me")||t.includes("whatsapp.com")||t.includes("api.whatsapp.com")?"whatsapp":t.includes("facebook.com")||t.includes("fb.com")||t.includes("fb.me")?"facebook":t.includes("instagram.com")||t.includes("instagr.am")?"instagram":t.includes("twitter.com")||t.includes("x.com")?"twitter":t.includes("linkedin.com")?"linkedin":t.includes("youtube.com")||t.includes("youtu.be")?"youtube":t.includes("tiktok.com")?"tiktok":t.startsWith("http")||t.startsWith("www.")?"website":"other"}function Dn(s){const t={facebook:ol,instagram:il,twitter:dl,linkedin:ll,youtube:ml,tiktok:cl,whatsapp:ul,website:hl,email:pl,other:gl};return t[s]||t.other}function _n(s){const t={facebook:"#1877F2",instagram:"#E1306C",twitter:"#1DA1F2",linkedin:"#0A66C2",youtube:"#FF0000",tiktok:"#000000",whatsapp:"#25D366",website:"#4B5563",email:"#D44638",other:"#4B5563"};return t[s]||t.other}function xl(s){let t=s.trim();return t.includes("@")&&!t.startsWith("mailto:")?`mailto:${t}`:(!t.startsWith("http")&&!t.startsWith("mailto:")&&(t=`https://${t}`),t)}function vl(s){const t={facebook:"Facebook",instagram:"Instagram",twitter:"Twitter/X",linkedin:"LinkedIn",youtube:"YouTube",tiktok:"TikTok",whatsapp:"WhatsApp",website:"Sitio Web",email:"Email",other:"Otro enlace"};return t[s]||t.other}function bl({initialLinks:s,onSave:t,saving:r=!1}){const[a,n]=o.useState(s),[i,l]=o.useState(""),[c,d]=o.useState(!1),[f,p]=o.useState(!1);console.log("üîç [SocialMediaManager] initialLinks recibidos:",s),console.log("üîç [SocialMediaManager] links actuales:",a),console.log("üîç [SocialMediaManager] Son iguales?",JSON.stringify(s)===JSON.stringify(a)),Le.useEffect(()=>{console.log("üîÑ [SocialMediaManager] useEffect - initialLinks cambi√≥:",s),n(s)},[s]);const m=()=>{if(!i.trim())return;const u=fl(i),v=xl(i),j={id:Date.now().toString(),url:v,type:u,displayName:vl(u)};n([...a,j]),l(""),d(!1),p(!0)},h=u=>{n(a.filter(v=>v.id!==u)),p(!0)},x=async()=>{console.log("üíæ [SocialMediaManager] Guardando links:",a),await t(a),p(!1),console.log("‚úÖ [SocialMediaManager] Links guardados exitosamente")},g=()=>{n(s),p(!1),d(!1),l("")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Redes Sociales"}),!c&&e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 text-sm text-purple-600 hover:text-purple-700 font-medium",children:[e.jsx(ln,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar red social"})]})]}),e.jsxs("div",{className:"space-y-2",children:[a.map(u=>{const v=Dn(u.type),j=_n(u.type);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 p-2 rounded-full",style:{backgroundColor:j+"20",color:j},children:e.jsx(v,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.displayName}),e.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 hover:text-purple-600 truncate block",style:{color:j},children:u.url})]})]}),e.jsx("button",{onClick:()=>h(u.id),className:"flex-shrink-0 p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Eliminar",children:e.jsx(He,{className:"w-4 h-4"})})]},u.id)}),a.length===0&&!c&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(xo,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No hay redes sociales agregadas"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar red social" para comenzar'})]})]}),c&&e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"URL de la red social o sitio web"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:u=>l(u.target.value),onKeyPress:u=>u.key==="Enter"&&m(),placeholder:"https://instagram.com/tuong o tu@email.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",autoFocus:!0}),e.jsx("button",{onClick:m,disabled:!i.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Wt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{d(!1),l("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:e.jsx(He,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"üí° Detectamos autom√°ticamente el tipo de red social. Soportamos: Facebook, Instagram, Twitter/X, LinkedIn, YouTube, TikTok, WhatsApp, sitios web y emails."})]}),f&&e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:g,disabled:r,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors flex items-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Guardando..."})]}):e.jsx("span",{children:"Guardar cambios"})})]})]})}function yl(){const{accepted:s,acceptAll:t,rejectAll:r,clearAllCookies:a,showBannerAgain:n}=gn(),[i,l]=o.useState(!1),c=()=>{a(),l(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Zs,{className:"w-6 h-6 text-purple-600"}),"Configuraci√≥n de Cookies"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Controla el uso de cookies en nuestra plataforma"})]}),e.jsx(ie,{to:"/cookies",className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"Ver pol√≠tica completa ‚Üí"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"¬øQu√© son las cookies?"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Las cookies son peque√±os archivos que se almacenan en tu dispositivo para mejorar tu experiencia en nuestra plataforma. Puedes aceptar o rechazar su uso."})]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado Actual"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${s?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-gray-700",children:s?"Cookies aceptadas":"Cookies rechazadas"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:s?"Actualmente aceptas el uso de cookies para funcionalidad, an√°lisis y personalizaci√≥n.":"Actualmente solo utilizamos cookies esenciales para el funcionamiento b√°sico de la plataforma."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Aceptar Cookies"]}),e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(an,{className:"w-4 h-4"}),"Rechazar Cookies"]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(bo,{className:"w-4 h-4"}),"Restablecer Todo"]}),e.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 px-6 py-3 text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors font-medium",children:[e.jsx(os,{className:"w-4 h-4"}),"Mostrar Banner Nuevamente"]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"¬øRestablecer configuraci√≥n de cookies?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Esto eliminar√° todas tus preferencias de cookies y volver√°s a ver el banner de cookies. ¬øEst√°s seguro?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"S√≠, restablecer"}),e.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"})]})]})})]})}function jl(){const{user:s,updateProfile:t}=Ce();Re();const{clearMissingDataNotification:r}=sr(),[a,n]=o.useState(!1),[i,l]=o.useState({name:"",email:"",location:"",bio:"",telefono:""}),[c,d]=o.useState(null),[f,p]=o.useState(null),[m,h]=o.useState(!1),[x,g]=o.useState(null),[u,v]=o.useState([]),[j,w]=o.useState(!1),[E,L]=o.useState([]),[y,k]=o.useState([]),[A,U]=o.useState(!1),[P,I]=o.useState([]),[$,S]=o.useState(!1),[G,W]=o.useState("");o.useEffect(()=>{if(!a)return;const _=setTimeout(()=>{if(!G||G.length<3){I([]);return}S(!0),fetch(`${Fe}/api/location/autocomplete?q=${encodeURIComponent(G)}&limit=8&countrycodes=ar&dedupe=1`).then(async Z=>Z.ok?Z.json():(I([]),[])).then(Z=>{if(!Array.isArray(Z)){I([]);return}const D=Z.filter(Y=>Y.address&&(Y.address.city&&Y.address.city.toLowerCase().includes("c√≥rdoba")||Y.address.state&&Y.address.state.toLowerCase().includes("c√≥rdoba")||Y.display_name&&Y.display_name.toLowerCase().includes("c√≥rdoba")));I(D.map(Y=>{const z=Y.address?.road||Y.address?.name||"",ee=Y.address?.house_number||"";return z&&ee?`${z} ${ee}, C√≥rdoba`:z?`${z}, C√≥rdoba`:Y.display_name}))}).catch(()=>{I([])}).finally(()=>S(!1))},600);return()=>clearTimeout(_)},[G,a]);const b=s?.tipo_usuario===2;o.useEffect(()=>{if(s){console.log("üîç [DEBUG] Datos del usuario recibidos:",s),console.log("üîç [DEBUG] Campo createdAt:",s.createdAt),console.log("üîç [DEBUG] Tipo de createdAt:",typeof s.createdAt);let _="";if(b?s.nombre&&s.apellido?_=`${s.nombre} ${s.apellido}`.trim():_=s.nombre||s.apellido||"":_=s.nombre&&s.apellido?`${s.nombre} ${s.apellido}`.trim():s.nombre||s.apellido||"",l({name:_,email:s.email||"",location:s.ubicacion||"",bio:s.biografia||"",telefono:s.telefono||""}),b&&s.id_usuario&&ae.getONGProfileImage(s.id_usuario).then(async Z=>{if(Z.imageUrl){const{API_BASE_URL:D}=await qt(async()=>{const{API_BASE_URL:Y}=await Promise.resolve().then(()=>Ft);return{API_BASE_URL:Y}},void 0);g(`${D}${Z.imageUrl}`)}}).catch(Z=>{console.error("Error al cargar imagen de perfil:",Z)}),b&&s.redes_sociales)try{console.log("üîç Redes sociales del usuario:",s.redes_sociales),console.log("üîç Tipo:",typeof s.redes_sociales);const Z=typeof s.redes_sociales=="string"?JSON.parse(s.redes_sociales):s.redes_sociales;console.log("‚úÖ Redes sociales parseadas:",Z),v(Array.isArray(Z)?Z:[])}catch(Z){console.error("‚ùå Error al parsear redes sociales:",Z),v([])}else b&&(console.log("‚ö†Ô∏è ONG sin redes sociales"),v([]))}},[s,b]),o.useEffect(()=>{b&&s?.id_usuario&&T()},[b,s?.id_usuario]);const T=async()=>{try{U(!0),console.log("üì• Cargando categor√≠as para ONG ID:",s?.id_usuario);const _=await ae.getCategories();console.log("üì• Categor√≠as disponibles:",_),L(_.categorias||[]);const Z=await ae.getONGCategories(s.id_usuario);console.log("üì• Categor√≠as de la ONG:",Z);const D=(Z.categorias||[]).map(Y=>Y.id_categoria);console.log("üì• IDs de categor√≠as seleccionadas:",D),k(D)}catch(_){console.error("‚ùå Error al cargar categor√≠as:",_),K.error("Error al cargar las categor√≠as")}finally{U(!1)}},H=async()=>{try{if(console.log("üîÑ Iniciando guardado de perfil..."),console.log("üìã Datos actuales del perfil:",i),!i.name.trim()){K.error("El nombre no puede estar vac√≠o");return}const _=i.name.trim().split(" "),Z=_[0]||"",D=_.slice(1).join(" ")||"",Y={nombre:Z,apellido:D,ubicacion:i.location||"",bio:i.bio||"",telefono:i.telefono||""};if(console.log("üì§ Datos a enviar al backend:",Y),console.log("üë§ Usuario actual:",s),await t(Y),b&&s?.id_usuario)try{console.log("üìÇ Guardando categor√≠as..."),console.log("üìÇ ID de usuario:",s.id_usuario),console.log("üìÇ Categor√≠as seleccionadas:",y);const z=await ae.updateONGCategories(s.id_usuario,y);console.log("‚úÖ Categor√≠as guardadas exitosamente:",z),K.success("Categor√≠as actualizadas exitosamente")}catch(z){console.error("‚ùå Error al guardar categor√≠as:",z),console.error("‚ùå Detalles completos del error:",JSON.stringify(z,null,2)),K.error("Error al guardar las categor√≠as")}Y.bio&&Y.bio.trim()!==""&&r(),console.log("‚úÖ Perfil guardado exitosamente"),n(!1)}catch(_){console.error("‚ùå Error detallado al guardar perfil:",_),console.error("‚ùå Tipo de error:",typeof _),console.error("‚ùå Error objeto:",_),_?.response?.data?.error?K.error(`Error: ${_.response.data.error}`):_?.message?K.error(`Error: ${_.message}`):K.error("Error al guardar los cambios")}},R=()=>{if(s){const _=s.nombre&&s.apellido?`${s.nombre} ${s.apellido}`.trim():s.nombre||s.apellido||"";l({name:_,email:s.email||"",location:s.ubicacion||"",bio:s.biografia||"",telefono:s.telefono||""})}n(!1)},V=_=>{const Z=_.target.files?.[0];if(Z){if(!Z.type.startsWith("image/")){K.error("Por favor selecciona un archivo de imagen v√°lido");return}if(Z.size>5*1024*1024){K.error("La imagen debe ser menor a 5MB");return}d(Z);const D=new FileReader;D.onload=Y=>{p(Y.target?.result)},D.readAsDataURL(Z)}},B=async()=>{if(!c||!s?.id_usuario){K.error("Por favor selecciona una imagen");return}h(!0);try{const _=await ae.uploadONGProfileImage(c),{API_BASE_URL:Z}=await qt(async()=>{const{API_BASE_URL:D}=await Promise.resolve().then(()=>Ft);return{API_BASE_URL:D}},void 0);g(`${Z}${_.imageUrl}`),K.success("Imagen guardada exitosamente en el servidor"),d(null),p(null),console.log("‚úÖ Imagen guardada en el servidor:",_.imageUrl)}catch(_){console.error("Error al subir imagen al servidor:",_),K.error("Error al guardar la imagen en el servidor. Int√©ntalo de nuevo.")}finally{h(!1)}},X=()=>{d(null),p(null)},re=async _=>{try{w(!0),console.log("üîµ Guardando redes sociales:",_),console.log("üîµ Tipo de links:",typeof _),console.log("üîµ Es array?:",Array.isArray(_)),await t({redes_sociales:_}),console.log("‚úÖ Redes sociales enviadas al backend"),v(_),K.success("Redes sociales guardadas exitosamente")}catch(Z){throw console.error("‚ùå Error al guardar redes sociales:",Z),K.error("Error al guardar las redes sociales"),Z}finally{w(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mi Perfil"}),e.jsx("p",{className:"text-gray-600",children:"Gestiona tu informaci√≥n personal y preferencias"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informaci√≥n Personal"}),e.jsx("button",{onClick:()=>n(!a),className:"flex items-center text-purple-600 hover:text-purple-700",children:a?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Cancelar"]}):e.jsxs(e.Fragment,{children:[e.jsx(yo,{className:"w-4 h-4 mr-2"}),"Editar"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"Nombre de la Organizaci√≥n":"Nombre Completo"}),a?e.jsx("input",{type:"text",value:i.name,onChange:_=>l(Z=>({...Z,name:_.target.value})),className:"input-field"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-gray-900",children:i.name||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electr√≥nico"}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Bt,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-gray-900",children:i.email||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicaci√≥n"}),a?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("input",{type:"text",value:G,onChange:_=>{W(_.target.value),l(Z=>({...Z,location:_.target.value}))},onKeyDown:_=>{if(_.key==="Tab"&&P.length>0){_.preventDefault();const Z=P[0];W(Z),l(D=>({...D,location:Z})),I([])}},className:"input-field flex-1",placeholder:"Calle y numeraci√≥n en C√≥rdoba (presiona TAB para autocompletar)",autoComplete:"off"})}),P.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:e.jsxs("div",{className:"max-h-36 overflow-y-auto",children:[P.slice(0,3).map((_,Z)=>e.jsx("button",{type:"button",className:`w-full px-4 py-3 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none border-b border-gray-100 last:border-b-0 transition-colors ${Z===0?"bg-purple-50":""}`,onClick:()=>{W(_),l(D=>({...D,location:_})),I([])},children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:`text-sm ${Z===0?"font-bold text-gray-900":"text-gray-700"}`,children:_}),Z===0&&e.jsx("span",{className:"ml-auto text-xs text-purple-600",children:"Presiona TAB"})]})},Z)),P.length>3&&e.jsxs("div",{className:"px-4 py-2 text-xs text-gray-500 bg-gray-50 border-t border-gray-200",children:["+",P.length-3," sugerencias m√°s disponibles"]})]})})]}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(lt,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-gray-900",children:i.location||"No especificada. ej: "})]})]}),b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel√©fono de Contacto"}),a?e.jsx("input",{type:"tel",value:i.telefono,onChange:_=>l(Z=>({...Z,telefono:_.target.value})),className:"input-field",placeholder:"Ej: +54 9 351 123 4567"}):e.jsx("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:e.jsx("span",{className:"text-gray-900",children:i.telefono||"No especificado"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"Descripci√≥n de la Organizaci√≥n":"Biograf√≠a"}),a?e.jsx("textarea",{value:i.bio,onChange:_=>l(Z=>({...Z,bio:_.target.value})),className:"input-field min-h-[100px] resize-y",placeholder:b?"Describe tu organizaci√≥n, misi√≥n y objetivos...":"Cu√©ntanos sobre ti...",rows:4}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("span",{className:"text-gray-900 whitespace-pre-wrap",children:i.bio||(b?"No hay descripci√≥n de la organizaci√≥n":"No hay biograf√≠a disponible")})})]}),b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor√≠as de la Organizaci√≥n"}),a?e.jsx("div",{children:A?e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-600",children:"Cargando categor√≠as..."})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona una o m√°s categor√≠as que mejor describan tu organizaci√≥n:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.map(_=>e.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${y.includes(_.id_categoria)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:y.includes(_.id_categoria),onChange:Z=>{Z.target.checked?k(D=>[...D,_.id_categoria]):k(D=>D.filter(Y=>Y!==_.id_categoria))},className:"sr-only"}),e.jsxs("div",{className:"flex items-center",children:[_.color&&e.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:_.color}}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[_.icono&&e.jsx("span",{className:"mr-1",children:_.icono}),_.nombre]})]})]},_.id_categoria))}),E.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay categor√≠as disponibles"})]})}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:y.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(_=>{const Z=E.find(D=>D.id_categoria===_);return Z?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:Z.color||"#6B7280"},children:[Z.icono&&e.jsx("span",{className:"mr-1",children:Z.icono}),Z.nombre]},_):null})}):e.jsx("span",{className:"text-gray-500",children:"No hay categor√≠as seleccionadas"})})]}),b&&e.jsx("div",{className:"border-t pt-6",children:e.jsx(bl,{initialLinks:u,onSave:re,saving:j})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miembro desde"}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(gt,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-gray-900",children:s?.createdAt?new Date(s.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]})]}),a&&e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsxs("button",{onClick:H,className:"btn-primary flex items-center",children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"Guardar Cambios"]}),e.jsx("button",{onClick:R,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"})]})]})]}),b&&e.jsxs("div",{className:"card p-6 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Imagen de la Organizaci√≥n"}),x&&!f&&e.jsxs("button",{onClick:async()=>{try{await ae.deleteONGProfileImage(),g(null),K.success("Imagen eliminada exitosamente")}catch(_){console.error("Error al eliminar imagen:",_),K.error("Error al eliminar la imagen")}},className:"text-xs text-red-600 hover:text-red-800 flex items-center",children:[e.jsx(ls,{className:"w-3 h-3 mr-1"}),"Eliminar imagen"]})]}),e.jsxs("div",{className:"space-y-4",children:[x&&!f&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen Actual"}),e.jsx("div",{className:"relative inline-block",children:e.jsx("img",{src:x,alt:"Imagen de la organizaci√≥n",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})})]}),f&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vista Previa"}),e.jsx("div",{className:"relative inline-block",children:e.jsx("img",{src:f,alt:"Vista previa",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f?"Cambiar Imagen":x?"Actualizar Imagen":"Subir Imagen"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Seleccionar Archivo"]}),f&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:B,disabled:m,className:"btn-primary flex items-center disabled:opacity-50",children:[e.jsx(jo,{className:"w-4 h-4 mr-2"}),m?"Subiendo...":"Subir Imagen"]}),e.jsxs("button",{onClick:X,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center",children:[e.jsx(ls,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formatos permitidos: JPG, PNG, GIF. Tama√±o m√°ximo: 5MB"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tipo de Cuenta"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center",children:b?e.jsx(tt,{className:"w-5 h-5 text-white"}):e.jsx(it,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:b?"Organizaci√≥n":"Persona"}),e.jsx("p",{className:"text-sm text-gray-500",children:b?"Puedes crear publicaciones":"Puedes donar y hacer voluntariado"})]})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(yl,{})})]})]})})}function Nl(){const[s,t]=o.useState(""),[r,a]=o.useState(!1),[n,i]=o.useState(""),[l,c]=o.useState("");Re();const d=async f=>{f.preventDefault(),a(!0),c(""),i("");try{const p=await fetch("/auth/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correo:s})}),m=await p.json();p.ok?(i(m.message),K.success("Enlace de recuperaci√≥n enviado")):(c(m.error||"Ocurri√≥ un error al procesar tu solicitud"),K.error("Error al enviar el enlace"))}catch{c("Error al conectar con el servidor. Por favor, intenta nuevamente."),K.error("Error de conexi√≥n")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(ie,{to:"/",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-4",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(De,{className:"w-6 h-6 text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Recuperar Contrase√±a"}),e.jsx("p",{className:"text-gray-600",children:"Ingresa tu email y te enviaremos un enlace para recuperar tu contrase√±a."})]}),e.jsx("div",{className:"card p-8",children:n?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4",children:e.jsx("p",{children:n})}),e.jsx(ie,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-semibold underline",children:"Volver al login"})]}):e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr√≥nico"}),e.jsx("input",{type:"email",placeholder:"tu@email.com",value:s,onChange:f=>t(f.target.value),required:!0,className:"input-field"})]}),l&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:l})}),e.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Enviando...":"Enviar enlace de recuperaci√≥n"}),e.jsx("div",{className:"text-center",children:e.jsx(ie,{to:"/login",className:"text-sm font-medium text-purple-600 hover:text-purple-700",children:"Volver al login"})})]})})]})})}function wl(){const[s,t]=o.useState(""),[r,a]=o.useState(""),[n,i]=o.useState(!1),[l,c]=o.useState(!1),[d,f]=o.useState(!1),[p,m]=o.useState(!1),[h,x]=o.useState(""),g=Re(),{token:u}=Hs();o.useEffect(()=>{u||x("Token de recuperaci√≥n no v√°lido")},[u]);const v=async j=>{if(j.preventDefault(),f(!0),x(""),s!==r){x("Las contrase√±as no coinciden"),f(!1);return}if(s.length<8){x("La contrase√±a debe tener al menos 8 caracteres"),f(!1);return}if(!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s)){x("La contrase√±a debe contener al menos una may√∫scula, una min√∫scula y un n√∫mero"),f(!1);return}try{const w=await fetch(`/auth/reset-password/${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nuevaContrasena:s})}),E=await w.json();w.ok?(m(!0),K.success("Contrase√±a actualizada exitosamente"),setTimeout(()=>{g("/login")},3e3)):(x(E.error||"Ocurri√≥ un error al actualizar la contrase√±a"),K.error("Error al actualizar contrase√±a"))}catch{x("Error al conectar con el servidor"),K.error("Error de conexi√≥n")}finally{f(!1)}};return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center animate-pulse",children:e.jsx(Wt,{className:"w-10 h-10 text-white animate-bounce"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"¬°Contrase√±a actualizada!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tu contrase√±a ha sido cambiada exitosamente."}),e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:e.jsx("p",{className:"text-sm",children:"Redirigiendo al login en unos segundos..."})}),e.jsxs(ie,{to:"/login",className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-semibold",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Ir al login ahora"]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(ie,{to:"/login",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-4",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Volver al login"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(De,{className:"w-6 h-6 text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crear Nueva Contrase√±a"}),e.jsx("p",{className:"text-gray-600",children:"Ingresa tu nueva contrase√±a para completar la recuperaci√≥n."})]}),e.jsx("div",{className:"card p-8",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",placeholder:"Ingresa tu nueva contrase√±a",value:s,onChange:j=>t(j.target.value),required:!0,className:"input-field pr-10"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?e.jsx($t,{className:"h-5 w-5 text-gray-400"}):e.jsx(ht,{className:"h-5 w-5 text-gray-400"})})]}),s&&e.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[e.jsxs("div",{className:`flex items-center ${s.length>=8?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-1",children:s.length>=8?"‚úì":"‚óã"}),"M√≠nimo 8 caracteres"]}),e.jsxs("div",{className:`flex items-center ${/(?=.*[a-z])/.test(s)?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-1",children:/(?=.*[a-z])/.test(s)?"‚úì":"‚óã"}),"Una letra min√∫scula"]}),e.jsxs("div",{className:`flex items-center ${/(?=.*[A-Z])/.test(s)?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-1",children:/(?=.*[A-Z])/.test(s)?"‚úì":"‚óã"}),"Una letra may√∫scula"]}),e.jsxs("div",{className:`flex items-center ${/(?=.*\d)/.test(s)?"text-green-600":"text-gray-400"}`,children:[e.jsx("span",{className:"mr-1",children:/(?=.*\d)/.test(s)?"‚úì":"‚óã"}),"Un n√∫mero"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar nueva contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",placeholder:"Confirma tu nueva contrase√±a",value:r,onChange:j=>a(j.target.value),required:!0,className:"input-field pr-10"}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?e.jsx($t,{className:"h-5 w-5 text-gray-400"}):e.jsx(ht,{className:"h-5 w-5 text-gray-400"})})]})]}),h&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h})}),e.jsx("button",{type:"submit",disabled:d||!u,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Actualizando...":"Actualizar contrase√±a"}),e.jsx("div",{className:"text-center",children:e.jsx(ie,{to:"/login",className:"text-sm font-medium text-purple-600 hover:text-purple-700",children:"Volver al login"})})]})})]})})}function Cl(){const s=Re(),{token:t}=Hs(),{setUserFromVerification:r}=Ce(),[a,n]=o.useState("loading"),[i,l]=o.useState(""),[c,d]=o.useState(null),[f,p]=o.useState(""),[m,h]=o.useState(!1),[x,g]=o.useState(!1),u=o.useRef(!1),[v,j]=o.useState(5);console.log("VerifyEmailPage cargado en React Router"),console.log("Token:",t),o.useEffect(()=>{const E=async()=>{try{if(!t){console.error("No hay token disponible"),n("error"),l("Token de verificaci√≥n no v√°lido");return}console.log("üîç Iniciando verificaci√≥n con token:",t);const L=await fetch(`/auth/verify-email/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});console.log("üì° Respuesta del servidor - Status:",L.status);const y=await L.json();if(console.log("üì¶ Datos recibidos:",y),L.ok&&y.verified){console.log("‚úÖ Verificaci√≥n exitosa!"),n("success"),d(y.user),y.token&&y.user&&(console.log("üîë Estableciendo sesi√≥n autom√°ticamente..."),r(y.user,y.token)),console.log("üöÄ Redirigiendo a la cuenta..."),j(5);const k=setInterval(()=>{j(A=>A<=1?(clearInterval(k),s("/dashboard"),0):A-1)},1e3)}else console.error("‚ùå Error en la verificaci√≥n:",y.error),n("error"),l(y.error||"Error al verificar el email"),y.tokenExpired&&(h(!0),p(y.email||"")),y.alreadyVerified&&l("Este enlace ya fue utilizado. Tu cuenta ya est√° activa."),K.error(y.error||"Error al verificar el email")}catch(L){console.error("üí• Error de conexi√≥n:",L),n("error"),l("Error de conexi√≥n. Por favor, intenta nuevamente."),K.error("Error de conexi√≥n")}};a==="loading"&&!u.current&&(u.current=!0,E())},[t]);const w=async()=>{if(!f){K.error("No se pudo identificar el correo asociado");return}g(!0);try{const E=await fetch("/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correo:f})}),L=await E.json();E.ok?(K.success(L.message||"Email de verificaci√≥n reenviado exitosamente"),n("success"),l(""),d({reenvio:!0})):K.error(L.error||"Error al reenviar el email")}catch(E){console.error("Error al reenviar verificaci√≥n:",E),K.error("Error de conexi√≥n. Por favor, intenta nuevamente.")}finally{g(!1)}};return a==="loading"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl border border-gray-200 text-center max-w-md w-full mx-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verificando tu email..."}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Por favor espera mientras confirmamos tu cuenta."})]})}):a==="error"?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-lg px-6 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx(ie,{to:"/",className:"text-4xl md:text-5xl font-bold text-purple-600",children:"DEMOS+"}),e.jsx(ie,{to:"/login",className:"border-2 border-purple-600 text-purple-600 px-6 py-2 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors",children:"INICIAR SESI√ìN"})]})}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-100px)] px-6 py-8",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl border border-gray-200 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error de verificaci√≥n"}),e.jsx("p",{className:"text-red-600 text-sm",children:i})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:m?"Este enlace de verificaci√≥n no es v√°lido.":"Es posible que el enlace sea incorrecto o ya haya sido utilizado."}),m&&f&&e.jsxs("p",{className:"text-gray-700 text-sm mt-2",children:["Correo asociado: ",e.jsx("strong",{children:f})]})]}),e.jsx("div",{className:"space-y-3",children:m&&f?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,disabled:x,className:"block w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors text-center shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Reenviando...":"Reenviar email de verificaci√≥n"}),e.jsx(ie,{to:"/login",className:"block w-full border-2 border-purple-600 text-purple-600 py-3 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors text-center",children:"Ir a iniciar sesi√≥n"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{to:"/register",className:"block w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors text-center shadow-lg",children:"Volver a registrarse"}),e.jsx(ie,{to:"/login",className:"block w-full border-2 border-purple-600 text-purple-600 py-3 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors text-center",children:"Ir a iniciar sesi√≥n"})]})})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-lg px-6 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:e.jsx(ie,{to:"/",className:"text-4xl md:text-5xl font-bold text-purple-600",children:"DEMOS+"})})}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-100px)] px-6 py-8",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl border border-gray-200 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:c?.reenvio?"¬°Email de verificaci√≥n reenviado!":"¬°Email verificado exitosamente!"}),e.jsx("p",{className:"text-green-600 text-sm",children:c?.reenvio?"Se ha enviado un nuevo enlace de verificaci√≥n a tu correo.":"Tu cuenta ha sido activada correctamente."})]}),c?.reenvio?e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"Por favor, revisa tu bandeja de entrada. El enlace de verificaci√≥n permanecer√° v√°lido hasta que lo uses."}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mt-2",children:"Si no recibes el correo, revisa tu carpeta de spam o correo no deseado."})]}):e.jsxs("div",{className:"bg-emerald-50 rounded-lg p-6 mb-6",children:[e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed mb-3",children:["¬°Bienvenido a DEMOS+, ",e.jsxs("strong",{className:"text-purple-600",children:[c?.nombre," ",c?.apellido]}),"!"]}),e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed",children:["Tu sesi√≥n se ha iniciado autom√°ticamente. Ser√°s redirigido a tu cuenta en ",v," segundos..."]})]}),e.jsx("div",{className:"space-y-3",children:c?.reenvio?e.jsxs(e.Fragment,{children:[e.jsx(ie,{to:"/login",className:"block w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors text-center shadow-lg",children:"Ir a iniciar sesi√≥n"}),e.jsx(ie,{to:"/",className:"block w-full border-2 border-purple-600 text-purple-600 py-3 rounded-lg font-semibold hover:bg-purple-600 hover:text-white transition-colors text-center",children:"Volver al inicio"})]}):e.jsx("button",{onClick:()=>{console.log("üöÄ Navegando inmediatamente a la cuenta"),s("/dashboard")},className:"w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors shadow-lg",children:"Ir a mi cuenta ahora"})}),!c?.reenvio&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-6 h-1 bg-purple-600 rounded-full animate-pulse mr-1"}),e.jsx("div",{className:"w-6 h-1 bg-purple-600 rounded-full animate-pulse mr-1",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-6 h-1 bg-purple-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Redirigiendo autom√°ticamente..."})]})]})})})]})}const kl=["Ni√±os","Gente mayor","Mujeres","Animales","Personas con discapacidad","Familias","Otros"],Ll=["Dinero","Ropa","Juguetes","Comida","Muebles","Otros"];function El(){const[s,t]=o.useState(""),[r,a]=o.useState(""),[n,i]=o.useState(!1),[l,c]=o.useState(""),d=Re(),{clearMissingDataNotification:f}=sr(),p=async m=>{if(m.preventDefault(),c(""),!s||!r){c("Debes seleccionar un grupo social y una necesidad.");return}i(!0);try{await ae.saveTipoONG({grupo_social:s,necesidad:r}),f(),d("/dashboard")}catch{c("Error al guardar los datos. Intenta nuevamente.")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-white to-purple-50",children:e.jsxs("form",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full",onSubmit:p,children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Completa tus datos de ONG"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"Selecciona el grupo social y la necesidad principal de tu organizaci√≥n."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Grupo social"}),e.jsxs("select",{value:s,onChange:m=>t(m.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Selecciona..."}),kl.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Necesidad"}),e.jsxs("select",{value:r,onChange:m=>a(m.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Selecciona..."}),Ll.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),l&&e.jsx("div",{className:"text-red-600 mb-4",children:l}),e.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 rounded font-semibold hover:bg-purple-700 transition-colors",disabled:n,children:n?"Guardando...":"Guardar datos"})]})})}function Sl(){const[s]=tn(),t=Re(),{setUser:r}=Ce(),[a,n]=o.useState("loading"),[i,l]=o.useState(null),[c,d]=o.useState(""),[f,p]=o.useState(5);o.useEffect(()=>{(async()=>{const x=s.get("token"),g=s.get("provider");if(s.get("error")){n("error"),K.error("Error en la autenticaci√≥n. Int√©ntalo de nuevo."),setTimeout(()=>t("/login"),3e3);return}if(!x){n("error"),K.error("Token de autenticaci√≥n no encontrado."),setTimeout(()=>t("/login"),3e3);return}try{localStorage.setItem("token",x),d(x);const v=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${x}`}});if(!v.ok){const E=await v.json();throw console.error("Error del servidor:",E),new Error(`Error del servidor: ${E.error||"Error desconocido"}`)}const{user:j}=await v.json();if(console.log("Usuario recibido del servidor:",j),!j||!j.email)throw new Error("Usuario no v√°lido: faltan datos esenciales");r(j),l(j),n("success"),K.success(`¬°Bienvenido! Iniciaste sesi√≥n con ${g}`),p(5);const w=setInterval(()=>{p(E=>E<=1?(clearInterval(w),t("/"),0):E-1)},1e3)}catch(v){console.error("Error en callback OAuth:",v),n("error"),K.error(`Error al procesar la autenticaci√≥n: ${v.message}`),setTimeout(()=>t("/login"),3e3)}})()},[s,t,r]);const m=()=>{t("/")};return a==="loading"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-emerald-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procesando autenticaci√≥n..."}),e.jsx("p",{className:"text-gray-600",children:"Por favor espera mientras completamos tu inicio de sesi√≥n."})]})}):a==="error"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error de Autenticaci√≥n"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Hubo un problema al procesar tu inicio de sesi√≥n. Ser√°s redirigido al login en unos segundos."}),e.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Volver al Login"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(No,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"¬°Inicio de Sesi√≥n Exitoso!"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Te has autenticado correctamente con Google"})]}),i&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-gray-700",children:["Bienvenido, ",e.jsxs("span",{className:"font-semibold",children:[i.nombre," ",i.apellido]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:m,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Ir a la P√°gina Principal"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Ser√°s redirigido autom√°ticamente en ",f," segundos..."]})]})]})})}function Gt(s){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(s)}function Pl(s,t){if(Gt(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t);if(Gt(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Ml(s){var t=Pl(s,"string");return Gt(t)=="symbol"?t:t+""}function F(s,t,r){return(t=Ml(t))in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function Tn(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ms,zr;function Ol(){if(zr)return Ms;zr=1;var s=function(r,a,n,i,l,c,d,f){if(!r){var p;if(a===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,i,l,c,d,f],h=0;p=new Error(a.replace(/%s/g,function(){return m[h++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Ms=s,Ms}var Dl=Ol(),Pe=Tn(Dl),ue=o.createContext(null);function _l(){Pe(!!o.useContext,"useGoogleMap is React hook and requires React version 16.8+");var s=o.useContext(ue);return Pe(!!s,"useGoogleMap needs a GoogleMap available up in the tree"),s}function Tl(s,t,r){return Object.keys(s).reduce(function(n,i){return t(n,s[i],i)},r)}function Il(s,t){Object.keys(s).forEach(r=>t(s[r],r))}function Al(s,t,r,a){var n={},i=(l,c)=>{var d=r[c];d!==t[c]&&(n[c]=d,l(a,d))};return Il(s,i),n}function Rl(s,t,r){var a=Tl(r,function(i,l,c){return typeof s[c]=="function"&&i.push(google.maps.event.addListener(t,l,s[c])),i},[]);return a}function zl(s){google.maps.event.removeListener(s)}function he(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(zl)}function me(s){var{updaterMap:t,eventMap:r,prevProps:a,nextProps:n,instance:i}=s,l=Rl(n,i,r);return Al(t,a,n,i),l}var Ur={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Br={extraMapTypes(s,t){t.forEach(function(a,n){s.mapTypes.set(String(n),a)})},center(s,t){s.setCenter(t)},clickableIcons(s,t){s.setClickableIcons(t)},heading(s,t){s.setHeading(t)},mapTypeId(s,t){s.setMapTypeId(t)},options(s,t){s.setOptions(t)},streetView(s,t){s.setStreetView(t)},tilt(s,t){s.setTilt(t)},zoom(s,t){s.setZoom(t)}};function Ul(s){var{children:t,options:r,id:a,mapContainerStyle:n,mapContainerClassName:i,center:l,onClick:c,onDblClick:d,onDrag:f,onDragEnd:p,onDragStart:m,onMouseMove:h,onMouseOut:x,onMouseOver:g,onMouseDown:u,onMouseUp:v,onRightClick:j,onCenterChanged:w,onLoad:E,onUnmount:L}=s,[y,k]=o.useState(null),A=o.useRef(null),[U,P]=o.useState(null),[I,$]=o.useState(null),[S,G]=o.useState(null),[W,b]=o.useState(null),[T,H]=o.useState(null),[R,V]=o.useState(null),[B,X]=o.useState(null),[re,_]=o.useState(null),[Z,D]=o.useState(null),[Y,z]=o.useState(null),[ee,de]=o.useState(null),[oe,ge]=o.useState(null);return o.useEffect(()=>{r&&y!==null&&y.setOptions(r)},[y,r]),o.useEffect(()=>{y!==null&&typeof l<"u"&&y.setCenter(l)},[y,l]),o.useEffect(()=>{y&&d&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(y,"dblclick",d)))},[d]),o.useEffect(()=>{y&&p&&(S!==null&&google.maps.event.removeListener(S),G(google.maps.event.addListener(y,"dragend",p)))},[p]),o.useEffect(()=>{y&&m&&(W!==null&&google.maps.event.removeListener(W),b(google.maps.event.addListener(y,"dragstart",m)))},[m]),o.useEffect(()=>{y&&u&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(y,"mousedown",u)))},[u]),o.useEffect(()=>{y&&h&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(y,"mousemove",h)))},[h]),o.useEffect(()=>{y&&x&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(y,"mouseout",x)))},[x]),o.useEffect(()=>{y&&g&&(re!==null&&google.maps.event.removeListener(re),_(google.maps.event.addListener(y,"mouseover",g)))},[g]),o.useEffect(()=>{y&&v&&(Z!==null&&google.maps.event.removeListener(Z),D(google.maps.event.addListener(y,"mouseup",v)))},[v]),o.useEffect(()=>{y&&j&&(Y!==null&&google.maps.event.removeListener(Y),z(google.maps.event.addListener(y,"rightclick",j)))},[j]),o.useEffect(()=>{y&&c&&(ee!==null&&google.maps.event.removeListener(ee),de(google.maps.event.addListener(y,"click",c)))},[c]),o.useEffect(()=>{y&&f&&(oe!==null&&google.maps.event.removeListener(oe),ge(google.maps.event.addListener(y,"drag",f)))},[f]),o.useEffect(()=>{y&&w&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(y,"center_changed",w)))},[c]),o.useEffect(()=>{var _e=A.current===null?null:new google.maps.Map(A.current,r);return k(_e),_e!==null&&E&&E(_e),()=>{_e!==null&&L&&L(_e)}},[]),e.jsx("div",{id:a,ref:A,style:n,className:i,children:e.jsx(ue.Provider,{value:y,children:y!==null?t:null})})}o.memo(Ul);class Bl extends o.PureComponent{constructor(){super(...arguments),F(this,"state",{map:null}),F(this,"registeredEvents",[]),F(this,"mapRef",null),F(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),F(this,"panTo",t=>{var r=this.getInstance();r&&r.panTo(t)}),F(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),F(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=me({updaterMap:Br,eventMap:Ur,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Br,eventMap:Ur,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),he(this.registeredEvents))}render(){return e.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:e.jsx(ue.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function $r(s,t,r,a,n,i,l){try{var c=s[i](l),d=c.value}catch(f){return void r(f)}c.done?t(d):Promise.resolve(d).then(a,n)}function In(s){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=s.apply(t,r);function l(d){$r(i,a,n,l,c,"next",d)}function c(d){$r(i,a,n,l,c,"throw",d)}l(void 0)})}}function An(s){var{googleMapsApiKey:t,googleMapsClientId:r,version:a="weekly",language:n,region:i,libraries:l,channel:c,mapIds:d,authReferrerPolicy:f,apiUrl:p="https://maps.googleapis.com"}=s,m=[];return Pe(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?m.push("key=".concat(t)):r&&m.push("client=".concat(r)),a&&m.push("v=".concat(a)),n&&m.push("language=".concat(n)),i&&m.push("region=".concat(i)),l&&l.length&&m.push("libraries=".concat(l.sort().join(","))),c&&m.push("channel=".concat(c)),d&&d.length&&m.push("map_ids=".concat(d.join(","))),f&&m.push("auth_referrer_policy=".concat(f)),m.push("loading=async"),m.push("callback=initMap"),"".concat(p,"/maps/api/js?").concat(m.join("&"))}var ot=typeof document<"u";function Rn(s){var{url:t,id:r,nonce:a}=s;return ot?new Promise(function(i,l){var c=document.getElementById(r),d=window;if(c){var f=c.getAttribute("data-state");if(c.src===t&&f!=="error"){if(f==="ready")return i(r);var p=d.initMap,m=c.onerror;d.initMap=function(){p&&p(),i(r)},c.onerror=function(x){m&&m(x),l(x)};return}else c.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=t,h.id=r,h.async=!0,h.nonce=a||"",h.onerror=function(g){h.setAttribute("data-state","error"),l(g)},d.initMap=function(){h.setAttribute("data-state","ready"),i(r)},document.head.appendChild(h)}).catch(n=>{throw console.error("injectScript error: ",n),n}):Promise.reject(new Error("document is undefined"))}function Vr(s){var t=s.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:s.tagName.toLowerCase()==="style"&&s.styleSheet&&s.styleSheet.cssText&&s.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(s.styleSheet.cssText="",!0):s.tagName.toLowerCase()==="style"&&s.innerHTML&&s.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(s.innerHTML="",!0):s.tagName.toLowerCase()==="style"&&!s.styleSheet&&!s.innerHTML}function rr(){var s=document.getElementsByTagName("head")[0];if(s){var t=s.insertBefore.bind(s);s.insertBefore=function(n,i){return Vr(n)||Reflect.apply(t,s,[n,i]),n};var r=s.appendChild.bind(s);s.appendChild=function(n){return Vr(n)||Reflect.apply(r,s,[n]),n}}}var _t=!1;function zn(){return e.jsx("div",{children:"Loading..."})}var Ht={id:"script-loader",version:"weekly"};class $l extends o.PureComponent{constructor(){super(...arguments),F(this,"check",null),F(this,"state",{loaded:!1}),F(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),F(this,"isCleaningUp",In(function*(){function t(r){if(!_t)r();else if(ot)var a=window.setInterval(function(){_t||(window.clearInterval(a),r())},1)}return new Promise(t)})),F(this,"cleanup",()=>{_t=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(a){return typeof a.src=="string"&&a.src.includes("maps.googleapis")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(a){return a.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(a){return a.innerText!==void 0&&a.innerText.length>0&&a.innerText.includes(".gm-")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}),F(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&rr(),Pe(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:An(this.props)};Rn(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),F(this,"getRef",t=>{this.check=t})}componentDidMount(){if(ot){if(window.google&&window.google.maps&&!_t){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ot&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ot){this.cleanup();var t=()=>{this.check||(delete window.google,_t=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||e.jsx(zn,{})]})}}F($l,"defaultProps",Ht);function Vl(s,t){if(s==null)return{};var r={};for(var a in s)if({}.hasOwnProperty.call(s,a)){if(t.includes(a))continue;r[a]=s[a]}return r}function ar(s,t){if(s==null)return{};var r,a,n=Vl(s,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(a=0;a<i.length;a++)r=i[a],t.includes(r)||{}.propertyIsEnumerable.call(s,r)&&(n[r]=s[r])}return n}var Fr;function Fl(s){var{id:t=Ht.id,version:r=Ht.version,nonce:a,googleMapsApiKey:n,googleMapsClientId:i,language:l,region:c,libraries:d,preventGoogleFontsLoading:f,channel:p,mapIds:m,authReferrerPolicy:h,apiUrl:x="https://maps.googleapis.com"}=s,g=o.useRef(!1),[u,v]=o.useState(!1),[j,w]=o.useState(void 0);o.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),o.useEffect(function(){ot&&f&&rr()},[f]),o.useEffect(function(){u&&Pe(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[u]);var E=An({version:r,googleMapsApiKey:n,googleMapsClientId:i,language:l,region:c,libraries:d,channel:p,mapIds:m,authReferrerPolicy:h,apiUrl:x});o.useEffect(function(){if(!ot)return;function k(){g.current&&(v(!0),Fr=E)}if(window.google&&window.google.maps&&Fr===E){k();return}Rn({id:t,url:E,nonce:a}).then(k).catch(function(U){g.current&&w(U),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(U)})},[t,E,a]);var L=o.useRef(void 0);return o.useEffect(function(){L.current&&d!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=d},[d]),{isLoaded:u,loadError:j,url:E}}var ql=["loadingElement","onLoad","onError","onUnmount","children"],Gl=e.jsx(zn,{});function Hl(s){var{loadingElement:t,onLoad:r,onError:a,onUnmount:n,children:i}=s,l=ar(s,ql),{isLoaded:c,loadError:d}=Fl(l);return o.useEffect(function(){c&&typeof r=="function"&&r()},[c,r]),o.useEffect(function(){d&&typeof a=="function"&&a(d)},[d,a]),o.useEffect(function(){return()=>{n&&n()}},[n]),c?i:t||Gl}o.memo(Hl);function Wl(s,t,r,a){function n(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(p){try{f(a.next(p))}catch(m){l(m)}}function d(p){try{f(a.throw(p))}catch(m){l(m)}}function f(p){p.done?i(p.value):n(p.value).then(c,d)}f((a=a.apply(s,[])).next())})}function Zl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kl=function s(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,n,i;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!s(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=a;n--!==0;){var l=i[n];if(!s(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},Jl=Zl(Kl),qr="__googleMapsScriptId",Nt;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(Nt||(Nt={}));class ut{constructor(t){var{apiKey:r,authReferrerPolicy:a,channel:n,client:i,id:l=qr,language:c,libraries:d=[],mapIds:f,nonce:p,region:m,retries:h=3,url:x="https://maps.googleapis.com/maps/api/js",version:g}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=a,this.channel=n,this.client=i,this.id=l||qr,this.language=c,this.libraries=d,this.mapIds=f,this.nonce=p,this.region=m,this.retries=h,this.url=x,this.version=g,ut.instance){if(!Jl(this.options,ut.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(ut.instance.options)));return ut.instance}ut.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Nt.FAILURE:this.done?Nt.SUCCESS:this.loading?Nt.LOADING:Nt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,r)=>{this.loadCallback(a=>{a?r(a.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,r;if(document.getElementById(this.id)){this.callback();return}var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(i=>!a[i]&&delete a[i]),!((r=(t=window?.google)===null||t===void 0?void 0:t.maps)===null||r===void 0)&&r.importLibrary||(i=>{var l,c,d,f="The Google Maps JavaScript API",p="google",m="importLibrary",h="__ib__",x=document,g=window;g=g[p]||(g[p]={});var u=g.maps||(g.maps={}),v=new Set,j=new URLSearchParams,w=()=>l||(l=new Promise((E,L)=>Wl(this,void 0,void 0,function*(){var y;yield c=x.createElement("script"),c.id=this.id,j.set("libraries",[...v]+"");for(d in i)j.set(d.replace(/[A-Z]/g,k=>"_"+k[0].toLowerCase()),i[d]);j.set("callback",p+".maps."+h),c.src=this.url+"?"+j,u[h]=E,c.onerror=()=>l=L(Error(f+" could not load.")),c.nonce=this.nonce||((y=x.querySelector("script[nonce]"))===null||y===void 0?void 0:y.nonce)||"",x.head.append(c)})));u[m]?console.warn(f+" only loads once. Ignoring:",i):u[m]=function(E){for(var L=arguments.length,y=new Array(L>1?L-1:0),k=1;k<L;k++)y[k-1]=arguments[k];return v.add(E)&&w().then(()=>u[m](E,...y))}})(a);var n=this.libraries.map(i=>this.importLibrary(i));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),i=>{var l=new ErrorEvent("error",{error:i});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var r=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(r," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Yl=["maps"];function Xl(s){var{id:t=Ht.id,version:r=Ht.version,nonce:a,googleMapsApiKey:n,language:i,region:l,libraries:c=Yl,preventGoogleFontsLoading:d,mapIds:f,authReferrerPolicy:p}=s,m=o.useRef(!1),[h,x]=o.useState(!1),[g,u]=o.useState(void 0);o.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]);var v=o.useMemo(()=>new ut({id:t,apiKey:n,version:r,libraries:c,language:i||"en",region:l||"US",mapIds:f||[],nonce:a||"",authReferrerPolicy:p||"origin"}),[t,n,r,c,i,l,f,a,p]);o.useEffect(function(){h||v.load().then(()=>{m.current&&x(!0)}).catch(E=>{u(E)})},[]),o.useEffect(()=>{ot&&d&&rr()},[d]);var j=o.useRef();return o.useEffect(()=>{j.current&&c!==j.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),j.current=c},[c]),{isLoaded:h,loadError:g}}function Gr(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function hs(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gr(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var Hr={},Wr={options(s,t){s.setOptions(t)}};function Ql(s){var{options:t,onLoad:r,onUnmount:a}=s,n=o.useContext(ue),[i,l]=o.useState(null);return o.useEffect(()=>{i!==null&&i.setMap(n)},[n]),o.useEffect(()=>{t&&i!==null&&i.setOptions(t)},[i,t]),o.useEffect(()=>{var c=new google.maps.TrafficLayer(hs(hs({},t),{},{map:n}));return l(c),r&&r(c),()=>{i!==null&&(a&&a(i),i.setMap(null))}},[]),null}o.memo(Ql);class ec extends o.PureComponent{constructor(){super(...arguments),F(this,"state",{trafficLayer:null}),F(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),F(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(hs(hs({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Wr,eventMap:Hr,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Wr,eventMap:Hr,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),he(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}F(ec,"contextType",ue);function tc(s){var{onLoad:t,onUnmount:r}=s,a=o.useContext(ue),[n,i]=o.useState(null);return o.useEffect(()=>{n!==null&&n.setMap(a)},[a]),o.useEffect(()=>{var l=new google.maps.BicyclingLayer;return i(l),l.setMap(a),t&&t(l),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}o.memo(tc);class sc extends o.PureComponent{constructor(){super(...arguments),F(this,"state",{bicyclingLayer:null}),F(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}F(sc,"contextType",ue);function rc(s){var{onLoad:t,onUnmount:r}=s,a=o.useContext(ue),[n,i]=o.useState(null);return o.useEffect(()=>{n!==null&&n.setMap(a)},[a]),o.useEffect(()=>{var l=new google.maps.TransitLayer;return i(l),l.setMap(a),t&&t(l),()=>{n!==null&&(r&&r(n),n.setMap(null))}},[]),null}o.memo(rc);class ac extends o.PureComponent{constructor(){super(...arguments),F(this,"state",{transitLayer:null}),F(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}F(ac,"contextType",ue);function Zr(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function gs(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zr(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var Kr={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Jr={drawingMode(s,t){s.setDrawingMode(t)},options(s,t){s.setOptions(t)}};function nc(s){var{options:t,drawingMode:r,onCircleComplete:a,onMarkerComplete:n,onOverlayComplete:i,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:f,onUnmount:p}=s,m=o.useContext(ue),[h,x]=o.useState(null),[g,u]=o.useState(null),[v,j]=o.useState(null),[w,E]=o.useState(null),[L,y]=o.useState(null),[k,A]=o.useState(null),[U,P]=o.useState(null);return o.useEffect(()=>{h!==null&&h.setMap(m)},[m]),o.useEffect(()=>{t&&h!==null&&h.setOptions(t)},[h,t]),o.useEffect(()=>{h!==null&&h.setDrawingMode(r??null)},[h,r]),o.useEffect(()=>{h&&a&&(g!==null&&google.maps.event.removeListener(g),u(google.maps.event.addListener(h,"circlecomplete",a)))},[h,a]),o.useEffect(()=>{h&&n&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(h,"markercomplete",n)))},[h,n]),o.useEffect(()=>{h&&i&&(w!==null&&google.maps.event.removeListener(w),E(google.maps.event.addListener(h,"overlaycomplete",i)))},[h,i]),o.useEffect(()=>{h&&l&&(L!==null&&google.maps.event.removeListener(L),y(google.maps.event.addListener(h,"polygoncomplete",l)))},[h,l]),o.useEffect(()=>{h&&c&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(h,"polylinecomplete",c)))},[h,c]),o.useEffect(()=>{h&&d&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(h,"rectanglecomplete",d)))},[h,d]),o.useEffect(()=>{Pe(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(gs(gs({},t),{},{map:m}));return r&&I.setDrawingMode(r),a&&u(google.maps.event.addListener(I,"circlecomplete",a)),n&&j(google.maps.event.addListener(I,"markercomplete",n)),i&&E(google.maps.event.addListener(I,"overlaycomplete",i)),l&&y(google.maps.event.addListener(I,"polygoncomplete",l)),c&&A(google.maps.event.addListener(I,"polylinecomplete",c)),d&&P(google.maps.event.addListener(I,"rectanglecomplete",d)),x(I),f&&f(I),()=>{h!==null&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),L&&google.maps.event.removeListener(L),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),p&&p(h),h.setMap(null))}},[]),null}o.memo(nc);class oc extends o.PureComponent{constructor(t){super(t),F(this,"registeredEvents",[]),F(this,"state",{drawingManager:null}),F(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Pe(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(gs(gs({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Jr,eventMap:Kr,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Jr,eventMap:Kr,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),he(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}F(oc,"contextType",ue);function Yr(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function wt(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yr(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var Xr={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Qr={animation(s,t){s.setAnimation(t)},clickable(s,t){s.setClickable(t)},cursor(s,t){s.setCursor(t)},draggable(s,t){s.setDraggable(t)},icon(s,t){s.setIcon(t)},label(s,t){s.setLabel(t)},map(s,t){s.setMap(t)},opacity(s,t){s.setOpacity(t)},options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},shape(s,t){s.setShape(t)},title(s,t){s.setTitle(t)},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},fs={};function ic(s){var{position:t,options:r,clusterer:a,noClustererRedraw:n,children:i,draggable:l,visible:c,animation:d,clickable:f,cursor:p,icon:m,label:h,opacity:x,shape:g,title:u,zIndex:v,onClick:j,onDblClick:w,onDrag:E,onDragEnd:L,onDragStart:y,onMouseOut:k,onMouseOver:A,onMouseUp:U,onMouseDown:P,onRightClick:I,onClickableChanged:$,onCursorChanged:S,onAnimationChanged:G,onDraggableChanged:W,onFlatChanged:b,onIconChanged:T,onPositionChanged:H,onShapeChanged:R,onTitleChanged:V,onVisibleChanged:B,onZindexChanged:X,onLoad:re,onUnmount:_}=s,Z=o.useContext(ue),[D,Y]=o.useState(null),[z,ee]=o.useState(null),[de,oe]=o.useState(null),[ge,_e]=o.useState(null),[ze,We]=o.useState(null),[fe,xt]=o.useState(null),[st,Lt]=o.useState(null),[Xe,N]=o.useState(null),[M,q]=o.useState(null),[te,Q]=o.useState(null),[C,O]=o.useState(null),[J,se]=o.useState(null),[le,Ne]=o.useState(null),[be,Se]=o.useState(null),[Ue,ye]=o.useState(null),[Oe,Ze]=o.useState(null),[vt,Et]=o.useState(null),[Jt,ir]=o.useState(null),[lr,cr]=o.useState(null),[Yt,dr]=o.useState(null),[Xt,ur]=o.useState(null),[Qt,mr]=o.useState(null);o.useEffect(()=>{D!==null&&D.setMap(Z)},[Z]),o.useEffect(()=>{typeof r<"u"&&D!==null&&D.setOptions(r)},[D,r]),o.useEffect(()=>{typeof l<"u"&&D!==null&&D.setDraggable(l)},[D,l]),o.useEffect(()=>{t&&D!==null&&D.setPosition(t)},[D,t]),o.useEffect(()=>{typeof c<"u"&&D!==null&&D.setVisible(c)},[D,c]),o.useEffect(()=>{D?.setAnimation(d)},[D,d]),o.useEffect(()=>{D&&f!==void 0&&D.setClickable(f)},[D,f]),o.useEffect(()=>{D&&p!==void 0&&D.setCursor(p)},[D,p]),o.useEffect(()=>{D&&m!==void 0&&D.setIcon(m)},[D,m]),o.useEffect(()=>{D&&h!==void 0&&D.setLabel(h)},[D,h]),o.useEffect(()=>{D&&x!==void 0&&D.setOpacity(x)},[D,x]),o.useEffect(()=>{D&&g!==void 0&&D.setShape(g)},[D,g]),o.useEffect(()=>{D&&u!==void 0&&D.setTitle(u)},[D,u]),o.useEffect(()=>{D&&v!==void 0&&D.setZIndex(v)},[D,v]),o.useEffect(()=>{D&&w&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(D,"dblclick",w)))},[w]),o.useEffect(()=>{D&&L&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(D,"dragend",L)))},[L]),o.useEffect(()=>{D&&y&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(D,"dragstart",y)))},[y]),o.useEffect(()=>{D&&P&&(ze!==null&&google.maps.event.removeListener(ze),We(google.maps.event.addListener(D,"mousedown",P)))},[P]),o.useEffect(()=>{D&&k&&(fe!==null&&google.maps.event.removeListener(fe),xt(google.maps.event.addListener(D,"mouseout",k)))},[k]),o.useEffect(()=>{D&&A&&(st!==null&&google.maps.event.removeListener(st),Lt(google.maps.event.addListener(D,"mouseover",A)))},[A]),o.useEffect(()=>{D&&U&&(Xe!==null&&google.maps.event.removeListener(Xe),N(google.maps.event.addListener(D,"mouseup",U)))},[U]),o.useEffect(()=>{D&&I&&(M!==null&&google.maps.event.removeListener(M),q(google.maps.event.addListener(D,"rightclick",I)))},[I]),o.useEffect(()=>{D&&j&&(te!==null&&google.maps.event.removeListener(te),Q(google.maps.event.addListener(D,"click",j)))},[j]),o.useEffect(()=>{D&&E&&(C!==null&&google.maps.event.removeListener(C),O(google.maps.event.addListener(D,"drag",E)))},[E]),o.useEffect(()=>{D&&$&&(J!==null&&google.maps.event.removeListener(J),se(google.maps.event.addListener(D,"clickable_changed",$)))},[$]),o.useEffect(()=>{D&&S&&(le!==null&&google.maps.event.removeListener(le),Ne(google.maps.event.addListener(D,"cursor_changed",S)))},[S]),o.useEffect(()=>{D&&G&&(be!==null&&google.maps.event.removeListener(be),Se(google.maps.event.addListener(D,"animation_changed",G)))},[G]),o.useEffect(()=>{D&&W&&(Ue!==null&&google.maps.event.removeListener(Ue),ye(google.maps.event.addListener(D,"draggable_changed",W)))},[W]),o.useEffect(()=>{D&&b&&(Oe!==null&&google.maps.event.removeListener(Oe),Ze(google.maps.event.addListener(D,"flat_changed",b)))},[b]),o.useEffect(()=>{D&&T&&(vt!==null&&google.maps.event.removeListener(vt),Et(google.maps.event.addListener(D,"icon_changed",T)))},[T]),o.useEffect(()=>{D&&H&&(Jt!==null&&google.maps.event.removeListener(Jt),ir(google.maps.event.addListener(D,"position_changed",H)))},[H]),o.useEffect(()=>{D&&R&&(lr!==null&&google.maps.event.removeListener(lr),cr(google.maps.event.addListener(D,"shape_changed",R)))},[R]),o.useEffect(()=>{D&&V&&(Yt!==null&&google.maps.event.removeListener(Yt),dr(google.maps.event.addListener(D,"title_changed",V)))},[V]),o.useEffect(()=>{D&&B&&(Xt!==null&&google.maps.event.removeListener(Xt),ur(google.maps.event.addListener(D,"visible_changed",B)))},[B]),o.useEffect(()=>{D&&X&&(Qt!==null&&google.maps.event.removeListener(Qt),mr(google.maps.event.addListener(D,"zindex_changed",X)))},[X]),o.useEffect(()=>{var St=wt(wt(wt({},r||fs),a?fs:{map:Z}),{},{position:t}),ce=new google.maps.Marker(St);return a?a.addMarker(ce,!!n):ce.setMap(Z),t&&ce.setPosition(t),typeof c<"u"&&ce.setVisible(c),typeof l<"u"&&ce.setDraggable(l),typeof f<"u"&&ce.setClickable(f),typeof p=="string"&&ce.setCursor(p),m&&ce.setIcon(m),typeof h<"u"&&ce.setLabel(h),typeof x<"u"&&ce.setOpacity(x),g&&ce.setShape(g),typeof u=="string"&&ce.setTitle(u),typeof v=="number"&&ce.setZIndex(v),w&&ee(google.maps.event.addListener(ce,"dblclick",w)),L&&oe(google.maps.event.addListener(ce,"dragend",L)),y&&_e(google.maps.event.addListener(ce,"dragstart",y)),P&&We(google.maps.event.addListener(ce,"mousedown",P)),k&&xt(google.maps.event.addListener(ce,"mouseout",k)),A&&Lt(google.maps.event.addListener(ce,"mouseover",A)),U&&N(google.maps.event.addListener(ce,"mouseup",U)),I&&q(google.maps.event.addListener(ce,"rightclick",I)),j&&Q(google.maps.event.addListener(ce,"click",j)),E&&O(google.maps.event.addListener(ce,"drag",E)),$&&se(google.maps.event.addListener(ce,"clickable_changed",$)),S&&Ne(google.maps.event.addListener(ce,"cursor_changed",S)),G&&Se(google.maps.event.addListener(ce,"animation_changed",G)),W&&ye(google.maps.event.addListener(ce,"draggable_changed",W)),b&&Ze(google.maps.event.addListener(ce,"flat_changed",b)),T&&Et(google.maps.event.addListener(ce,"icon_changed",T)),H&&ir(google.maps.event.addListener(ce,"position_changed",H)),R&&cr(google.maps.event.addListener(ce,"shape_changed",R)),V&&dr(google.maps.event.addListener(ce,"title_changed",V)),B&&ur(google.maps.event.addListener(ce,"visible_changed",B)),X&&mr(google.maps.event.addListener(ce,"zindex_changed",X)),Y(ce),re&&re(ce),()=>{z!==null&&google.maps.event.removeListener(z),de!==null&&google.maps.event.removeListener(de),ge!==null&&google.maps.event.removeListener(ge),ze!==null&&google.maps.event.removeListener(ze),fe!==null&&google.maps.event.removeListener(fe),st!==null&&google.maps.event.removeListener(st),Xe!==null&&google.maps.event.removeListener(Xe),M!==null&&google.maps.event.removeListener(M),te!==null&&google.maps.event.removeListener(te),J!==null&&google.maps.event.removeListener(J),le!==null&&google.maps.event.removeListener(le),be!==null&&google.maps.event.removeListener(be),Ue!==null&&google.maps.event.removeListener(Ue),Oe!==null&&google.maps.event.removeListener(Oe),vt!==null&&google.maps.event.removeListener(vt),Jt!==null&&google.maps.event.removeListener(Jt),Yt!==null&&google.maps.event.removeListener(Yt),Xt!==null&&google.maps.event.removeListener(Xt),Qt!==null&&google.maps.event.removeListener(Qt),_&&_(ce),a?a.removeMarker(ce,!!n):ce&&ce.setMap(null)}},[]);var Jn=o.useMemo(()=>i?o.Children.map(i,St=>{if(!o.isValidElement(St))return St;var ce=St;return o.cloneElement(ce,{anchor:D})}):null,[i,D]);return e.jsx(e.Fragment,{children:Jn})||null}o.memo(ic);class Un extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var t=this;return In(function*(){var r=wt(wt(wt({},t.props.options||fs),t.props.clusterer?fs:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(r),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=me({updaterMap:Qr,eventMap:Xr,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Qr,eventMap:Xr,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),he(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?o.Children.map(this.props.children,r=>{if(!o.isValidElement(r))return r;var a=r;return o.cloneElement(a,{anchor:this.marker})}):null;return t||null}}F(Un,"contextType",ue);var lc=(function(){function s(t,r){t.getClusterer().extend(s,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return s.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},s.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},s.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var a=r.getMaxZoom(),n=this.cluster.getBounds(),i=r.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(n),this.timeOut=window.setTimeout(function(){var l=r.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(n);var c=l.getZoom()||0;a!==null&&c>a&&l.setZoom(a+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},s.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},s.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},s.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},s.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},s.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},s.prototype.show=function(){var t,r,a,n,i,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((t=d[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((r=d[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=c,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var x=document.createElement("div");x.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((a=this.sums)===null||a===void 0)&&a.text&&(x.innerText="".concat((n=this.sums)===null||n===void 0?void 0:n.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(x.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(x),this.div.title=c,this.div.style.display=""}this.visible=!0},s.prototype.useStyle=function(t){this.sums=t;var r=this.cluster.getClusterer().getStyles(),a=r[Math.min(r.length-1,Math.max(0,t.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},s.prototype.setCenter=function(t){this.center=t},s.prototype.getPosFromLatLng=function(t){var r=this.getProjection().fromLatLngToDivPixel(t);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},s})(),cc=(function(){function s(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new lc(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return s.prototype.getSize=function(){return this.markers.length},s.prototype.getMarkers=function(){return this.markers},s.prototype.getCenter=function(){return this.center},s.prototype.getMap=function(){return this.map},s.prototype.getClusterer=function(){return this.markerClusterer},s.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),a=0,n=r;a<n.length;a++){var i=n[a],l=i.getPosition();l&&t.extend(l)}return t},s.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},s.prototype.addMarker=function(t){var r;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var a=t.getPosition();if(a){var n=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(n-1)+a.lat())/n,(this.center.lng()*(n-1)+a.lng())/n),this.calculateBounds()}}}else{var a=t.getPosition();a&&(this.center=a,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var i=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(l!==null&&typeof c<"u"&&c>l)t.getMap()!==this.map&&t.setMap(this.map);else if(i<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(i===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var p=f[d];p.setMap(null)}else t.setMap(null);return!0},s.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var r=t.getPosition();if(r)return this.bounds.contains(r)}return!1},s.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},s.prototype.updateIcon=function(){var t,r=this.markers.length,a=this.markerClusterer.getMaxZoom(),n=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(a!==null&&typeof n<"u"&&n>a){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},s.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var r=0;r<this.markers.length;r++)if(t===this.markers[r])return!0;return!1},s})();function dc(s,t){var r=s.length,a=r.toString().length,n=Math.min(a,t);return{text:r.toString(),index:n,title:""}}var uc=2e3,mc=500,pc="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",hc="png",gc=[53,56,66,78,90],fc="cluster",Bn=(function(){function s(t,r,a){r===void 0&&(r=[]),a===void 0&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(s,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,a.zoomOnClick!==void 0&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,a.averageCenter!==void 0&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,a.ignoreHidden!==void 0&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,a.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||pc,this.imageExtension=a.imageExtension||hc,this.imageSizes=a.imageSizes||gc,this.calculator=a.calculator||dc,this.batchSize=a.batchSize||uc,this.batchSizeIE=a.batchSizeIE||mc,this.clusterClass=a.clusterClass||fc,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return s.prototype.onZoomChanged=function(){var t,r;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},s.prototype.onIdle=function(){this.redraw()},s.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},s.prototype.onRemove=function(){for(var t=0,r=this.markers;t<r.length;t++){var a=r[t];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var n=0,i=this.clusters;n<i.length;n++){var l=i[n];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var f=d[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},s.prototype.draw=function(){},s.prototype.getMap=function(){return null},s.prototype.getPanes=function(){return null},s.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},s.prototype.setMap=function(){},s.prototype.addListener=function(){return{remove:function(){}}},s.prototype.bindTo=function(){},s.prototype.get=function(){},s.prototype.notify=function(){},s.prototype.set=function(){},s.prototype.setValues=function(){},s.prototype.unbind=function(){},s.prototype.unbindAll=function(){},s.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},s.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),r=new google.maps.LatLngBounds,a=0,n=t;a<n.length;a++){var i=n[a],l=i.getPosition();l&&r.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(r)},s.prototype.getGridSize=function(){return this.gridSize},s.prototype.setGridSize=function(t){this.gridSize=t},s.prototype.getMinimumClusterSize=function(){return this.minClusterSize},s.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},s.prototype.getMaxZoom=function(){return this.maxZoom},s.prototype.setMaxZoom=function(t){this.maxZoom=t},s.prototype.getStyles=function(){return this.styles},s.prototype.setStyles=function(t){this.styles=t},s.prototype.getTitle=function(){return this.title},s.prototype.setTitle=function(t){this.title=t},s.prototype.getZoomOnClick=function(){return this.zoomOnClick},s.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},s.prototype.getAverageCenter=function(){return this.averageCenter},s.prototype.setAverageCenter=function(t){this.averageCenter=t},s.prototype.getIgnoreHidden=function(){return this.ignoreHidden},s.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},s.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},s.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},s.prototype.getImageExtension=function(){return this.imageExtension},s.prototype.setImageExtension=function(t){this.imageExtension=t},s.prototype.getImagePath=function(){return this.imagePath},s.prototype.setImagePath=function(t){this.imagePath=t},s.prototype.getImageSizes=function(){return this.imageSizes},s.prototype.setImageSizes=function(t){this.imageSizes=t},s.prototype.getCalculator=function(){return this.calculator},s.prototype.setCalculator=function(t){this.calculator=t},s.prototype.getBatchSizeIE=function(){return this.batchSizeIE},s.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},s.prototype.getClusterClass=function(){return this.clusterClass},s.prototype.setClusterClass=function(t){this.clusterClass=t},s.prototype.getMarkers=function(){return this.markers},s.prototype.getTotalMarkers=function(){return this.markers.length},s.prototype.getClusters=function(){return this.clusters},s.prototype.getTotalClusters=function(){return this.clusters.length},s.prototype.addMarker=function(t,r){this.pushMarkerTo(t),r||this.redraw()},s.prototype.addMarkers=function(t,r){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var n=t[a];n&&this.pushMarkerTo(n)}r||this.redraw()},s.prototype.pushMarkerTo=function(t){var r=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){r.ready&&(t.isAdded=!1,r.repaint())}),t.isAdded=!1,this.markers.push(t)},s.prototype.removeMarker_=function(t){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(t);else for(var a=0;a<this.markers.length;a++)if(t===this.markers[a]){r=a;break}return r===-1?!1:(t.setMap(null),this.markers.splice(r,1),!0)},s.prototype.removeMarker=function(t,r){var a=this.removeMarker_(t);return!r&&a&&this.repaint(),a},s.prototype.removeMarkers=function(t,r){for(var a=!1,n=0,i=t;n<i.length;n++){var l=i[n];a=a||this.removeMarker_(l)}return!r&&a&&this.repaint(),a},s.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},s.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var a=0,n=t;a<n.length;a++){var i=n[a];i.remove()}},0)},s.prototype.getExtendedBounds=function(t){var r=this.getProjection(),a=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));a!==null&&(a.x+=this.gridSize,a.y-=this.gridSize);var n=r.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(n!==null&&(n.x-=this.gridSize,n.y+=this.gridSize),a!==null){var i=r.fromDivPixelToLatLng(a);i!==null&&t.extend(i)}if(n!==null){var l=r.fromDivPixelToLatLng(n);l!==null&&t.extend(l)}return t},s.prototype.redraw=function(){this.createClusters(0)},s.prototype.resetViewport=function(t){for(var r=0,a=this.clusters;r<a.length;r++){var n=a[r];n.remove()}this.clusters=[];for(var i=0,l=this.markers;i<l.length;i++){var c=l[i];c.isAdded=!1,t&&c.setMap(null)}},s.prototype.distanceBetweenPoints=function(t,r){var a=6371,n=(r.lat()-t.lat())*Math.PI/180,i=(r.lng()-t.lng())*Math.PI/180,l=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return a*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},s.prototype.isMarkerInBounds=function(t,r){var a=t.getPosition();return a?r.contains(a):!1},s.prototype.addToClosestCluster=function(t){for(var r,a=4e4,n=null,i=0,l=this.clusters;i<l.length;i++){var c=l[i];r=c;var d=r.getCenter(),f=t.getPosition();if(d&&f){var p=this.distanceBetweenPoints(d,f);p<a&&(a=p,n=r)}}n&&n.isMarkerInClusterBounds(t)?n.addMarker(t):(r=new cc(this),r.addMarker(t),this.clusters.push(r))},s.prototype.createClusters=function(t){var r=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),n=a!==null&&("getBounds"in a)?a.getBounds():null,i=a?.getZoom()||0,l=i>3?new google.maps.LatLngBounds(n?.getSouthWest(),n?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(t+this.batchSize,this.markers.length),f=t;f<d;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,c)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,h=this.clusters;m<h.length;m++){var x=h[m];x.updateIcon()}}}},s.prototype.extend=function(t,r){return(function(n){for(var i in n.prototype){var l=i;this.prototype[l]=n.prototype[l]}return this}).apply(t,[r])},s})();function ea(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function xc(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var $e={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ve={averageCenter(s,t){s.setAverageCenter(t)},batchSizeIE(s,t){s.setBatchSizeIE(t)},calculator(s,t){s.setCalculator(t)},clusterClass(s,t){s.setClusterClass(t)},enableRetinaIcons(s,t){s.setEnableRetinaIcons(t)},gridSize(s,t){s.setGridSize(t)},ignoreHidden(s,t){s.setIgnoreHidden(t)},imageExtension(s,t){s.setImageExtension(t)},imagePath(s,t){s.setImagePath(t)},imageSizes(s,t){s.setImageSizes(t)},maxZoom(s,t){s.setMaxZoom(t)},minimumClusterSize(s,t){s.setMinimumClusterSize(t)},styles(s,t){s.setStyles(t)},title(s,t){s.setTitle(t)},zoomOnClick(s,t){s.setZoomOnClick(t)}},vc={};function bc(s){var{children:t,options:r,averageCenter:a,batchSizeIE:n,calculator:i,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:f,imageExtension:p,imagePath:m,imageSizes:h,maxZoom:x,minimumClusterSize:g,styles:u,title:v,zoomOnClick:j,onClick:w,onClusteringBegin:E,onClusteringEnd:L,onMouseOver:y,onMouseOut:k,onLoad:A,onUnmount:U}=s,[P,I]=o.useState(null),$=o.useContext(ue),[S,G]=o.useState(null),[W,b]=o.useState(null),[T,H]=o.useState(null),[R,V]=o.useState(null),[B,X]=o.useState(null);return o.useEffect(()=>{P&&k&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(P,$e.onMouseOut,k)))},[k]),o.useEffect(()=>{P&&y&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(P,$e.onMouseOver,y)))},[y]),o.useEffect(()=>{P&&w&&(S!==null&&google.maps.event.removeListener(S),G(google.maps.event.addListener(P,$e.onClick,w)))},[w]),o.useEffect(()=>{P&&E&&(W!==null&&google.maps.event.removeListener(W),b(google.maps.event.addListener(P,$e.onClusteringBegin,E)))},[E]),o.useEffect(()=>{P&&L&&(T!==null&&google.maps.event.removeListener(T),b(google.maps.event.addListener(P,$e.onClusteringEnd,L)))},[L]),o.useEffect(()=>{typeof a<"u"&&P!==null&&ve.averageCenter(P,a)},[P,a]),o.useEffect(()=>{typeof n<"u"&&P!==null&&ve.batchSizeIE(P,n)},[P,n]),o.useEffect(()=>{typeof i<"u"&&P!==null&&ve.calculator(P,i)},[P,i]),o.useEffect(()=>{typeof l<"u"&&P!==null&&ve.clusterClass(P,l)},[P,l]),o.useEffect(()=>{typeof c<"u"&&P!==null&&ve.enableRetinaIcons(P,c)},[P,c]),o.useEffect(()=>{typeof d<"u"&&P!==null&&ve.gridSize(P,d)},[P,d]),o.useEffect(()=>{typeof f<"u"&&P!==null&&ve.ignoreHidden(P,f)},[P,f]),o.useEffect(()=>{typeof p<"u"&&P!==null&&ve.imageExtension(P,p)},[P,p]),o.useEffect(()=>{typeof m<"u"&&P!==null&&ve.imagePath(P,m)},[P,m]),o.useEffect(()=>{typeof h<"u"&&P!==null&&ve.imageSizes(P,h)},[P,h]),o.useEffect(()=>{typeof x<"u"&&P!==null&&ve.maxZoom(P,x)},[P,x]),o.useEffect(()=>{typeof g<"u"&&P!==null&&ve.minimumClusterSize(P,g)},[P,g]),o.useEffect(()=>{typeof u<"u"&&P!==null&&ve.styles(P,u)},[P,u]),o.useEffect(()=>{typeof v<"u"&&P!==null&&ve.title(P,v)},[P,v]),o.useEffect(()=>{typeof j<"u"&&P!==null&&ve.zoomOnClick(P,j)},[P,j]),o.useEffect(()=>{if($){var re=xc({},r||vc),_=new Bn($,[],re);return a&&ve.averageCenter(_,a),n&&ve.batchSizeIE(_,n),i&&ve.calculator(_,i),l&&ve.clusterClass(_,l),c&&ve.enableRetinaIcons(_,c),d&&ve.gridSize(_,d),f&&ve.ignoreHidden(_,f),p&&ve.imageExtension(_,p),m&&ve.imagePath(_,m),h&&ve.imageSizes(_,h),x&&ve.maxZoom(_,x),g&&ve.minimumClusterSize(_,g),u&&ve.styles(_,u),v&&ve.title(_,v),j&&ve.zoomOnClick(_,j),k&&V(google.maps.event.addListener(_,$e.onMouseOut,k)),y&&X(google.maps.event.addListener(_,$e.onMouseOver,y)),w&&G(google.maps.event.addListener(_,$e.onClick,w)),E&&b(google.maps.event.addListener(_,$e.onClusteringBegin,E)),L&&H(google.maps.event.addListener(_,$e.onClusteringEnd,L)),I(_),A&&A(_),()=>{R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),S!==null&&google.maps.event.removeListener(S),W!==null&&google.maps.event.removeListener(W),T!==null&&google.maps.event.removeListener(T),U&&U(_)}}},[]),P!==null&&t(P)||null}o.memo(bc);class yc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{markerClusterer:null}),F(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new Bn(this.context,[],this.props.options);this.registeredEvents=me({updaterMap:ve,eventMap:$e,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:ve,eventMap:$e,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),he(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}F(yc,"contextType",ue);function ta(s){s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}var $n=(function(){function s(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(s,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return s.prototype.createInfoBoxDiv=function(){var t=this,r=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),t.enableEventPropagation||ta(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var a=this.getPanes();if(a!==null&&a[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=i;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,ta))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},s.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},s.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},s.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},s.prototype.getCloseClickHandler=function(){return this.closeClickHandler},s.prototype.panBox=function(t){if(this.div&&!t){var r=this.getMap();if(r instanceof google.maps.Map){var a=0,n=0,i=r.getBounds();i&&!i.contains(this.position)&&r.setCenter(this.position);var l=r.getDiv(),c=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,m=this.div.offsetWidth,h=this.div.offsetHeight,x=this.infoBoxClearance.width,g=this.infoBoxClearance.height,u=this.getProjection(),v=u.fromLatLngToContainerPixel(this.position);v!==null&&(v.x<-f+x?a=v.x+f-x:v.x+m+f+x>c&&(a=v.x+m+f+x-c),this.alignBottom?v.y<-p+g+h?n=v.y+p-g-h:v.y+p+g>d&&(n=v.y+p+g-d):v.y<-p+g?n=v.y+p-g:v.y+h+p+g>d&&(n=v.y+h+p+g-d)),a===0&&n===0||r.panBy(a,n)}}},s.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.div.style[r]=t[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+a*100+')"',this.div.style.filter="alpha(opacity="+a*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},s.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var r=this.div.ownerDocument,a=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var n=this.div.currentStyle;n&&(t.top=parseInt(n.borderTopWidth||"",10)||0,t.bottom=parseInt(n.borderBottomWidth||"",10)||0,t.left=parseInt(n.borderLeftWidth||"",10)||0,t.right=parseInt(n.borderRightWidth||"",10)||0)}return t},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},s.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),r=t.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},s.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},s.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},s.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},s.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},s.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},s.prototype.getContent=function(){return this.content},s.prototype.getPosition=function(){return this.position},s.prototype.getZIndex=function(){return this.zIndex},s.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},s.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},s.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},s.prototype.open=function(t,r){var a=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var n=r.getPosition();a.setPosition(n)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){a.setMap(r.map)})),this.setMap(t),this.div&&this.panBox()},s.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,r=this.eventListeners;t<r.length;t++){var a=r[t];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},s.prototype.extend=function(t,r){return(function(n){for(var i in n.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=n.prototype[i]);return this}).apply(t,[r])},s})(),jc=["position"],Nc=["position"];function sa(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function xs(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var ra={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},aa={options(s,t){s.setOptions(t)},position(s,t){t instanceof google.maps.LatLng?s.setPosition(t):s.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},wc={};function Cc(s){var{children:t,anchor:r,options:a,position:n,zIndex:i,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:h}=s,x=o.useContext(ue),[g,u]=o.useState(null),[v,j]=o.useState(null),[w,E]=o.useState(null),[L,y]=o.useState(null),[k,A]=o.useState(null),[U,P]=o.useState(null),I=o.useRef(null);return o.useEffect(()=>{x&&g!==null&&(g.close(),r?g.open(x,r):g.getPosition()&&g.open(x))},[x,g,r]),o.useEffect(()=>{a&&g!==null&&g.setOptions(a)},[g,a]),o.useEffect(()=>{if(n&&g!==null){var $=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);g.setPosition($)}},[n]),o.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),o.useEffect(()=>{g&&l&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(g,"closeclick",l)))},[l]),o.useEffect(()=>{g&&c&&(w!==null&&google.maps.event.removeListener(w),E(google.maps.event.addListener(g,"domready",c)))},[c]),o.useEffect(()=>{g&&d&&(L!==null&&google.maps.event.removeListener(L),y(google.maps.event.addListener(g,"content_changed",d)))},[d]),o.useEffect(()=>{g&&f&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(g,"position_changed",f)))},[f]),o.useEffect(()=>{g&&p&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(g,"zindex_changed",p)))},[p]),o.useEffect(()=>{if(x){var $=a||wc,{position:S}=$,G=ar($,jc),W;S&&!(S instanceof google.maps.LatLng)&&(W=new google.maps.LatLng(S.lat,S.lng));var b=new $n(xs(xs({},G),W?{position:W}:{}));I.current=document.createElement("div"),u(b),l&&j(google.maps.event.addListener(b,"closeclick",l)),c&&E(google.maps.event.addListener(b,"domready",c)),d&&y(google.maps.event.addListener(b,"content_changed",d)),f&&A(google.maps.event.addListener(b,"position_changed",f)),p&&P(google.maps.event.addListener(b,"zindex_changed",p)),b.setContent(I.current),r?b.open(x,r):b.getPosition()?b.open(x):Pe(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(b)}return()=>{g!==null&&(v&&google.maps.event.removeListener(v),L&&google.maps.event.removeListener(L),w&&google.maps.event.removeListener(w),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),h&&h(g),g.close())}},[]),I.current?kt.createPortal(o.Children.only(t),I.current):null}o.memo(Cc);class kc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoBox:null}),F(this,"open",(t,r)=>{r?this.context!==null&&t.open(this.context,r):t.getPosition()?this.context!==null&&t.open(this.context):Pe(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),F(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:r}=t,a=ar(t,Nc),n;r&&!(r instanceof google.maps.LatLng)&&(n=new google.maps.LatLng(r.lat,r.lng));var i=new $n(xs(xs({},a),n?{position:n}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=me({updaterMap:aa,eventMap:ra,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:r}=this.state;r!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:aa,eventMap:ra,prevProps:t,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:r}=this.state;r!==null&&(t&&t(r),he(this.registeredEvents),r.close())}render(){return this.containerElement?kt.createPortal(o.Children.only(this.props.children),this.containerElement):null}}F(kc,"contextType",ue);var Os,na;function Lc(){return na||(na=1,Os=function s(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,n,i;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!s(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=a;n--!==0;){var l=i[n];if(!s(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}),Os}var Ec=Lc(),oa=Tn(Ec),ia=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ds=1,Tt=8;class nr{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,a]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var n=a>>4;if(n!==Ds)throw new Error("Got v".concat(n," data when expected v").concat(Ds,"."));var i=ia[a&15];if(!i)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(t,2,1),[c]=new Uint32Array(t,4,1);return new nr(c,l,i,t)}constructor(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,n=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=a,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var i=ia.indexOf(this.ArrayType),l=t*2*this.ArrayType.BYTES_PER_ELEMENT,c=t*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(a,"."));n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,Tt,t),this.coords=new this.ArrayType(this.data,Tt+c+d,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Tt+l+c+d),this.ids=new this.IndexArrayType(this.data,Tt,t),this.coords=new this.ArrayType(this.data,Tt+c+d,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ds<<4)+i]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=t,this.coords[this._pos++]=r,a}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return qs(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,a,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:l,nodeSize:c}=this,d=[0,i.length-1,0],f=[];d.length;){var p=d.pop()||0,m=d.pop()||0,h=d.pop()||0;if(m-h<=c){for(var x=h;x<=m;x++){var g=l[2*x],u=l[2*x+1];g>=t&&g<=a&&u>=r&&u<=n&&f.push(i[x])}continue}var v=h+m>>1,j=l[2*v],w=l[2*v+1];j>=t&&j<=a&&w>=r&&w<=n&&f.push(i[v]),(p===0?t<=j:r<=w)&&(d.push(h),d.push(v-1),d.push(1-p)),(p===0?a>=j:n>=w)&&(d.push(v+1),d.push(m),d.push(1-p))}return f}within(t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:n,coords:i,nodeSize:l}=this,c=[0,n.length-1,0],d=[],f=a*a;c.length;){var p=c.pop()||0,m=c.pop()||0,h=c.pop()||0;if(m-h<=l){for(var x=h;x<=m;x++)la(i[2*x],i[2*x+1],t,r)<=f&&d.push(n[x]);continue}var g=h+m>>1,u=i[2*g],v=i[2*g+1];la(u,v,t,r)<=f&&d.push(n[g]),(p===0?t-a<=u:r-a<=v)&&(c.push(h),c.push(g-1),c.push(1-p)),(p===0?t+a>=u:r+a>=v)&&(c.push(g+1),c.push(m),c.push(1-p))}return d}}function qs(s,t,r,a,n,i){if(!(n-a<=r)){var l=a+n>>1;Vn(s,t,l,a,n,i),qs(s,t,r,a,l-1,1-i),qs(s,t,r,l+1,n,1-i)}}function Vn(s,t,r,a,n,i){for(;n>a;){if(n-a>600){var l=n-a+1,c=r-a+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(a,Math.floor(r-c*f/l+p)),h=Math.min(n,Math.floor(r+(l-c)*f/l+p));Vn(s,t,r,m,h,i)}var x=t[2*r+i],g=a,u=n;for(It(s,t,a,r),t[2*n+i]>x&&It(s,t,a,n);g<u;){for(It(s,t,g,u),g++,u--;t[2*g+i]<x;)g++;for(;t[2*u+i]>x;)u--}t[2*a+i]===x?It(s,t,a,u):(u++,It(s,t,u,n)),u<=r&&(a=u+1),r<=u&&(n=u-1)}}function It(s,t,r,a){_s(s,r,a),_s(t,2*r,2*a),_s(t,2*r+1,2*a+1)}function _s(s,t,r){var a=s[t];s[t]=s[r],s[r]=a}function la(s,t,r,a){var n=s-r,i=t-a;return n*n+i*i}var Sc={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:s=>s},ca=Math.fround||(s=>t=>(s[0]=+t,s[0]))(new Float32Array(1)),dt=2,at=3,Ts=4,rt=5,Fn=6;class Pc{constructor(t){this.options=Object.assign(Object.create(Sc),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:r,minZoom:a,maxZoom:n}=this.options;r&&console.time("total time");var i="prepare ".concat(t.length," points");r&&console.time(i),this.points=t;for(var l=[],c=0;c<t.length;c++){var d=t[c];if(d.geometry){var[f,p]=d.geometry.coordinates,m=ca(as(f)),h=ca(ns(p));l.push(m,h,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var x=this.trees[n+1]=this._createTree(l);r&&console.timeEnd(i);for(var g=n;g>=a;g--){var u=+Date.now();x=this.trees[g]=this._createTree(this._cluster(x,g)),r&&console.log("z%d: %d clusters in %dms",g,x.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){var a=((t[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,t[1])),i=t[2]===180?180:((t[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)a=-180,i=180;else if(a>i){var c=this.getClusters([a,n,180,l],r),d=this.getClusters([-180,n,i,l],r);return c.concat(d)}var f=this.trees[this._limitZoom(r)],p=f.range(as(a),ns(l),as(i),ns(n)),m=f.data,h=[];for(var x of p){var g=this.stride*x;h.push(m[g+rt]>1?da(m,g,this.clusterProps):this.points[m[g+at]])}return h}getChildren(t){var r=this._getOriginId(t),a=this._getOriginZoom(t),n="No cluster with the specified id.",i=this.trees[a];if(!i)throw new Error(n);var l=i.data;if(r*this.stride>=l.length)throw new Error(n);var c=this.options.radius/(this.options.extent*Math.pow(2,a-1)),d=l[r*this.stride],f=l[r*this.stride+1],p=i.within(d,f,c),m=[];for(var h of p){var x=h*this.stride;l[x+Ts]===t&&m.push(l[x+rt]>1?da(l,x,this.clusterProps):this.points[l[x+at]])}if(m.length===0)throw new Error(n);return m}getLeaves(t,r,a){r=r||10,a=a||0;var n=[];return this._appendLeaves(n,t,r,a,0),n}getTile(t,r,a){var n=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:l,radius:c}=this.options,d=c/l,f=(a-d)/i,p=(a+1+d)/i,m={features:[]};return this._addTileFeatures(n.range((r-d)/i,f,(r+1+d)/i,p),n.data,r,a,i,m),r===0&&this._addTileFeatures(n.range(1-d/i,f,1,p),n.data,i,a,i,m),r===i-1&&this._addTileFeatures(n.range(0,f,d/i,p),n.data,-1,a,i,m),m.features.length?m:null}getClusterExpansionZoom(t){for(var r=this._getOriginZoom(t)-1;r<=this.options.maxZoom;){var a=this.getChildren(t);if(r++,a.length!==1)break;t=a[0].properties.cluster_id}return r}_appendLeaves(t,r,a,n,i){var l=this.getChildren(r);for(var c of l){var d=c.properties;if(d&&d.cluster?i+d.point_count<=n?i+=d.point_count:i=this._appendLeaves(t,d.cluster_id,a,n,i):i<n?i++:t.push(c),t.length===a)break}return i}_createTree(t){for(var r=new nr(t.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<t.length;a+=this.stride)r.add(t[a],t[a+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,a,n,i,l){for(var c of t){var d=c*this.stride,f=r[d+rt]>1,p=void 0,m=void 0,h=void 0;if(f)p=qn(r,d,this.clusterProps),m=r[d],h=r[d+1];else{var x=this.points[r[d+at]];p=x.properties;var[g,u]=x.geometry.coordinates;m=as(g),h=ns(u)}var v={type:1,geometry:[[Math.round(this.options.extent*(m*i-a)),Math.round(this.options.extent*(h*i-n))]],tags:p},j=void 0;f||this.options.generateId?j=r[d+at]:j=this.points[r[d+at]].id,j!==void 0&&(v.id=j),l.features.push(v)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){for(var{radius:a,extent:n,reduce:i,minPoints:l}=this.options,c=a/(n*Math.pow(2,r)),d=t.data,f=[],p=this.stride,m=0;m<d.length;m+=p)if(!(d[m+dt]<=r)){d[m+dt]=r;var h=d[m],x=d[m+1],g=t.within(d[m],d[m+1],c),u=d[m+rt],v=u;for(var j of g){var w=j*p;d[w+dt]>r&&(v+=d[w+rt])}if(v>u&&v>=l){var E=h*u,L=x*u,y=void 0,k=-1,A=((m/p|0)<<5)+(r+1)+this.points.length;for(var U of g){var P=U*p;if(!(d[P+dt]<=r)){d[P+dt]=r;var I=d[P+rt];E+=d[P]*I,L+=d[P+1]*I,d[P+Ts]=A,i&&(y||(y=this._map(d,m,!0),k=this.clusterProps.length,this.clusterProps.push(y)),i(y,this._map(d,P)))}}d[m+Ts]=A,f.push(E/v,L/v,1/0,A,-1,v),i&&f.push(k)}else{for(var $=0;$<p;$++)f.push(d[m+$]);if(v>1)for(var S of g){var G=S*p;if(!(d[G+dt]<=r)){d[G+dt]=r;for(var W=0;W<p;W++)f.push(d[G+W])}}}}return f}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,a){if(t[r+rt]>1){var n=this.clusterProps[t[r+Fn]];return a?Object.assign({},n):n}var i=this.points[t[r+at]].properties,l=this.options.map(i);return a&&l===i?Object.assign({},l):l}}function da(s,t,r){return{type:"Feature",id:s[t+at],properties:qn(s,t,r),geometry:{type:"Point",coordinates:[Mc(s[t]),Oc(s[t+1])]}}}function qn(s,t,r){var a=s[t+rt],n=a>=1e4?"".concat(Math.round(a/1e3),"k"):a>=1e3?"".concat(Math.round(a/100)/10,"k"):a,i=s[t+Fn],l=i===-1?{}:Object.assign({},r[i]);return Object.assign(l,{cluster:!0,cluster_id:s[t+at],point_count:a,point_count_abbreviated:n})}function as(s){return s/360+.5}function ns(s){var t=Math.sin(s*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Mc(s){return(s-.5)*360}function Oc(s){var t=(180-s*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Dc(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(s);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(s,a[n])&&(r[a[n]]=s[a[n]]);return r}class Be{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Gs{constructor(t){var{markers:r,position:a}=t;this.markers=r,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)t.extend(Be.getPosition(r));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>Be.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(Be.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class _c{constructor(t){var{maxZoom:r=16}=t;this.maxZoom=r}noop(t){var{markers:r}=t;return Tc(r)}}var Tc=s=>{var t=s.map(r=>new Gs({position:Be.getPosition(r),markers:[r]}));return t};class Ic extends _c{constructor(t){var{maxZoom:r,radius:a=60}=t,n=Dc(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new Pc(Object.assign({maxZoom:this.maxZoom,radius:a},n))}calculate(t){var r=!1,a={zoom:t.map.getZoom()};if(!oa(t.markers,this.markers)){r=!0,this.markers=[...t.markers];var n=this.markers.map(i=>{var l=Be.getPosition(i),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:i}}});this.superCluster.load(n)}return r||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(r=!oa(this.state,a)),this.state=a,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster(t){var{map:r}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(a=>this.transformCluster(a))}transformCluster(t){var{geometry:{coordinates:[r,a]},properties:n}=t;if(n.cluster)return new Gs({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:a,lng:r}});var i=n.marker;return new Gs({markers:[i],position:Be.getPosition(i)})}}class Ac{constructor(t,r){this.markers={sum:t.length};var a=r.map(i=>i.count),n=a.reduce((i,l)=>i+l,0);this.clusters={count:r.length,markers:{mean:n/r.length,sum:n,min:Math.min(...a),max:Math.max(...a)}}}}class Rc{render(t,r,a){var{count:n,position:i}=t,l=n>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(n,`</text>
</svg>`),d="Cluster of ".concat(n," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+n;if(Be.isAdvancedMarkerAvailable(a)){var p=new DOMParser,m=p.parseFromString(c,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var h={map:a,position:i,zIndex:f,title:d,content:m};return new google.maps.marker.AdvancedMarkerElement(h)}var x={position:i,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(x)}}function zc(s,t){for(var r in t.prototype)s.prototype[r]=t.prototype[r]}class or{constructor(){zc(or,google.maps.OverlayView)}}var Ut;(function(s){s.CLUSTERING_BEGIN="clusteringbegin",s.CLUSTERING_END="clusteringend",s.CLUSTER_CLICK="click"})(Ut||(Ut={}));var Uc=(s,t,r)=>{r.fitBounds(t.bounds)};class Bc extends or{constructor(t){var{map:r,markers:a=[],algorithmOptions:n={},algorithm:i=new Ic(n),renderer:l=new Rc,onClusterClick:c=Uc}=t;super(),this.markers=[...a],this.clusters=[],this.algorithm=i,this.renderer=l,this.onClusterClick=c,r&&this.setMap(r)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(a=>{this.addMarker(a,!0)}),r||this.render()}removeMarker(t,r){var a=this.markers.indexOf(t);return a===-1?!1:(Be.setMap(t,null),this.markers.splice(a,1),r||this.render(),!0)}removeMarkers(t,r){var a=!1;return t.forEach(n=>{a=this.removeMarker(n,!0)||a}),a&&!r&&this.render(),a}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Ut.CLUSTERING_BEGIN,this);var{clusters:r,changed:a}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(a||a==null){var n=new Set;for(var i of r)i.markers.length==1&&n.add(i.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?n.has(c.marker)||Be.setMap(c.marker,null):l.push(c.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>Be.setMap(d,null)))}google.maps.event.trigger(this,Ut.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>Be.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new Ac(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(a=>{a.markers.length===1?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,t,r),a.markers.forEach(n=>Be.setMap(n,null)),this.onClusterClick&&a.marker.addListener("click",n=>{google.maps.event.trigger(this,Ut.CLUSTER_CLICK,a),this.onClusterClick(n,a,r)})),Be.setMap(a.marker,r)})}}function ua(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function ma(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ua(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function $c(s){var t=_l(),[r,a]=o.useState(null);return o.useEffect(()=>{if(t&&r===null){var n=new Bc(ma(ma({},s),{},{map:t}));a(n)}},[t]),r}function Vc(s){var{children:t,options:r}=s,a=$c(r);return a!==null?t(a):null}o.memo(Vc);var pa={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ha={options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},zIndex(s,t){s.setZIndex(t)}};function Fc(s){var{children:t,anchor:r,options:a,position:n,zIndex:i,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:p,onLoad:m,onUnmount:h}=s,x=o.useContext(ue),[g,u]=o.useState(null),[v,j]=o.useState(null),[w,E]=o.useState(null),[L,y]=o.useState(null),[k,A]=o.useState(null),[U,P]=o.useState(null),I=o.useRef(null);return o.useEffect(()=>{g!==null&&(g.close(),r?g.open(x,r):g.getPosition()&&g.open(x))},[x,g,r]),o.useEffect(()=>{a&&g!==null&&g.setOptions(a)},[g,a]),o.useEffect(()=>{n&&g!==null&&g.setPosition(n)},[n]),o.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),o.useEffect(()=>{g&&l&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(g,"closeclick",l)))},[l]),o.useEffect(()=>{g&&c&&(w!==null&&google.maps.event.removeListener(w),E(google.maps.event.addListener(g,"domready",c)))},[c]),o.useEffect(()=>{g&&d&&(L!==null&&google.maps.event.removeListener(L),y(google.maps.event.addListener(g,"content_changed",d)))},[d]),o.useEffect(()=>{g&&f&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(g,"position_changed",f)))},[f]),o.useEffect(()=>{g&&p&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(g,"zindex_changed",p)))},[p]),o.useEffect(()=>{var $=new google.maps.InfoWindow(a);return u($),I.current=document.createElement("div"),l&&j(google.maps.event.addListener($,"closeclick",l)),c&&E(google.maps.event.addListener($,"domready",c)),d&&y(google.maps.event.addListener($,"content_changed",d)),f&&A(google.maps.event.addListener($,"position_changed",f)),p&&P(google.maps.event.addListener($,"zindex_changed",p)),$.setContent(I.current),n&&$.setPosition(n),i&&$.setZIndex(i),r?$.open(x,r):$.getPosition()?$.open(x):Pe(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m($),()=>{v&&google.maps.event.removeListener(v),L&&google.maps.event.removeListener(L),w&&google.maps.event.removeListener(w),k&&google.maps.event.removeListener(k),U&&google.maps.event.removeListener(U),h&&h($),$.close()}},[]),I.current?kt.createPortal(o.Children.only(t),I.current):null}o.memo(Fc);class qc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoWindow:null}),F(this,"open",(t,r)=>{r?t.open(this.context,r):t.getPosition()?t.open(this.context):Pe(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),F(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=me({updaterMap:ha,eventMap:pa,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:ha,eventMap:pa,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(he(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?kt.createPortal(o.Children.only(this.props.children),this.containerElement):null}}F(qc,"contextType",ue);function ga(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function vs(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var fa={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},xa={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},visible(s,t){s.setVisible(t)}},Gc={};function Hc(s){var{options:t,draggable:r,editable:a,visible:n,path:i,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:h,onMouseUp:x,onRightClick:g,onClick:u,onDrag:v,onLoad:j,onUnmount:w}=s,E=o.useContext(ue),[L,y]=o.useState(null),[k,A]=o.useState(null),[U,P]=o.useState(null),[I,$]=o.useState(null),[S,G]=o.useState(null),[W,b]=o.useState(null),[T,H]=o.useState(null),[R,V]=o.useState(null),[B,X]=o.useState(null),[re,_]=o.useState(null),[Z,D]=o.useState(null),[Y,z]=o.useState(null);return o.useEffect(()=>{L!==null&&L.setMap(E)},[E]),o.useEffect(()=>{typeof t<"u"&&L!==null&&L.setOptions(t)},[L,t]),o.useEffect(()=>{typeof r<"u"&&L!==null&&L.setDraggable(r)},[L,r]),o.useEffect(()=>{typeof a<"u"&&L!==null&&L.setEditable(a)},[L,a]),o.useEffect(()=>{typeof n<"u"&&L!==null&&L.setVisible(n)},[L,n]),o.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPath(i)},[L,i]),o.useEffect(()=>{L&&l&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(L,"dblclick",l)))},[l]),o.useEffect(()=>{L&&c&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(L,"dragend",c)))},[c]),o.useEffect(()=>{L&&d&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(L,"dragstart",d)))},[d]),o.useEffect(()=>{L&&f&&(S!==null&&google.maps.event.removeListener(S),G(google.maps.event.addListener(L,"mousedown",f)))},[f]),o.useEffect(()=>{L&&p&&(W!==null&&google.maps.event.removeListener(W),b(google.maps.event.addListener(L,"mousemove",p)))},[p]),o.useEffect(()=>{L&&m&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(L,"mouseout",m)))},[m]),o.useEffect(()=>{L&&h&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(L,"mouseover",h)))},[h]),o.useEffect(()=>{L&&x&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(L,"mouseup",x)))},[x]),o.useEffect(()=>{L&&g&&(re!==null&&google.maps.event.removeListener(re),_(google.maps.event.addListener(L,"rightclick",g)))},[g]),o.useEffect(()=>{L&&u&&(Z!==null&&google.maps.event.removeListener(Z),D(google.maps.event.addListener(L,"click",u)))},[u]),o.useEffect(()=>{L&&v&&(Y!==null&&google.maps.event.removeListener(Y),z(google.maps.event.addListener(L,"drag",v)))},[v]),o.useEffect(()=>{var ee=new google.maps.Polyline(vs(vs({},t||Gc),{},{map:E}));return i&&ee.setPath(i),typeof n<"u"&&ee.setVisible(n),typeof a<"u"&&ee.setEditable(a),typeof r<"u"&&ee.setDraggable(r),l&&A(google.maps.event.addListener(ee,"dblclick",l)),c&&P(google.maps.event.addListener(ee,"dragend",c)),d&&$(google.maps.event.addListener(ee,"dragstart",d)),f&&G(google.maps.event.addListener(ee,"mousedown",f)),p&&b(google.maps.event.addListener(ee,"mousemove",p)),m&&H(google.maps.event.addListener(ee,"mouseout",m)),h&&V(google.maps.event.addListener(ee,"mouseover",h)),x&&X(google.maps.event.addListener(ee,"mouseup",x)),g&&_(google.maps.event.addListener(ee,"rightclick",g)),u&&D(google.maps.event.addListener(ee,"click",u)),v&&z(google.maps.event.addListener(ee,"drag",v)),y(ee),j&&j(ee),()=>{k!==null&&google.maps.event.removeListener(k),U!==null&&google.maps.event.removeListener(U),I!==null&&google.maps.event.removeListener(I),S!==null&&google.maps.event.removeListener(S),W!==null&&google.maps.event.removeListener(W),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),re!==null&&google.maps.event.removeListener(re),Z!==null&&google.maps.event.removeListener(Z),w&&w(ee),ee.setMap(null)}},[]),null}o.memo(Hc);class Wc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{polyline:null}),F(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(vs(vs({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:xa,eventMap:fa,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:xa,eventMap:fa,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),he(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}F(Wc,"contextType",ue);function va(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function ba(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?va(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var ya={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ja={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},paths(s,t){s.setPaths(t)},visible(s,t){s.setVisible(t)}};function Zc(s){var{options:t,draggable:r,editable:a,visible:n,path:i,paths:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:h,onMouseOver:x,onMouseUp:g,onRightClick:u,onClick:v,onDrag:j,onLoad:w,onUnmount:E,onEdit:L}=s,y=o.useContext(ue),[k,A]=o.useState(null),[U,P]=o.useState(null),[I,$]=o.useState(null),[S,G]=o.useState(null),[W,b]=o.useState(null),[T,H]=o.useState(null),[R,V]=o.useState(null),[B,X]=o.useState(null),[re,_]=o.useState(null),[Z,D]=o.useState(null),[Y,z]=o.useState(null),[ee,de]=o.useState(null);return o.useEffect(()=>{k!==null&&k.setMap(y)},[y]),o.useEffect(()=>{typeof t<"u"&&k!==null&&k.setOptions(t)},[k,t]),o.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),o.useEffect(()=>{typeof a<"u"&&k!==null&&k.setEditable(a)},[k,a]),o.useEffect(()=>{typeof n<"u"&&k!==null&&k.setVisible(n)},[k,n]),o.useEffect(()=>{typeof i<"u"&&k!==null&&k.setPath(i)},[k,i]),o.useEffect(()=>{typeof l<"u"&&k!==null&&k.setPaths(l)},[k,l]),o.useEffect(()=>{k&&typeof c=="function"&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(k,"dblclick",c)))},[c]),o.useEffect(()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",()=>{L?.(k)}),google.maps.event.addListener(k.getPath(),"set_at",()=>{L?.(k)}),google.maps.event.addListener(k.getPath(),"remove_at",()=>{L?.(k)}))},[k,L]),o.useEffect(()=>{k&&typeof d=="function"&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(k,"dragend",d)))},[d]),o.useEffect(()=>{k&&typeof f=="function"&&(S!==null&&google.maps.event.removeListener(S),G(google.maps.event.addListener(k,"dragstart",f)))},[f]),o.useEffect(()=>{k&&typeof p=="function"&&(W!==null&&google.maps.event.removeListener(W),b(google.maps.event.addListener(k,"mousedown",p)))},[p]),o.useEffect(()=>{k&&typeof m=="function"&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(k,"mousemove",m)))},[m]),o.useEffect(()=>{k&&typeof h=="function"&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(k,"mouseout",h)))},[h]),o.useEffect(()=>{k&&typeof x=="function"&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(k,"mouseover",x)))},[x]),o.useEffect(()=>{k&&typeof g=="function"&&(re!==null&&google.maps.event.removeListener(re),_(google.maps.event.addListener(k,"mouseup",g)))},[g]),o.useEffect(()=>{k&&typeof u=="function"&&(Z!==null&&google.maps.event.removeListener(Z),D(google.maps.event.addListener(k,"rightclick",u)))},[u]),o.useEffect(()=>{k&&typeof v=="function"&&(Y!==null&&google.maps.event.removeListener(Y),z(google.maps.event.addListener(k,"click",v)))},[v]),o.useEffect(()=>{k&&typeof j=="function"&&(ee!==null&&google.maps.event.removeListener(ee),de(google.maps.event.addListener(k,"drag",j)))},[j]),o.useEffect(()=>{var oe=new google.maps.Polygon(ba(ba({},t),{},{map:y}));return i&&oe.setPath(i),l&&oe.setPaths(l),typeof n<"u"&&oe.setVisible(n),typeof a<"u"&&oe.setEditable(a),typeof r<"u"&&oe.setDraggable(r),c&&P(google.maps.event.addListener(oe,"dblclick",c)),d&&$(google.maps.event.addListener(oe,"dragend",d)),f&&G(google.maps.event.addListener(oe,"dragstart",f)),p&&b(google.maps.event.addListener(oe,"mousedown",p)),m&&H(google.maps.event.addListener(oe,"mousemove",m)),h&&V(google.maps.event.addListener(oe,"mouseout",h)),x&&X(google.maps.event.addListener(oe,"mouseover",x)),g&&_(google.maps.event.addListener(oe,"mouseup",g)),u&&D(google.maps.event.addListener(oe,"rightclick",u)),v&&z(google.maps.event.addListener(oe,"click",v)),j&&de(google.maps.event.addListener(oe,"drag",j)),A(oe),w&&w(oe),()=>{U!==null&&google.maps.event.removeListener(U),I!==null&&google.maps.event.removeListener(I),S!==null&&google.maps.event.removeListener(S),W!==null&&google.maps.event.removeListener(W),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),re!==null&&google.maps.event.removeListener(re),Z!==null&&google.maps.event.removeListener(Z),Y!==null&&google.maps.event.removeListener(Y),E&&E(oe),oe.setMap(null)}},[]),null}o.memo(Zc);class Gn extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=me({updaterMap:ja,eventMap:ya,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:ja,eventMap:ya,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),he(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}F(Gn,"contextType",ue);function Na(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function bs(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Na(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var wa={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ca={bounds(s,t){s.setBounds(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},visible(s,t){s.setVisible(t)}};function Kc(s){var{options:t,bounds:r,draggable:a,editable:n,visible:i,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:p,onMouseOut:m,onMouseOver:h,onMouseUp:x,onRightClick:g,onClick:u,onDrag:v,onBoundsChanged:j,onLoad:w,onUnmount:E}=s,L=o.useContext(ue),[y,k]=o.useState(null),[A,U]=o.useState(null),[P,I]=o.useState(null),[$,S]=o.useState(null),[G,W]=o.useState(null),[b,T]=o.useState(null),[H,R]=o.useState(null),[V,B]=o.useState(null),[X,re]=o.useState(null),[_,Z]=o.useState(null),[D,Y]=o.useState(null),[z,ee]=o.useState(null),[de,oe]=o.useState(null);return o.useEffect(()=>{y!==null&&y.setMap(L)},[L]),o.useEffect(()=>{typeof t<"u"&&y!==null&&y.setOptions(t)},[y,t]),o.useEffect(()=>{typeof a<"u"&&y!==null&&y.setDraggable(a)},[y,a]),o.useEffect(()=>{typeof n<"u"&&y!==null&&y.setEditable(n)},[y,n]),o.useEffect(()=>{typeof i<"u"&&y!==null&&y.setVisible(i)},[y,i]),o.useEffect(()=>{typeof r<"u"&&y!==null&&y.setBounds(r)},[y,r]),o.useEffect(()=>{y&&l&&(A!==null&&google.maps.event.removeListener(A),U(google.maps.event.addListener(y,"dblclick",l)))},[l]),o.useEffect(()=>{y&&c&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(y,"dragend",c)))},[c]),o.useEffect(()=>{y&&d&&($!==null&&google.maps.event.removeListener($),S(google.maps.event.addListener(y,"dragstart",d)))},[d]),o.useEffect(()=>{y&&f&&(G!==null&&google.maps.event.removeListener(G),W(google.maps.event.addListener(y,"mousedown",f)))},[f]),o.useEffect(()=>{y&&p&&(b!==null&&google.maps.event.removeListener(b),T(google.maps.event.addListener(y,"mousemove",p)))},[p]),o.useEffect(()=>{y&&m&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(y,"mouseout",m)))},[m]),o.useEffect(()=>{y&&h&&(V!==null&&google.maps.event.removeListener(V),B(google.maps.event.addListener(y,"mouseover",h)))},[h]),o.useEffect(()=>{y&&x&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(y,"mouseup",x)))},[x]),o.useEffect(()=>{y&&g&&(_!==null&&google.maps.event.removeListener(_),Z(google.maps.event.addListener(y,"rightclick",g)))},[g]),o.useEffect(()=>{y&&u&&(D!==null&&google.maps.event.removeListener(D),Y(google.maps.event.addListener(y,"click",u)))},[u]),o.useEffect(()=>{y&&v&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(y,"drag",v)))},[v]),o.useEffect(()=>{y&&j&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(y,"bounds_changed",j)))},[j]),o.useEffect(()=>{var ge=new google.maps.Rectangle(bs(bs({},t),{},{map:L}));return typeof i<"u"&&ge.setVisible(i),typeof n<"u"&&ge.setEditable(n),typeof a<"u"&&ge.setDraggable(a),typeof r<"u"&&ge.setBounds(r),l&&U(google.maps.event.addListener(ge,"dblclick",l)),c&&I(google.maps.event.addListener(ge,"dragend",c)),d&&S(google.maps.event.addListener(ge,"dragstart",d)),f&&W(google.maps.event.addListener(ge,"mousedown",f)),p&&T(google.maps.event.addListener(ge,"mousemove",p)),m&&R(google.maps.event.addListener(ge,"mouseout",m)),h&&B(google.maps.event.addListener(ge,"mouseover",h)),x&&re(google.maps.event.addListener(ge,"mouseup",x)),g&&Z(google.maps.event.addListener(ge,"rightclick",g)),u&&Y(google.maps.event.addListener(ge,"click",u)),v&&ee(google.maps.event.addListener(ge,"drag",v)),j&&oe(google.maps.event.addListener(ge,"bounds_changed",j)),k(ge),w&&w(ge),()=>{A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),$!==null&&google.maps.event.removeListener($),G!==null&&google.maps.event.removeListener(G),b!==null&&google.maps.event.removeListener(b),H!==null&&google.maps.event.removeListener(H),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),de!==null&&google.maps.event.removeListener(de),E&&E(ge),ge.setMap(null)}},[]),null}o.memo(Kc);class Jc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{rectangle:null}),F(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(bs(bs({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Ca,eventMap:wa,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ca,eventMap:wa,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),he(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}F(Jc,"contextType",ue);function ka(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function ys(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ka(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ka(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var La={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ea={center(s,t){s.setCenter(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},radius(s,t){s.setRadius(t)},visible(s,t){s.setVisible(t)}},Yc={};function Xc(s){var{options:t,center:r,radius:a,draggable:n,editable:i,visible:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:p,onMouseMove:m,onMouseOut:h,onMouseOver:x,onMouseUp:g,onRightClick:u,onClick:v,onDrag:j,onCenterChanged:w,onRadiusChanged:E,onLoad:L,onUnmount:y}=s,k=o.useContext(ue),[A,U]=o.useState(null),[P,I]=o.useState(null),[$,S]=o.useState(null),[G,W]=o.useState(null),[b,T]=o.useState(null),[H,R]=o.useState(null),[V,B]=o.useState(null),[X,re]=o.useState(null),[_,Z]=o.useState(null),[D,Y]=o.useState(null),[z,ee]=o.useState(null),[de,oe]=o.useState(null),[ge,_e]=o.useState(null),[ze,We]=o.useState(null);return o.useEffect(()=>{A!==null&&A.setMap(k)},[k]),o.useEffect(()=>{typeof t<"u"&&A!==null&&A.setOptions(t)},[A,t]),o.useEffect(()=>{typeof n<"u"&&A!==null&&A.setDraggable(n)},[A,n]),o.useEffect(()=>{typeof i<"u"&&A!==null&&A.setEditable(i)},[A,i]),o.useEffect(()=>{typeof l<"u"&&A!==null&&A.setVisible(l)},[A,l]),o.useEffect(()=>{typeof a=="number"&&A!==null&&A.setRadius(a)},[A,a]),o.useEffect(()=>{typeof r<"u"&&A!==null&&A.setCenter(r)},[A,r]),o.useEffect(()=>{A&&c&&(P!==null&&google.maps.event.removeListener(P),I(google.maps.event.addListener(A,"dblclick",c)))},[c]),o.useEffect(()=>{A&&d&&($!==null&&google.maps.event.removeListener($),S(google.maps.event.addListener(A,"dragend",d)))},[d]),o.useEffect(()=>{A&&f&&(G!==null&&google.maps.event.removeListener(G),W(google.maps.event.addListener(A,"dragstart",f)))},[f]),o.useEffect(()=>{A&&p&&(b!==null&&google.maps.event.removeListener(b),T(google.maps.event.addListener(A,"mousedown",p)))},[p]),o.useEffect(()=>{A&&m&&(H!==null&&google.maps.event.removeListener(H),R(google.maps.event.addListener(A,"mousemove",m)))},[m]),o.useEffect(()=>{A&&h&&(V!==null&&google.maps.event.removeListener(V),B(google.maps.event.addListener(A,"mouseout",h)))},[h]),o.useEffect(()=>{A&&x&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(A,"mouseover",x)))},[x]),o.useEffect(()=>{A&&g&&(_!==null&&google.maps.event.removeListener(_),Z(google.maps.event.addListener(A,"mouseup",g)))},[g]),o.useEffect(()=>{A&&u&&(D!==null&&google.maps.event.removeListener(D),Y(google.maps.event.addListener(A,"rightclick",u)))},[u]),o.useEffect(()=>{A&&v&&(z!==null&&google.maps.event.removeListener(z),ee(google.maps.event.addListener(A,"click",v)))},[v]),o.useEffect(()=>{A&&j&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(A,"drag",j)))},[j]),o.useEffect(()=>{A&&w&&(ge!==null&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(A,"center_changed",w)))},[v]),o.useEffect(()=>{A&&E&&(ze!==null&&google.maps.event.removeListener(ze),We(google.maps.event.addListener(A,"radius_changed",E)))},[E]),o.useEffect(()=>{var fe=new google.maps.Circle(ys(ys({},t||Yc),{},{map:k}));return typeof a=="number"&&fe.setRadius(a),typeof r<"u"&&fe.setCenter(r),typeof a=="number"&&fe.setRadius(a),typeof l<"u"&&fe.setVisible(l),typeof i<"u"&&fe.setEditable(i),typeof n<"u"&&fe.setDraggable(n),c&&I(google.maps.event.addListener(fe,"dblclick",c)),d&&S(google.maps.event.addListener(fe,"dragend",d)),f&&W(google.maps.event.addListener(fe,"dragstart",f)),p&&T(google.maps.event.addListener(fe,"mousedown",p)),m&&R(google.maps.event.addListener(fe,"mousemove",m)),h&&B(google.maps.event.addListener(fe,"mouseout",h)),x&&re(google.maps.event.addListener(fe,"mouseover",x)),g&&Z(google.maps.event.addListener(fe,"mouseup",g)),u&&Y(google.maps.event.addListener(fe,"rightclick",u)),v&&ee(google.maps.event.addListener(fe,"click",v)),j&&oe(google.maps.event.addListener(fe,"drag",j)),w&&_e(google.maps.event.addListener(fe,"center_changed",w)),E&&We(google.maps.event.addListener(fe,"radius_changed",E)),U(fe),L&&L(fe),()=>{P!==null&&google.maps.event.removeListener(P),$!==null&&google.maps.event.removeListener($),G!==null&&google.maps.event.removeListener(G),b!==null&&google.maps.event.removeListener(b),H!==null&&google.maps.event.removeListener(H),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),ge!==null&&google.maps.event.removeListener(ge),ze!==null&&google.maps.event.removeListener(ze),y&&y(fe),fe.setMap(null)}},[]),null}o.memo(Xc);class Qc extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{circle:null}),F(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(ys(ys({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Ea,eventMap:La,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ea,eventMap:La,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),he(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}F(Qc,"contextType",ue);function Sa(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function js(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sa(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var Pa={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Ma={add(s,t){s.add(t)},addgeojson(s,t,r){s.addGeoJson(t,r)},contains(s,t){s.contains(t)},foreach(s,t){s.forEach(t)},loadgeojson(s,t,r,a){s.loadGeoJson(t,r,a)},overridestyle(s,t,r){s.overrideStyle(t,r)},remove(s,t){s.remove(t)},revertstyle(s,t){s.revertStyle(t)},controlposition(s,t){s.setControlPosition(t)},controls(s,t){s.setControls(t)},drawingmode(s,t){s.setDrawingMode(t)},map(s,t){s.setMap(t)},style(s,t){s.setStyle(t)},togeojson(s,t){s.toGeoJson(t)}};function ed(s){var{options:t,onClick:r,onDblClick:a,onMouseDown:n,onMouseMove:i,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:f,onAddFeature:p,onRemoveFeature:m,onRemoveProperty:h,onSetGeometry:x,onSetProperty:g,onLoad:u,onUnmount:v}=s,j=o.useContext(ue),[w,E]=o.useState(null),[L,y]=o.useState(null),[k,A]=o.useState(null),[U,P]=o.useState(null),[I,$]=o.useState(null),[S,G]=o.useState(null),[W,b]=o.useState(null),[T,H]=o.useState(null),[R,V]=o.useState(null),[B,X]=o.useState(null),[re,_]=o.useState(null),[Z,D]=o.useState(null),[Y,z]=o.useState(null),[ee,de]=o.useState(null);return o.useEffect(()=>{w!==null&&w.setMap(j)},[j]),o.useEffect(()=>{w&&a&&(L!==null&&google.maps.event.removeListener(L),y(google.maps.event.addListener(w,"dblclick",a)))},[a]),o.useEffect(()=>{w&&n&&(k!==null&&google.maps.event.removeListener(k),A(google.maps.event.addListener(w,"mousedown",n)))},[n]),o.useEffect(()=>{w&&i&&(U!==null&&google.maps.event.removeListener(U),P(google.maps.event.addListener(w,"mousemove",i)))},[i]),o.useEffect(()=>{w&&l&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(w,"mouseout",l)))},[l]),o.useEffect(()=>{w&&c&&(S!==null&&google.maps.event.removeListener(S),G(google.maps.event.addListener(w,"mouseover",c)))},[c]),o.useEffect(()=>{w&&d&&(W!==null&&google.maps.event.removeListener(W),b(google.maps.event.addListener(w,"mouseup",d)))},[d]),o.useEffect(()=>{w&&f&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(w,"rightclick",f)))},[f]),o.useEffect(()=>{w&&r&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(w,"click",r)))},[r]),o.useEffect(()=>{w&&p&&(B!==null&&google.maps.event.removeListener(B),X(google.maps.event.addListener(w,"addfeature",p)))},[p]),o.useEffect(()=>{w&&m&&(re!==null&&google.maps.event.removeListener(re),_(google.maps.event.addListener(w,"removefeature",m)))},[m]),o.useEffect(()=>{w&&h&&(Z!==null&&google.maps.event.removeListener(Z),D(google.maps.event.addListener(w,"removeproperty",h)))},[h]),o.useEffect(()=>{w&&x&&(Y!==null&&google.maps.event.removeListener(Y),z(google.maps.event.addListener(w,"setgeometry",x)))},[x]),o.useEffect(()=>{w&&g&&(ee!==null&&google.maps.event.removeListener(ee),de(google.maps.event.addListener(w,"setproperty",g)))},[g]),o.useEffect(()=>{if(j!==null){var oe=new google.maps.Data(js(js({},t),{},{map:j}));a&&y(google.maps.event.addListener(oe,"dblclick",a)),n&&A(google.maps.event.addListener(oe,"mousedown",n)),i&&P(google.maps.event.addListener(oe,"mousemove",i)),l&&$(google.maps.event.addListener(oe,"mouseout",l)),c&&G(google.maps.event.addListener(oe,"mouseover",c)),d&&b(google.maps.event.addListener(oe,"mouseup",d)),f&&H(google.maps.event.addListener(oe,"rightclick",f)),r&&V(google.maps.event.addListener(oe,"click",r)),p&&X(google.maps.event.addListener(oe,"addfeature",p)),m&&_(google.maps.event.addListener(oe,"removefeature",m)),h&&D(google.maps.event.addListener(oe,"removeproperty",h)),x&&z(google.maps.event.addListener(oe,"setgeometry",x)),g&&de(google.maps.event.addListener(oe,"setproperty",g)),E(oe),u&&u(oe)}return()=>{w&&(L!==null&&google.maps.event.removeListener(L),k!==null&&google.maps.event.removeListener(k),U!==null&&google.maps.event.removeListener(U),I!==null&&google.maps.event.removeListener(I),S!==null&&google.maps.event.removeListener(S),W!==null&&google.maps.event.removeListener(W),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),B!==null&&google.maps.event.removeListener(B),re!==null&&google.maps.event.removeListener(re),Z!==null&&google.maps.event.removeListener(Z),Y!==null&&google.maps.event.removeListener(Y),ee!==null&&google.maps.event.removeListener(ee),v&&v(w),w.setMap(null))}},[]),null}o.memo(ed);class td extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{data:null}),F(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(js(js({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Ma,eventMap:Pa,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ma,eventMap:Pa,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),he(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}F(td,"contextType",ue);function Oa(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function Da(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oa(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var _a={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Ta={options(s,t){s.setOptions(t)},url(s,t){s.setUrl(t)},zIndex(s,t){s.setZIndex(t)}};class sd extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{kmlLayer:null}),F(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(Da(Da({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Ta,eventMap:_a,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ta,eventMap:_a,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),he(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}F(sd,"contextType",ue);function Hn(s,t){return typeof t=="function"?t(s.offsetWidth,s.offsetHeight):{x:0,y:0}}function rd(s,t){return new t(s.lat,s.lng)}function ad(s,t){return new t(new google.maps.LatLng(s.ne.lat,s.ne.lng),new google.maps.LatLng(s.sw.lat,s.sw.lng))}function nd(s,t,r){return s instanceof t?s:r(s,t)}function od(s,t,r){return s instanceof t?s:r(s,t)}function id(s,t,r){var a=s&&s.fromLatLngToDivPixel(r.getNorthEast()),n=s&&s.fromLatLngToDivPixel(r.getSouthWest());return a&&n?{left:"".concat(n.x+t.x,"px"),top:"".concat(a.y+t.y,"px"),width:"".concat(a.x-n.x-t.x,"px"),height:"".concat(n.y-a.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function ld(s,t,r){var a=s&&s.fromLatLngToDivPixel(r);if(a){var{x:n,y:i}=a;return{left:"".concat(n+t.x,"px"),top:"".concat(i+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Wn(s,t,r,a){return r!==void 0?id(s,t,od(r,google.maps.LatLngBounds,ad)):ld(s,t,nd(a,google.maps.LatLng,rd))}function cd(s,t){return s.left===t.left&&s.top===t.top&&s.width===t.height&&s.height===t.height}function Ia(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function dd(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ia(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function ud(s,t,r,a,n){class i extends google.maps.OverlayView{constructor(c,d,f,p){super(),this.container=c,this.pane=d,this.position=f,this.bounds=p}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d?.appendChild(this.container)}draw(){var c=this.getProjection(),d=dd({},this.container?Hn(this.container,n):{x:0,y:0}),f=Wn(c,d,this.bounds,this.position);for(var[p,m]of Object.entries(f))this.container.style[p]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(s,t,r,a)}function Aa(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function md(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aa(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function Ra(s){if(!s)return"";var t=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);return t+""}function za(s){if(!s)return"";var t=s instanceof google.maps.LatLngBounds?s:new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.east),new google.maps.LatLng(s.north,s.west));return t+""}function pd(s){var{position:t,bounds:r,mapPaneName:a,zIndex:n,onLoad:i,onUnmount:l,getPixelPositionOffset:c,children:d}=s,f=o.useContext(ue),p=o.useMemo(()=>{var h=document.createElement("div");return h.style.position="absolute",h},[]),m=o.useMemo(()=>ud(p,a,t,r,c),[p,a,t,r]);return o.useEffect(()=>(i?.(m),m?.setMap(f),()=>{l?.(m),m?.setMap(null)}),[f,m]),o.useEffect(()=>{p.style.zIndex="".concat(n)},[n,p]),kt.createPortal(d,p)}o.memo(pd);class ct extends o.PureComponent{constructor(t){super(t),F(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),F(this,"updatePane",()=>{var a=this.props.mapPaneName,n=this.overlayView.getPanes();Pe(!!a,"OverlayView requires props.mapPaneName but got %s",a),n?this.setState({paneEl:n[a]}):this.setState({paneEl:null})}),F(this,"onAdd",()=>{var a,n;this.updatePane(),(a=(n=this.props).onLoad)===null||a===void 0||a.call(n,this.overlayView)}),F(this,"onPositionElement",()=>{var a=this.overlayView.getProjection(),n=md({x:0,y:0},this.containerRef.current?Hn(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=Wn(a,n,this.props.bounds,this.props.position);if(!cd(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,f;this.setState({containerStyle:{top:(l=i.top)!==null&&l!==void 0?l:0,left:(c=i.left)!==null&&c!==void 0?c:0,width:(d=i.width)!==null&&d!==void 0?d:0,height:(f=i.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),F(this,"draw",()=>{this.onPositionElement()}),F(this,"onRemove",()=>{var a,n;this.setState(()=>({paneEl:null})),(a=(n=this.props).onUnmount)===null||a===void 0||a.call(n,this.overlayView)}),this.containerRef=o.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var r=Ra(t.position),a=Ra(this.props.position),n=za(t.bounds),i=za(this.props.bounds);(r!==a||n!==i)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?kt.createPortal(e.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:o.Children.only(this.props.children)}),t):null}}F(ct,"FLOAT_PANE","floatPane");F(ct,"MAP_PANE","mapPane");F(ct,"MARKER_LAYER","markerLayer");F(ct,"OVERLAY_LAYER","overlayLayer");F(ct,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");F(ct,"contextType",ue);function hd(){}function Ua(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function Ba(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ua(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var $a={onDblClick:"dblclick",onClick:"click"},Va={opacity(s,t){s.setOpacity(t)}};function gd(s){var{url:t,bounds:r,options:a,visible:n}=s,i=o.useContext(ue),l=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),c=o.useMemo(()=>new google.maps.GroundOverlay(t,l,a),[]);return o.useEffect(()=>{c!==null&&c.setMap(i)},[i]),o.useEffect(()=>{typeof t<"u"&&c!==null&&(c.set("url",t),c.setMap(i))},[c,t]),o.useEffect(()=>{typeof n<"u"&&c!==null&&c.setOpacity(n?1:0)},[c,n]),o.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&c!==null&&(c.set("bounds",d),c.setMap(i))},[c,r]),null}o.memo(gd);class Zn extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{groundOverlay:null}),F(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Pe(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Ba(Ba({},this.props.options),{},{map:this.context}));this.registeredEvents=me({updaterMap:Va,eventMap:$a,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Va,eventMap:$a,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}F(Zn,"defaultProps",{onLoad:hd});F(Zn,"contextType",ue);function Fa(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function Ns(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fa(Object(r),!0).forEach(function(a){F(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Fa(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var qa={},Ga={data(s,t){s.setData(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)}};function fd(s){var{data:t,onLoad:r,onUnmount:a,options:n}=s,i=o.useContext(ue),[l,c]=o.useState(null);return o.useEffect(()=>{google.maps.visualization||Pe(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),o.useEffect(()=>{Pe(!!t,"data property is required in HeatmapLayer %s",t)},[t]),o.useEffect(()=>{l!==null&&l.setMap(i)},[i]),o.useEffect(()=>{n&&l!==null&&l.setOptions(n)},[l,n]),o.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Ns(Ns({},n),{},{data:t,map:i}));return c(d),r&&r(d),()=>{l!==null&&(a&&a(l),l.setMap(null))}},[]),null}o.memo(fd);class xd extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{heatmapLayer:null}),F(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Pe(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Pe(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(Ns(Ns({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=me({updaterMap:Ga,eventMap:qa,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ga,eventMap:qa,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),he(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}F(xd,"contextType",ue);var Ha={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Wa={register(s,t,r){s.registerPanoProvider(t,r)},links(s,t){s.setLinks(t)},motionTracking(s,t){s.setMotionTracking(t)},options(s,t){s.setOptions(t)},pano(s,t){s.setPano(t)},position(s,t){s.setPosition(t)},pov(s,t){s.setPov(t)},visible(s,t){s.setVisible(t)},zoom(s,t){s.setZoom(t)}};class vd extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{streetViewPanorama:null}),F(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,r,a=(t=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=me({updaterMap:Wa,eventMap:Ha,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Wa,eventMap:Ha,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),he(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}F(vd,"contextType",ue);class bd extends o.PureComponent{constructor(){super(...arguments),F(this,"state",{streetViewService:null}),F(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}F(bd,"contextType",ue);var Za={onDirectionsChanged:"directions_changed"},Ka={directions(s,t){s.setDirections(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},panel(s,t){s.setPanel(t)},routeIndex(s,t){s.setRouteIndex(t)}};class yd extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{directionsRenderer:null}),F(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=me({updaterMap:Ka,eventMap:Za,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ka,eventMap:Za,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),he(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}F(yd,"contextType",ue);var Ja={onPlacesChanged:"places_changed"},Ya={bounds(s,t){s.setBounds(t)}};class jd extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",o.createRef()),F(this,"state",{searchBox:null}),F(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Pe(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var r=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=me({updaterMap:Ya,eventMap:Ja,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(he(this.registeredEvents),this.registeredEvents=me({updaterMap:Ya,eventMap:Ja,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),he(this.registeredEvents))}render(){return e.jsx("div",{ref:this.containerElement,children:o.Children.only(this.props.children)})}}F(jd,"contextType",ue);var Xa={onPlaceChanged:"place_changed"},Qa={bounds(s,t){s.setBounds(t)},restrictions(s,t){s.setComponentRestrictions(t)},fields(s,t){s.setFields(t)},options(s,t){s.setOptions(t)},types(s,t){s.setTypes(t)}};class Kn extends o.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",o.createRef()),F(this,"state",{autocomplete:null}),F(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Pe(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(r){var a=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=me({updaterMap:Qa,eventMap:Xa,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(t){he(this.registeredEvents),this.registeredEvents=me({updaterMap:Qa,eventMap:Xa,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&he(this.registeredEvents)}render(){return e.jsx("div",{ref:this.containerElement,className:this.props.className,children:o.Children.only(this.props.children)})}}F(Kn,"defaultProps",{className:""});F(Kn,"contextType",ue);const Nd="AIzaSyC33z7pXbXF16KbIDIXX-ZhBOLRNWqVAoo",wd={width:"100%",height:"100%"},Cd={lat:-31.5,lng:-63.8},kd=[{lat:-29.5,lng:-65.5},{lat:-29.5,lng:-62},{lat:-34,lng:-62},{lat:-34,lng:-65.5},{lat:-29.5,lng:-65.5}],Ld={north:-29,south:-34.5,east:-61.5,west:-66},Ed={disableDefaultUI:!1,zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0,clickableIcons:!1,restriction:{latLngBounds:Ld,strictBounds:!0},minZoom:6,maxZoom:18,styles:[{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"on"}]}]};function Sd(){const[s]=tn(),t=s.get("ongId"),[r,a]=o.useState(null),[n,i]=o.useState(!1);o.useEffect(()=>{i(!1)},[t]);const[l,c]=o.useState([]),[d,f]=o.useState(!1),[p,m]=o.useState(null),[h,x]=o.useState(!0),[g,u]=o.useState(""),[v,j]=o.useState(""),[w,E]=o.useState([]),[L,y]=o.useState([]),[k,A]=o.useState(null),{isLoaded:U}=Xl({id:"google-map-script",googleMapsApiKey:Nd,libraries:["places"]}),P=o.useCallback(b=>{A(b);const T=()=>{document.querySelectorAll(".gm-style-iw-c").forEach(B=>{const X=B.parentElement;X&&(X.style.display="none")})};b.addListener("click",T);const H=new MutationObserver(()=>{T()}),R=document.querySelector(".gm-style");R&&H.observe(R,{childList:!0,subtree:!0}),T()},[]),I=o.useCallback(()=>{A(null)},[]),$={Ni√±os:"#2196f3","Gente mayor":"#8bc34a",Mujeres:"#e040fb",Animales:"#ff9800","Personas con discapacidad":"#e6f208ff",Familias:"#009688",Otros:"#f44336"};o.useEffect(()=>{(async()=>{try{const T=await ae.getCategories();y(T.categorias||[])}catch(T){console.error("Error cargando categor√≠as:",T)}})()},[]);const S=l.filter(b=>{if(t)return b.id===Number(t);const T=g===""||b.need.toLowerCase().includes(g.toLowerCase()),H=v===""||b.group===v,R=w.length===0||b.categories&&b.categories.some(V=>w.includes(V.id_categoria));return T&&H&&R});o.useEffect(()=>{U&&W()},[g,v,w,U]),o.useEffect(()=>{if(t&&S.length>0&&k&&!h&&!d&&!n){const b=S[0];b.latitude&&b.longitude&&(k.panTo({lat:b.latitude,lng:b.longitude}),k.setZoom(15),i(!0),setTimeout(()=>{m(b)},300))}},[t,S,k,h,d,n]);const G=async b=>{if(!U)return null;const T=new google.maps.Geocoder;return new Promise(H=>{T.geocode({address:`${b}, Argentina`,region:"AR"},(R,V)=>{if(V==="OK"&&R&&R[0]){const B=R[0].geometry.location;H({lat:B.lat(),lng:B.lng()})}else console.error("Error geocodificando:",b,V),H(null)})})},W=async()=>{console.log("Cargando ONGs..."),x(!0),f(!0);try{const b=await ae.getONGs(),T=["Ni√±os","Gente mayor","Mujeres","Animales","Personas con discapacidad","Familias","Otros"],H=b.ongs.map(async V=>{let B,X;if(V.location)try{const Y=await G(V.location);Y&&(B=Y.lat,X=Y.lng)}catch(Y){console.error("Error geocodificando ubicaci√≥n:",V.location,Y)}let re="Otros",_="Otros";try{const Y=await ae.getTipoONGById(V.id);Y?.grupo_social&&(re=Y.grupo_social),Y?.necesidad&&(_=Y.necesidad)}catch{}let Z=[];try{Z=(await ae.getONGCategories(V.id)).categorias||[]}catch(Y){console.error("Error cargando categor√≠as para ONG:",V.id,Y)}let D;try{const{API_BASE_URL:Y}=await qt(async()=>{const{API_BASE_URL:ee}=await Promise.resolve().then(()=>Ft);return{API_BASE_URL:ee}},void 0),z=await ae.getONGProfileImage(V.id);z.imageUrl&&(D=`${Y}${z.imageUrl}`)}catch(Y){console.error("Error cargando imagen de perfil para ONG:",V.id,Y)}return{id:V.id,name:V.name,location:V.location||"Ubicaci√≥n no especificada",latitude:B,longitude:X,group:re,need:_,rating:V.rating,volunteers_count:V.volunteers_count,projects_count:V.projects_count,description:V.description,email:V.email,phone:V.phone,website:V.website,socialMedia:V.socialMedia||[],categories:Z,profileImageUrl:D}}),R=await Promise.all(H);c(R)}catch(b){console.error("Error loading ONGs:",b)}finally{x(!1),f(!1)}};return t&&(h||d)?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-b-4 border-purple-600 mx-auto mb-6"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]}),e.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-2",children:"Cargando ubicaci√≥n..."}),e.jsx("p",{className:"text-purple-700 mb-4",children:"Buscando la ONG seleccionada en el mapa..."}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}):e.jsxs("div",{className:"bg-purple-600 shadow-sm border-b",children:[r&&e.jsx("div",{className:"bg-red-100 text-red-700 p-4 text-center font-semibold",children:r}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:[e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"Mapa de ONGs - C√≥rdoba"}),e.jsx("p",{className:"text-sm sm:text-base text-purple-100",children:"Explora organizaciones en la provincia de C√≥rdoba"})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Categor√≠as:"}),e.jsx("button",{onClick:()=>E([]),className:"text-xs text-purple-200 hover:text-white underline",children:"Limpiar"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[...L].sort((b,T)=>b.id_categoria-T.id_categoria).map(b=>{const T=w.includes(b.id_categoria),H=l.filter(R=>R.categories?.some(V=>V.id_categoria===b.id_categoria)).length;return e.jsxs("button",{onClick:()=>{E(R=>T?R.filter(V=>V!==b.id_categoria):[...R,b.id_categoria])},className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all flex items-center ${T?"bg-white text-purple-700 shadow-md":"bg-purple-700 text-white hover:bg-purple-800"}`,style:T?{}:{backgroundColor:b.color,opacity:.9},children:[b.icono&&e.jsx("span",{className:"mr-1",children:b.icono}),b.nombre,e.jsxs("span",{className:"ml-1.5 opacity-75",children:["(",H,")"]})]},b.id_categoria)})})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row h-auto lg:h-[calc(100vh-200px)]",children:[e.jsx("div",{className:"w-full lg:flex-1 h-[400px] sm:h-[500px] lg:h-full",children:U?e.jsxs(Bl,{mapContainerStyle:wd,center:Cd,zoom:6.5,onLoad:P,onUnmount:I,options:Ed,onClick:()=>{},children:[e.jsx(Gn,{paths:kd,options:{fillColor:"#ffffff",fillOpacity:.3,strokeColor:"#ffffff",strokeOpacity:.8,strokeWeight:2}}),t&&S.length>0&&S[0].latitude&&S[0].longitude&&e.jsx(Un,{position:{lat:S[0].latitude,lng:S[0].longitude},icon:{path:google.maps.SymbolPath.CIRCLE,scale:20,fillColor:"#FF0000",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:3},onClick:()=>m(S[0])}),S.map(b=>b.latitude!==void 0&&b.longitude!==void 0?e.jsx(ct,{position:{lat:b.latitude,lng:b.longitude},mapPaneName:ct.OVERLAY_MOUSE_TARGET,children:e.jsx("div",{onClick:T=>{T.stopPropagation(),m(b)},onMouseDown:T=>T.stopPropagation(),style:{position:"absolute",transform:"translate(-50%, -50%)",cursor:"pointer",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,backgroundColor:t?"rgba(255, 0, 0, 0.2)":"transparent",borderRadius:"50%"},children:b.profileImageUrl?e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",border:`3px solid ${$[b.group]||"#f44336"}`,backgroundColor:"white",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"},children:e.jsx("img",{src:b.profileImageUrl,alt:b.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}):e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:$[b.group]||"#f44336",border:"3px solid white",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"},children:b.group.charAt(0)})})},b.id):null)]}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Cargando mapa..."})]})})}),e.jsx("div",{className:"w-full lg:w-96 bg-white lg:border-l border-gray-200 overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:["ONGs en el mapa (",S.length,")"]}),S.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No hay ONGs registradas con los filtros seleccionados."}):e.jsx("div",{className:"space-y-4",children:S.map(b=>e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-lg ${p?.id===b.id?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>m(b),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base flex-1 pr-2",children:b.name}),e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:$[b.group]||"gray"}})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:b.location}),e.jsxs("div",{className:"text-xs text-gray-600 mb-2 flex items-center",children:[e.jsx(Ws,{className:"w-4 h-4 text-gray-400 mr-2"}),b.phone?e.jsx("a",{href:`tel:${b.phone}`,className:"hover:underline",children:b.phone}):e.jsx("span",{className:"text-gray-400",children:"No disponible"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pt,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-1",children:b.volunteers_count||0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(tt,{className:"w-3 h-3",style:{color:$[b.group]||"#f44336"}}),e.jsx("span",{className:"ml-1 capitalize",children:b.group})]})]}),b.categories&&b.categories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.categories.slice(0,2).map(T=>e.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:T.color||"#6B7280"},title:T.descripcion,children:[T.icono&&e.jsx("span",{className:"mr-0.5",children:T.icono}),T.nombre]},T.id_categoria)),b.categories.length>2&&e.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-200 text-gray-700",children:["+",b.categories.length-2]})]})]},b.id))})]})})]}),p&&e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{zIndex:1e3},children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60",style:{zIndex:1e3,pointerEvents:"auto"},onClick:b=>{b.stopPropagation(),m(null)}}),e.jsx("div",{className:"relative bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",style:{zIndex:1010},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:p.name}),e.jsx("p",{className:"text-gray-600",children:p.location})]}),e.jsx("button",{onClick:b=>{b.stopPropagation(),m(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",style:{zIndex:1020},children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Descripci√≥n"}),e.jsx("p",{className:"text-gray-700",children:p.description||"Sin descripci√≥n disponible"})]}),p.categories&&p.categories.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Categor√≠as"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.categories.map(b=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium text-white",style:{backgroundColor:b.color||"#6B7280"},children:[b.icono&&e.jsx("span",{className:"mr-1",children:b.icono}),b.nombre]},b.id_categoria))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Informaci√≥n de contacto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-700",children:p.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"text-gray-700",children:p.email||"No disponible"})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),p.phone?e.jsx("a",{href:`tel:${p.phone}`,className:"text-gray-700 hover:underline",children:p.phone}):e.jsx("span",{className:"text-gray-400",children:"No disponible"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[p.latitude&&p.longitude&&e.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${p.latitude},${p.longitude}&travelmode=driving`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg text-center hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(lt,{className:"w-4 h-4 inline mr-2"}),"Abrir en Google Maps"]}),p.website&&e.jsxs("a",{href:p.website,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg text-center hover:bg-purple-700 transition-colors flex items-center justify-center",children:[e.jsx(wo,{className:"w-4 h-4 inline mr-2"}),"Sitio web"]})]}),p.socialMedia&&p.socialMedia.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Redes Sociales"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.socialMedia.map((b,T)=>{const H=Dn(b.type),R=_n(b.type);return e.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:R},className:"flex items-center justify-center w-10 h-10 rounded-full text-white hover:opacity-90 transition-all transform hover:scale-105 shadow-md",title:b.displayName||b.type,children:e.jsx(H,{className:"w-5 h-5"})},T)})})]})]})})]})]})}function Pd(){const[s,t]=o.useState([]),[r,a]=o.useState(!0),[n,i]=o.useState(null),[l,c]=o.useState("ONGs"),[d,f]=o.useState(null),[p,m]=o.useState(""),[h,x]=o.useState("");o.useEffect(()=>{(async()=>{try{a(!0);const T=await fetch(`/api/ranking/rankings?tipo=${l}&limite=100`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(T.ok){const H=await T.json();console.debug("[RankingPage] /api/ranking/rankings response:",H);let R=U(H.rankings||[]);R=P(R),t(R);const V=R.reduce((re,_)=>re+(_.puntos||0),0),B=R.filter(re=>re.usuario.tipo_usuario===2).length,X=R.filter(re=>re.usuario.tipo_usuario===1).length;i({total_participantes:R.length,total_ongs:B,total_usuarios:X,total_puntos:V,avg_puntos:R.length>0?V/R.length:0}),H.rankings.length===0&&console.warn("[RankingPage] No se recibieron rankings desde la API. Comprueba que el backend tiene rankings calculados y que la ruta `/api/ranking/rankings` responde correctamente.")}else console.warn("[RankingPage] Fall√≥ la petici√≥n a /api/ranking/rankings:",T.status);try{const H=await fetch(`/api/ranking/mi-ranking?tipo=${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(H.ok){const R=await H.json();f(R)}}catch{console.log("No se pudo cargar ranking personal (usuario no autenticado)")}}catch(T){console.error("Error al cargar rankings:",T)}finally{a(!1)}})()},[l]);const[g,u]=o.useState(!1),[v,j]=o.useState(null),[w,E]=o.useState(!1),[L,y]=o.useState(!1),[k,A]=o.useState(null),U=b=>{const T=new Map;for(const R of b){const V=R.usuario.id,B=T.get(V);B?((R.puntos??0)>(B.puntos??0)||(R.puntos??0)===(B.puntos??0)&&(R.puesto??1/0)<(B.puesto??1/0))&&T.set(V,R):T.set(V,R)}const H=Array.from(T.values());return H.sort((R,V)=>(R.puesto??1/0)-(V.puesto??1/0)||(V.puntos??0)-(R.puntos??0)),H},P=b=>{const T=[...b];return T.sort((H,R)=>(R.puntos??0)-(H.puntos??0)||H.usuario.id-R.usuario.id),T.map((H,R)=>({...H,puesto:R+1}))},I=async()=>{j(null),u(!0);try{const b=await fetch("/api/ranking/recalcular",{method:"POST",headers:{"Content-Type":"application/json"}}),T=await b.json().catch(()=>null);if(b.ok){j(`Rankings recalculados: ${T?.cantidad_rankings??"?:?"} entradas`);try{await(async()=>{const H=await fetch(`/api/ranking/rankings?tipo=${l}&limite=100`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(H.ok){const R=await H.json();let V=U(R.rankings||[]);V=P(V),t(V),i({total_participantes:(V||[]).length,total_ongs:(V||[]).filter(B=>B.usuario.tipo_usuario===2).length,total_usuarios:(V||[]).filter(B=>B.usuario.tipo_usuario===1).length,total_puntos:(V||[]).reduce((B,X)=>B+X.puntos,0),avg_puntos:(V||[]).length>0?(V||[]).reduce((B,X)=>B+X.puntos,0)/(V||[]).length:0})}})()}catch{}}else j(`Error recalculando: ${b.status} ${T?.error||T?.message||""}`)}catch(b){j(`Error de conexi√≥n: ${b?.message||String(b)}`)}finally{u(!1)}},$=async()=>{A(null),y(!0),E(!0);try{const b=l==="ONGs"?"ong":"user",R=((await ae.adminListUsersAll({type:b})).users||[]).map(X=>({puesto:0,usuario:{id:X.id_usuario,nombre:X.nombre||"Sin nombre",apellido:X.apellido||"",tipo_usuario:X.id_tipo_usuario||(b==="ong"?2:1)},puntos:X.puntos||0,ultima_actualizacion:X.ultima_actualizacion||""})),V=U(R),B=P(V);t(B),i({total_participantes:B.length,total_ongs:B.filter(X=>X.usuario.tipo_usuario===2).length,total_usuarios:B.filter(X=>X.usuario.tipo_usuario===1).length,total_puntos:B.reduce((X,re)=>X+re.puntos,0),avg_puntos:B.length>0?B.reduce((X,re)=>X+re.puntos,0)/B.length:0})}catch(b){console.error("Error cargando todos los usuarios:",b),A(b?.message||"Error al obtener usuarios (¬øeres admin?)")}finally{y(!1)}},S=b=>{switch(b){case 1:return e.jsx(Eo,{className:"w-6 h-6 text-yellow-500 fill-current"});case 2:return e.jsx(gr,{className:"w-6 h-6 text-gray-400 fill-current"});case 3:return e.jsx(gr,{className:"w-6 h-6 text-orange-500 fill-current"});default:return e.jsx("span",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-sm font-semibold",children:b})}},G=b=>{switch(b){case 1:return"Usuario";case 2:return"ONG";case 3:return"Admin";default:return"Desconocido"}},W=s.filter(b=>h===""||G(b.usuario.tipo_usuario)===h);return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4",children:"üèÜ Sistema de Rankings"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-purple-100 px-4",children:"Descubre qui√©nes tienen mayor impacto social en la comunidad"})]})})}),d&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-8 mb-6 sm:mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"üèÜ Tu Posici√≥n en el Ranking"}),e.jsx("div",{className:"flex space-x-6",children:Object.entries(d).map(([b,T])=>e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"text-sm opacity-90",children:b}),e.jsxs("p",{className:"text-2xl font-bold",children:["#",T.puesto]}),e.jsxs("p",{className:"text-sm opacity-90",children:[T.puntos," puntos"]})]},b))})]}),e.jsxs("div",{className:"text-right text-white",children:[e.jsx("p",{className:"text-sm opacity-90",children:"√öltima actualizaci√≥n"}),e.jsx("p",{className:"text-sm",children:new Date(d.General?.ultima_actualizacion||Date.now()).toLocaleDateString()})]})]})})}),n&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6 sm:mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Participantes"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.total_participantes})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(tt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"ONGs"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.total_ongs})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Co,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Puntos Totales"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.total_puntos?.toLocaleString()||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(on,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Promedio Puntos"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.avg_puntos.toFixed(0)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"}),e.jsxs("div",{className:"ml-3 sm:ml-4",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Usuarios"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.total_usuarios})]})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ko,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Tipo de Ranking:"}),e.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"flex-1 sm:flex-none border border-gray-300 rounded-md px-2 sm:px-3 py-1.5 sm:py-1 text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"ONGs",children:"Ranking ONGs"}),e.jsx("option",{value:"Usuarios",children:"Ranking Usuarios"})]})]})}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:e.jsxs("select",{value:h,onChange:b=>x(b.target.value),className:"w-full sm:w-auto border border-gray-300 rounded-md px-2 sm:px-3 py-1.5 sm:py-1 text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Todos"}),l==="ONGs"?e.jsx("option",{value:"ONG",children:"ONGs"}):e.jsx("option",{value:"Usuario",children:"Usuarios"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mt-6 sm:mt-8",children:[e.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:l==="ONGs"?"Ranking ONGs":"Ranking Usuarios"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:W.length===0?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("div",{children:"No hay participantes que coincidan con los filtros seleccionados."}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:I,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",disabled:g,children:g?"‚è≥ Recalculando...":"üîÑ Recalcular rankings"})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",disabled:L,children:L?"‚è≥ Cargando...":"üë• Mostrar todos los usuarios (admin)"}),k&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:k})]}),v&&e.jsx("div",{className:"mt-3 text-sm text-gray-700",children:v})]}):W.map(b=>e.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 self-start",children:S(b.puesto)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 break-words flex-1",children:[b.usuario.nombre," ",b.usuario.apellido]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l==="ONGs"&&e.jsxs("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2 sm:px-2.5 py-0.5 rounded",children:["x",b.multiplicador??1]}),e.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-bold px-2 sm:px-3 py-1 rounded-full whitespace-nowrap flex-shrink-0",children:[b.puntos," pts"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Posici√≥n #",b.puesto]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["ID: ",b.usuario.id]}),b.ultima_actualizacion&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["Actualizado: ",new Date(b.ultima_actualizacion).toLocaleDateString()]})]})]})]})})]})},b.usuario.id))})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 mb-6 sm:mb-8 bg-blue-50 rounded-lg p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-blue-900 mb-3",children:[e.jsx(Lo,{className:"w-4 h-4 sm:w-5 sm:h-5 inline mr-2"}),"¬øC√≥mo funciona el sistema de puntos?"]}),e.jsxs("div",{className:"text-blue-800 space-y-2 text-sm sm:text-base",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"üèÜ Sistema de Puntos:"})," Los puntos se otorgan bas√°ndose en las donaciones realizadas y recibidas. Cada tipo de donaci√≥n tiene un valor espec√≠fico en puntos."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üí∞ Donaciones Monetarias:"})," 1 punto por peso argentino donado."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üçé Alimentos:"})," 2 puntos por unidad donada."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üëï Ropa:"})," 3 puntos por prenda donada."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üíä Medicamentos:"})," 5 puntos por medicamento donado."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üìö Libros:"})," 2 puntos por libro donado."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üß∏ Juguetes:"})," 2 puntos por juguete donado."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ü§ù Voluntariado:"})," 10 puntos por hora de trabajo voluntario."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üîß Servicios:"})," 15 puntos por hora de servicio profesional."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"üíª Tecnolog√≠a:"})," 20 puntos por dispositivo tecnol√≥gico."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ü™ë Muebles:"})," 25 puntos por mueble o electrodom√©stico."]}),e.jsx("p",{className:"mt-4 text-xs sm:text-sm italic",children:"üí° Los puntos se otorgan tanto al donador como a la ONG receptora cuando una donaci√≥n es aprobada."})]})]})]})]})}function Md(){const[s,t]=o.useState([]),[r,a]=o.useState(""),[n,i]=o.useState(""),[l,c]=o.useState(""),[d,f]=o.useState(""),[p,m]=o.useState(!1),[h,x]=o.useState(""),[g,u]=o.useState(""),[v,j]=o.useState(""),[w,E]=o.useState(!1),[L,y]=o.useState(""),k=1,[A,U]=o.useState(!1);o.useEffect(()=>{const I=localStorage.getItem("token");I&&(E(!0),y(I)),U(!1),ae.getONGs().then($=>{const S=$.ongs.map(G=>({id:String(G.id),name:G.name}));t(S),S.length>0&&a(S[0].id)}).catch(()=>{t([])})},[]);const P=async I=>{if(I.preventDefault(),m(!0),x(""),u(""),j(""),!l){x("Por favor selecciona un tipo de donaci√≥n."),m(!1);return}if(!w){x("Debes iniciar sesi√≥n para realizar donaciones."),m(!1);return}if(l==="dinero"){const $=n.replace(",",".").replace(/[^\d.]/g,""),S=Number($);if(isNaN(S)||S<=0){x("Ingrese un monto v√°lido mayor a $0."),m(!1);return}if(S<1){x("El monto m√≠nimo de donaci√≥n es $1."),m(!1);return}if(S>99999999){x("El monto m√°ximo de donaci√≥n es $99.999.999 (8 d√≠gitos)."),m(!1);return}if(!/^\d{1,8}(\.\d{0,2})?$/.test(n)){x("Formato de monto inv√°lido. Hasta 8 d√≠gitos y m√°ximo 2 decimales."),m(!1);return}if(!r){x("Seleccione una ONG."),m(!1);return}try{if(!(await ae.getOngMPStatus(Number(r))).enabled){x("Esta ONG no tiene habilitadas las donaciones monetarias."),m(!1);return}const W=await ae.createMPPreference({ongId:Number(r),description:`Donaci√≥n a ${s.find(b=>b.id===r)?.name||""}`,amount:S,quantity:k});W.init_point?(j(W.init_point),u("¬°Link de pago generado!")):x("No se pudo generar el link de pago.")}catch{x("Error al conectar con el servidor. Verifica tu conexi√≥n e intenta nuevamente.")}finally{m(!1)}}else if(l&&l!=="dinero"){if(!d.trim()){x("Por favor ingresa una descripci√≥n para tu donaci√≥n."),m(!1);return}if(d.trim().length<10){x("La descripci√≥n debe tener al menos 10 caracteres."),m(!1);return}if(!r){x("Selecciona una ONG para tu donaci√≥n."),m(!1);return}try{const $=await fetch("/api/donations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({ongId:parseInt(r),donationType:l,itemDescription:d.trim(),cantidad:1})});if(!$.ok){const G=await $.json();throw new Error(G.error||"Error al registrar la donaci√≥n")}const S=await $.json();u(`‚úÖ ¬°Donaci√≥n registrada exitosamente! La ONG evaluar√° tu donaci√≥n de ${l} y te otorgar√° puntos.`),f(""),c("")}catch($){x(`Error al registrar la donaci√≥n: ${$.message||"Error desconocido"}`)}finally{m(!1)}}};return A?e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-center py-16 px-4 flex-1",children:e.jsxs("div",{className:"max-w-xl w-full rounded-lg shadow-lg p-8 text-center",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-fg)"},children:"Ha ocurrido un error"}),e.jsx("p",{className:"mb-6",style:{color:"var(--color-muted)"},children:"No se pudieron cargar las ONGs. Por favor, vuelva a intentarlo m√°s tarde."}),e.jsx("button",{className:"btn-primary mt-4",onClick:()=>{U(!1)},children:"Volver a donaciones"})]})})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-center py-16 px-4 flex-1",children:e.jsxs("div",{className:"max-w-2xl w-full rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-fg)"},children:"Donaciones"}),e.jsx("p",{className:"text-lg",style:{color:"var(--color-muted)"},children:"Ayuda a las organizaciones sin fines de lucro a continuar su labor social"})]}),!w&&e.jsx("div",{className:"mb-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b"},children:e.jsxs("p",{className:"text-sm",style:{color:"#92400e"},children:[e.jsx("strong",{children:"Nota:"})," Para realizar donaciones monetarias necesitas iniciar sesi√≥n.",e.jsx("a",{href:"/login",className:"underline ml-1",children:"Iniciar sesi√≥n"})]})}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"¬øQu√© tipo de donaci√≥n deseas realizar?"}),e.jsxs("select",{className:"input-field w-full text-lg",value:l,onChange:I=>{c(I.target.value),x(""),u(""),j("")},required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona el tipo de donaci√≥n"}),e.jsx("option",{value:"dinero",children:"Dinero"}),e.jsx("option",{value:"ropa",children:"Ropa"}),e.jsx("option",{value:"juguetes",children:"Juguetes"}),e.jsx("option",{value:"comida",children:"Comida"}),e.jsx("option",{value:"muebles",children:"Muebles"}),e.jsx("option",{value:"otros",children:"Otros"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Selecciona la ONG beneficiaria"}),e.jsxs("select",{className:"input-field w-full text-lg",value:r,onChange:I=>a(I.target.value),children:[s.length===0&&e.jsx("option",{value:"",children:"Cargando ONGs..."}),s.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]}),l==="dinero"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Monto a donar (ARS)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-lg font-semibold",style:{color:"var(--color-muted)",pointerEvents:"none"},children:"$"}),e.jsx("input",{type:"text",inputMode:"decimal",className:"input-field w-full text-lg",style:{paddingLeft:"2.5rem"},value:n,onChange:I=>{let $=I.target.value.replace(/,/g,".");/^\d{0,8}(\.\d{0,2})?$/.test($)&&i($)},placeholder:"0.00",required:!0})]}),e.jsx("div",{className:"text-sm mt-1",style:{color:"var(--color-muted)"},children:n&&`Monto: $${parseFloat(n).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[50,100,500,1e3,2e3,5e3].map(I=>e.jsxs("button",{type:"button",className:"p-2 text-sm border rounded hover:bg-gray-100",style:{borderColor:"var(--color-border)"},onClick:()=>i(I.toString()),children:["$",I.toLocaleString()]},I))}),e.jsx("button",{type:"submit",className:"btn-primary w-full text-lg py-3",disabled:p||!w,children:p?"‚è≥ Generando link de pago...":"Donar ahora"})]}),l&&l!=="dinero"&&l!=="otros"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Describe los objetos que deseas donar"}),e.jsx("textarea",{className:"input-field w-full",placeholder:"Ej: 10 abrigos de invierno talla M-L, 5 cajas de alimentos no perecederos, juguetes para ni√±os de 3-6 a√±os, etc.",value:d,onChange:I=>f(I.target.value),rows:4}),e.jsxs("div",{className:"text-sm mt-1",style:{color:"var(--color-muted)"},children:[d.length,"/500 caracteres"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"mb-4",style:{color:"var(--color-muted)"},children:["Para donaciones de ",l,", puedes encontrar la ONG en el mapa y coordinar la entrega"]}),e.jsx("button",{type:"button",className:"btn-primary w-full text-lg py-3",onClick:()=>{s.length===0?U(!0):window.location.href=`/map?ongId=${r}&desc=${encodeURIComponent(d)}`},children:"üó∫Ô∏è Buscar ONG en el mapa"})]})]}),l==="otros"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Describe lo que deseas donar"}),e.jsx("textarea",{className:"input-field w-full",placeholder:"Ej: Libros usados en buen estado, ropa de invierno para ni√±os, etc.",value:d,onChange:I=>f(I.target.value),rows:4,required:!0}),e.jsxs("div",{className:"text-sm mt-1",style:{color:"var(--color-muted)"},children:[d.length,"/500 caracteres"]})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full text-lg py-3",disabled:p,children:p?"‚è≥ Enviando...":"üì§ Enviar descripci√≥n"})]})]}),h&&e.jsx("div",{className:"mt-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fef2f2",borderColor:"#ef4444"},children:e.jsxs("p",{className:"text-sm",style:{color:"#dc2626"},children:["‚ùå ",h]})}),g&&e.jsx("div",{className:"mt-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#f0fdf4",borderColor:"#22c55e"},children:e.jsxs("p",{className:"text-sm",style:{color:"#16a34a"},children:["‚úÖ ",g]})}),v&&e.jsxs("div",{className:"mt-6",children:[e.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"btn-primary w-full inline-block text-center text-lg py-3",style:{backgroundColor:"#00a650",borderColor:"#00a650"},children:"Ir al proveedor de pagos para completar el pago"}),e.jsx("p",{className:"text-xs mt-2 text-center",style:{color:"var(--color-muted)"},children:"Ser√°s redirigido para completar tu donaci√≥n de forma segura"})]})]})})]})}const Is=new Map,en=3e3,yt=(s,t)=>{const r=Date.now(),a=Is.get(s);(!a||r-a>en)&&(Is.set(s,r),pe.error(s,t),setTimeout(()=>{Is.delete(s)},en))};function Ie({children:s,requireAdmin:t=!1,requireONG:r=!1,allowedRoles:a}){const{isAuthenticated:n,isLoading:i,user:l}=Ce(),c=ws();if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),e.jsx("p",{className:"text-gray-600",children:"Verificando autenticaci√≥n..."})]})});if(!n)return yt("Debes iniciar sesi√≥n para acceder a esta p√°gina"),e.jsx(et,{to:"/login",state:{from:c},replace:!0});if(!l)return console.error("‚ùå Usuario autenticado pero sin datos de usuario"),yt("Error de autenticaci√≥n. Por favor, inicia sesi√≥n nuevamente."),e.jsx(et,{to:"/login",replace:!0});const d=l?.tipo_usuario??l?.id_tipo_usuario??0;return t&&d<3?(yt("No tienes permisos para acceder a esta p√°gina"),e.jsx(et,{to:"/dashboard",replace:!0})):r&&d<2?(yt("Esta funci√≥n est√° disponible solo para organizaciones"),e.jsx(et,{to:"/dashboard",replace:!0})):a&&!a.includes(d)?(yt("No tienes permisos para acceder a esta p√°gina"),e.jsx(et,{to:"/dashboard",replace:!0})):d>=3&&!c.pathname.startsWith("/admin")?e.jsx(et,{to:"/admin",replace:!0}):c.pathname.startsWith("/admin")&&d<3?(yt("Acceso denegado: se requieren privilegios de administrador"),e.jsx(et,{to:"/dashboard",replace:!0})):e.jsx(e.Fragment,{children:s})}function Od({children:s}){const{isAuthenticated:t,isLoading:r}=Ce();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-b-2 border-purple-600"})}):t?e.jsx(et,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s})}function As({children:s}){const{isAuthenticated:t,isLoading:r}=Ce();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?e.jsx(e.Fragment,{children:s}):e.jsx(et,{to:"/login",replace:!0})}function Dd(){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Crear Nueva Campa√±a"}),e.jsx("p",{className:"text-muted-foreground",children:"Esta es una p√°gina placeholder para crear campa√±as. Aqu√≠ podr√°s crear y gestionar campa√±as de donaci√≥n."})]})})}function _d(){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Gestionar Voluntarios"}),e.jsx("p",{className:"text-muted-foreground",children:"P√°gina placeholder para gestionar voluntarios."})]})})}function Td(){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Reportes"}),e.jsx("p",{className:"text-muted-foreground",children:"P√°gina placeholder para ver reportes y m√©tricas."})]})})}function Id(){const{user:s}=Ce(),[t,r]=o.useState([]),[a,n]=o.useState(!0);return o.useEffect(()=>{(async()=>{n(!0);try{const l=await ae.getDonacionesRealizadas();r(l)}catch{r([])}finally{n(!1)}})()},[]),e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Mi Historial de Donaciones"}),a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"w-8 h-8 text-purple-600 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando donaciones..."})]}):t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No has realizado donaciones a√∫n"}),e.jsx("p",{className:"text-gray-600",children:"Tus donaciones aparecer√°n aqu√≠"})]}):e.jsx("div",{className:"space-y-6",children:t.map(i=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full flex items-center justify-center",children:e.jsx(tt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.recipient.name}),i.recipient.organization&&e.jsx("span",{className:"text-xs text-gray-500",children:i.recipient.organization})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(gt,{className:"w-4 h-4 mr-1"}),new Date(i.date).toLocaleDateString()]}),e.jsxs("span",{className:"font-bold text-purple-700",children:["$",i.amount]})]}),i.message&&e.jsx("p",{className:"text-gray-700 mb-2",children:i.message})]},i.id))})]})})}function Ad(){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Buscar Organizaciones"}),e.jsx("p",{className:"text-muted-foreground",children:"P√°gina placeholder para buscar ONGs u organizaciones."})]})})}function Rd(){return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Oportunidades de Voluntariado"}),e.jsx("p",{className:"text-muted-foreground",children:"P√°gina placeholder para explorar oportunidades de voluntariado."})]})})}function zd(){const[s,t]=o.useState([]),[r,a]=o.useState(!0),[n,i]=o.useState(""),[l,c]=o.useState(""),[d,f]=o.useState(""),[p,m]=o.useState(!1);o.useEffect(()=>{(async()=>{a(!0);try{const v=await ae.getDonacionesRealizadas();t(v)}catch{t([])}finally{a(!1)}})()},[]);const h=async()=>{m(!0);try{const u=await ae.getDonacionesRealizadas();t(u)}finally{m(!1)}},x=o.useMemo(()=>s.filter(u=>{const v=n.trim().length===0||u.recipient.name.toLowerCase().includes(n.toLowerCase())||(u.message||"").toLowerCase().includes(n.toLowerCase()),j=new Date(u.date).getTime(),w=l?j>=new Date(l).getTime():!0,E=d?j<=new Date(d).getTime():!0;return v&&w&&E}),[s,n,l,d]),g=o.useMemo(()=>x.reduce((u,v)=>u+(Number(v.amount)||0),0),[x]);return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mi Historial"}),e.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-200 dark:border-gray-700 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-gray-100",children:[e.jsx(un,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Actualizar"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 dark:text-gray-100",children:[e.jsx(Cs,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsx("input",{value:n,onChange:u=>i(u.target.value),placeholder:"Buscar por nombre o mensaje",className:"w-full outline-none text-sm bg-transparent placeholder:text-gray-400 dark:placeholder:text-gray-500 dark:text-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 dark:text-gray-100",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsx("input",{type:"date",value:l,onChange:u=>c(u.target.value),className:"w-full outline-none text-sm bg-transparent dark:text-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 dark:text-gray-100",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsx("input",{type:"date",value:d,onChange:u=>f(u.target.value),className:"w-full outline-none text-sm bg-transparent dark:text-gray-100"})]})]}),e.jsxs("div",{className:"card p-4 mb-6 flex items-center justify-between bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(Ks,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Total donado (filtrado):"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:["$",g.toLocaleString()]})]}),r?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"w-8 h-8 text-purple-600 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando historial..."})]}):x.length===0?e.jsx("div",{className:"text-center py-12 text-gray-600",children:"No se encontraron donaciones con los criterios seleccionados."}):e.jsx("div",{className:"space-y-4",children:x.map(u=>e.jsx("div",{className:"card p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:u.recipient.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(u.date).toLocaleString()}),u.message&&e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:u.message})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xl font-bold text-purple-700",children:["$",u.amount]})})]})},u.id))})]})})}function Ud(){const[s,t]=o.useState([]),[r,a]=o.useState(!0),[n,i]=o.useState(""),[l,c]=o.useState(""),[d,f]=o.useState(""),[p,m]=o.useState("date"),[h,x]=o.useState("desc");o.useEffect(()=>{(async()=>{a(!0);try{const E=await ae.getDonacionesRealizadas();t(E)}catch{t([])}finally{a(!1)}})()},[]);const g=o.useMemo(()=>[...s.filter(L=>{const y=n.trim().length===0||L.recipient.name.toLowerCase().includes(n.toLowerCase())||(L.message||"").toLowerCase().includes(n.toLowerCase()),k=new Date(L.date).getTime(),A=l?k>=new Date(l).getTime():!0,U=d?k<=new Date(d).getTime():!0;return y&&A&&U})].sort((L,y)=>{let k=0;return p==="date"?k=new Date(L.date).getTime()-new Date(y.date).getTime():k=Number(L.amount)-Number(y.amount),h==="asc"?k:-k}),[s,n,l,d,p,h]),u=o.useMemo(()=>g.reduce((w,E)=>w+(Number(E.amount)||0),0),[g]),v=w=>{p!==w?(m(w),x("desc")):x(E=>E==="asc"?"desc":"asc")},j=()=>{const w=["ID","Fecha","Destinatario","Organizacion","Monto","Mensaje"],E=g.map(U=>[U.id,new Date(U.date).toISOString(),U.recipient.name,U.recipient.organization||"",U.amount,(U.message||"").replace(/\n|\r/g," ")]),L=[w,...E].map(U=>U.map(String).map(P=>'"'+P.replaceAll('"','""')+'"').join(",")).join(`
`),y=new Blob([L],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(y),A=document.createElement("a");A.href=k,A.download=`mis_donaciones_${new Date().toISOString().slice(0,10)}.csv`,A.click(),URL.revokeObjectURL(k)};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Administrar mis Donaciones"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>v("date"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm hover:bg-gray-50",children:[e.jsx(fr,{className:"w-4 h-4"}),"Fecha"]}),e.jsxs("button",{onClick:()=>v("amount"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm hover:bg-gray-50",children:[e.jsx(fr,{className:"w-4 h-4"}),"Monto"]}),e.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm hover:bg-gray-50",children:[e.jsx(So,{className:"w-4 h-4"}),"Exportar CSV"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border bg-white",children:[e.jsx(Cs,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{value:n,onChange:w=>i(w.target.value),placeholder:"Buscar por nombre o mensaje",className:"w-full outline-none text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border bg-white",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"date",value:l,onChange:w=>c(w.target.value),className:"w-full outline-none text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border bg-white",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"date",value:d,onChange:w=>f(w.target.value),className:"w-full outline-none text-sm"})]})]}),e.jsxs("div",{className:"card p-4 mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(Ks,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Total donado (filtrado):"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",u.toLocaleString()]})]}),r?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"w-8 h-8 text-purple-600 mx-auto mb-4 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando donaciones..."})]}):g.length===0?e.jsx("div",{className:"text-center py-12 text-gray-600",children:"No se encontraron donaciones con los criterios seleccionados."}):e.jsx("div",{className:"space-y-4",children:g.map(w=>e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:w.recipient.name}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(w.date).toLocaleString()}),w.message&&e.jsx("div",{className:"text-sm text-gray-700 mt-1",children:w.message})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xl font-bold text-purple-700",children:["$",w.amount]})})]})},w.id))})]})})}const Bd=async s=>{try{const t=s?`${Fe}/api/ong-requests/list?estado=${s}`:`${Fe}/api/ong-requests/list`,r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok)throw new Error("Error al obtener solicitudes");return await r.json()}catch(t){throw console.error("Error en listOngRequests:",t),t}},$d=async(s,t,r)=>{try{const a=await fetch(`${Fe}/api/ong-requests/${s}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({admin_id:t,notas_admin:r})});if(!a.ok){const n=await a.json();throw new Error(n.error||"Error al aprobar solicitud")}return await a.json()}catch(a){throw console.error("Error en approveOngRequest:",a),a}},Vd=async(s,t,r,a)=>{try{const n=await fetch(`${Fe}/api/ong-requests/${s}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({admin_id:r,motivo_rechazo:t,notas_admin:a})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Error al rechazar solicitud")}return await n.json()}catch(n){throw console.error("Error en rejectOngRequest:",n),n}};function Fd(){const[s,t]=o.useState([]),[r,a]=o.useState(!0),[n,i]=o.useState("pendiente"),[l,c]=o.useState(null),[d,f]=o.useState(!1),[p,m]=o.useState(!1),[h,x]=o.useState(""),[g,u]=o.useState("");o.useEffect(()=>{v()},[n]);const v=async()=>{a(!0);try{const k=await Bd(n==="todos"?void 0:n);t(k.solicitudes)}catch(k){console.error("Error cargando solicitudes:",k),pe.error("Error al cargar las solicitudes")}finally{a(!1)}},j=k=>{c(k),f(!0),u("")},w=async()=>{if(!l)return;const k=pe.loading("Aprobando solicitud...");try{await $d(l.id_solicitud,void 0,g),pe.success("‚úÖ Solicitud aprobada y ONG creada exitosamente"),pe.dismiss(k),f(!1),c(null),v()}catch(A){console.error("Error aprobando solicitud:",A),pe.error(A.message||"Error al aprobar la solicitud"),pe.dismiss(k)}},E=async()=>{if(!l||!h.trim()){pe.error("Debes proporcionar un motivo de rechazo");return}const k=pe.loading("Rechazando solicitud...");try{await Vd(l.id_solicitud,h,void 0,g),pe.success("Solicitud rechazada"),pe.dismiss(k),m(!1),f(!1),c(null),x(""),u(""),v()}catch(A){console.error("Error rechazando solicitud:",A),pe.error(A.message||"Error al rechazar la solicitud"),pe.dismiss(k)}},L=k=>{switch(k){case"pendiente":return"bg-yellow-100 text-yellow-800";case"aprobada":return"bg-green-100 text-green-800";case"rechazada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=k=>new Date(k).toLocaleDateString("es-AR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"min-h-screen py-4 sm:py-6 lg:py-8",style:{backgroundColor:"var(--color-bg)"},children:e.jsxs("div",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",style:{color:"var(--color-fg)"},children:"Solicitudes de Registro de ONGs"}),e.jsx("p",{className:"mt-2 text-sm sm:text-base",style:{color:"var(--color-muted)"},children:"Gestiona las solicitudes de ONGs que no se encuentran en SISA"})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[e.jsx("label",{className:"text-sm font-medium",style:{color:"var(--color-fg)"},children:"Filtrar por estado:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>i("todos"),className:`rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-all shadow-sm ${n==="todos"?"shadow-md":""}`,style:{backgroundColor:n==="todos"?"var(--accent)":"var(--color-card)",color:n==="todos"?"white":"var(--color-fg)",borderWidth:"1px",borderColor:n==="todos"?"var(--accent)":"var(--color-border)"},children:"Todas"}),e.jsx("button",{onClick:()=>i("pendiente"),className:`rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-all shadow-sm ${n==="pendiente"?"shadow-md":""}`,style:{backgroundColor:n==="pendiente"?"var(--accent)":"var(--color-card)",color:n==="pendiente"?"white":"var(--color-fg)",borderWidth:"1px",borderColor:n==="pendiente"?"var(--accent)":"var(--color-border)"},children:"Pendientes"}),e.jsx("button",{onClick:()=>i("aprobada"),className:`rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-all shadow-sm ${n==="aprobada"?"shadow-md":""}`,style:{backgroundColor:n==="aprobada"?"var(--accent)":"var(--color-card)",color:n==="aprobada"?"white":"var(--color-fg)",borderWidth:"1px",borderColor:n==="aprobada"?"var(--accent)":"var(--color-border)"},children:"Aprobadas"}),e.jsx("button",{onClick:()=>i("rechazada"),className:`rounded-lg px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-all shadow-sm ${n==="rechazada"?"shadow-md":""}`,style:{backgroundColor:n==="rechazada"?"var(--accent)":"var(--color-card)",color:n==="rechazada"?"white":"var(--color-fg)",borderWidth:"1px",borderColor:n==="rechazada"?"var(--accent)":"var(--color-border)"},children:"Rechazadas"})]})]}),r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-t-transparent",style:{borderColor:"var(--accent)",borderTopColor:"transparent"}})}):s.length===0?e.jsx("div",{className:"rounded-lg p-8 text-center shadow",style:{backgroundColor:"var(--color-card)"},children:e.jsxs("p",{style:{color:"var(--color-muted)"},children:["No hay solicitudes ",n!=="todos"&&n]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--color-card)"},children:e.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--color-border)"},children:[e.jsx("thead",{style:{backgroundColor:"var(--color-bg)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"Organizaci√≥n"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"CUIT"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-muted)"},children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-card)"},children:s.map(k=>e.jsxs("tr",{className:"transition-colors",style:{":hover":{backgroundColor:"var(--color-bg)"}},children:[e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-fg)"},children:k.nombre_organizacion}),k.ubicacion&&e.jsx("div",{className:"text-xs",style:{color:"var(--color-muted)"},children:k.ubicacion})]}),e.jsx("td",{className:"px-4 py-4 text-sm",style:{color:"var(--color-fg)"},children:k.cuit}),e.jsx("td",{className:"px-4 py-4 text-sm",style:{color:"var(--color-muted)"},children:k.email}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${L(k.estado)}`,children:k.estado})}),e.jsx("td",{className:"px-4 py-4 text-xs",style:{color:"var(--color-muted)"},children:y(k.fecha_solicitud)}),e.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>j(k),className:"hover:underline font-semibold",style:{color:"var(--accent)"},children:"Ver detalles"})})]},k.id_solicitud))})]})}),e.jsx("div",{className:"lg:hidden space-y-4",children:s.map(k=>e.jsxs("div",{className:"rounded-lg p-4 shadow-md border",style:{backgroundColor:"var(--color-card)",borderColor:"var(--color-border)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-base mb-1",style:{color:"var(--color-fg)"},children:k.nombre_organizacion}),k.ubicacion&&e.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--color-muted)"},children:["üìç ",k.ubicacion]})]}),e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ml-2 ${L(k.estado)}`,children:k.estado})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",style:{color:"var(--color-fg)"},children:"CUIT:"}),e.jsx("span",{style:{color:"var(--color-muted)"},children:k.cuit})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"font-medium mr-2",style:{color:"var(--color-fg)"},children:"Email:"}),e.jsx("span",{style:{color:"var(--color-muted)"},className:"truncate",children:k.email})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx("span",{className:"font-medium mr-2",style:{color:"var(--color-fg)"},children:"Fecha:"}),e.jsx("span",{style:{color:"var(--color-muted)"},children:y(k.fecha_solicitud)})]})]}),e.jsx("button",{onClick:()=>j(k),className:"w-full py-2 px-4 rounded-lg font-medium text-sm transition-all",style:{backgroundColor:"var(--accent)",color:"white"},children:"Ver detalles completos"})]},k.id_solicitud))})]}),d&&l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-3 sm:p-4",children:e.jsxs("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-lg p-4 sm:p-6 shadow-xl",style:{backgroundColor:"var(--color-card)"},children:[e.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",style:{color:"var(--color-fg)"},children:"Detalles de la Solicitud"}),e.jsx("button",{onClick:()=>f(!1),className:"ml-4",style:{color:"var(--color-muted)"},children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("span",{className:`inline-flex rounded-full px-3 py-1 text-sm font-semibold ${L(l.estado)}`,children:l.estado.toUpperCase()})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Organizaci√≥n"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:l.nombre_organizacion})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"CUIT"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:l.cuit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Email"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base break-all",style:{color:"var(--color-fg)"},children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Tel√©fono"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:l.telefono||"No proporcionado"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Ubicaci√≥n"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:l.ubicacion||"No proporcionada"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Sitio Web"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base break-all",style:{color:"var(--color-fg)"},children:l.sitio_web||"No proporcionado"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Descripci√≥n"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:l.descripcion||"No proporcionada"})]})]}),e.jsx("div",{className:"border-t pt-4",style:{borderColor:"var(--color-border)"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Fecha de Solicitud"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:y(l.fecha_solicitud)})]}),l.fecha_revision&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium",style:{color:"var(--color-muted)"},children:"Fecha de Revisi√≥n"}),e.jsx("p",{className:"mt-1 text-sm sm:text-base",style:{color:"var(--color-fg)"},children:y(l.fecha_revision)})]})]})}),l.motivo_rechazo&&e.jsxs("div",{className:"rounded-lg bg-red-50 p-4 border border-red-200",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-red-800",children:"Motivo de Rechazo"}),e.jsx("p",{className:"mt-1 text-sm text-red-900",children:l.motivo_rechazo})]}),l.notas_admin&&e.jsxs("div",{className:"rounded-lg bg-blue-50 p-4 border border-blue-200",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-blue-800",children:"Notas del Administrador"}),e.jsx("p",{className:"mt-1 text-sm text-blue-900",children:l.notas_admin})]}),l.estado==="pendiente"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium",style:{color:"var(--color-fg)"},children:"Notas del administrador (opcional)"}),e.jsx("textarea",{value:g,onChange:k=>u(k.target.value),rows:3,className:"mt-1 w-full rounded-lg border p-2 text-sm focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg)",color:"var(--color-fg)"},placeholder:"Agregar notas internas sobre esta solicitud..."})]})]}),l.estado==="pendiente"&&e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:w,className:"flex-1 rounded-lg px-4 py-2.5 font-medium text-white transition shadow-md hover:shadow-lg text-sm sm:text-base",style:{backgroundColor:"#10b981"},children:"‚úì Aprobar y Crear Cuenta"}),e.jsx("button",{onClick:()=>m(!0),className:"flex-1 rounded-lg px-4 py-2.5 font-medium text-white transition shadow-md hover:shadow-lg text-sm sm:text-base",style:{backgroundColor:"#ef4444"},children:"‚úó Rechazar"}),e.jsx("button",{onClick:()=>f(!1),className:"rounded-lg px-4 py-2.5 font-medium transition border text-sm sm:text-base",style:{borderColor:"var(--color-border)",color:"var(--color-fg)",backgroundColor:"var(--color-bg)"},children:"Cancelar"})]}),l.estado!=="pendiente"&&e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>f(!1),className:"w-full rounded-lg px-4 py-2.5 font-medium transition border text-sm sm:text-base",style:{borderColor:"var(--color-border)",color:"var(--color-fg)",backgroundColor:"var(--color-bg)"},children:"Cerrar"})})]})}),p&&l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-3 sm:p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-lg p-5 sm:p-6 shadow-xl",style:{backgroundColor:"var(--color-card)"},children:[e.jsx("h3",{className:"mb-4 text-lg sm:text-xl font-bold",style:{color:"var(--color-fg)"},children:"Rechazar Solicitud"}),e.jsx("p",{className:"mb-4 text-xs sm:text-sm",style:{color:"var(--color-muted)"},children:"Por favor, proporciona un motivo claro para el rechazo. Este motivo ser√° enviado a la organizaci√≥n por email."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Motivo del rechazo *"}),e.jsx("textarea",{value:h,onChange:k=>x(k.target.value),rows:4,className:"w-full rounded-lg border p-2.5 text-sm focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg)",color:"var(--color-fg)"},placeholder:"Explica por qu√© se rechaza esta solicitud...",required:!0})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:E,disabled:!h.trim(),className:"flex-1 rounded-lg px-4 py-2.5 font-medium text-white transition shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",style:{backgroundColor:"#ef4444"},children:"Confirmar Rechazo"}),e.jsx("button",{onClick:()=>{m(!1),x("")},className:"flex-1 rounded-lg px-4 py-2.5 font-medium transition border text-sm sm:text-base",style:{borderColor:"var(--color-border)",color:"var(--color-fg)",backgroundColor:"var(--color-bg)"},children:"Cancelar"})]})]})})]})})}function qd(){const{user:s,logout:t,isLoading:r,isAuthenticated:a}=Ce(),n=Re(),l=(s?.tipo_usuario??s?.id_tipo_usuario??0)>=3,[c,d]=o.useState("forum"),[f,p]=o.useState(!1),[m,h]=o.useState(null),[x,g]=o.useState([]),[u,v]=o.useState([]),[j,w]=o.useState([]),[E,L]=o.useState([]),[y,k]=o.useState(""),[A,U]=o.useState("all"),[P,I]=o.useState(null),[$,S]=o.useState(null),[G,W]=o.useState(null),[b,T]=o.useState(null),[H,R]=o.useState(null);o.useEffect(()=>{!r&&a&&!l&&n("/dashboard")},[r,a,l,n]),o.useEffect(()=>{l&&V()},[c,A,y]),o.useEffect(()=>{if(!l||c!=="forum")return;const z=setInterval(()=>{V()},3e4);return()=>clearInterval(z)},[c,l]);const V=async()=>{h(null);try{if(p(!0),c==="forum"){const{posts:z}=await ae.adminListForumMessages();g(z||[])}else if(c==="usuarios"){const{users:z}=await ae.adminListUsersAll({type:A,q:y});v(z||[])}else if(c==="donations"){const{donations:z}=await ae.adminListDonations(y);w(z||[])}else if(c==="logs"){const{logs:z}=await ae.adminGetLogs(200);L(z||[])}I(new Date)}catch(z){console.error("Error cargando datos del admin:",z),h("Ocurri√≥ un error al cargar datos. Intent√° recargar.")}finally{p(!1)}},B=async()=>{if(b)try{await ae.adminDeleteForumMessage(b.type,b.id,b.authorId),T(null),V()}catch(z){console.error("Error borrando mensaje:",z);const ee=z?.response?.data?.error||"No se pudo borrar el mensaje.";h(ee),T(null)}},X=async()=>{if(H)try{await ae.adminBanUser(H.id,{reason:"Ban permanente por administrador",permanent:!0}),R(null),V()}catch(z){console.error("Error baneando usuario:",z),h("No se pudo banear al usuario.")}},re=async z=>{try{await ae.adminBanUser(z,{reason:"Ban temporal por administrador",days:7}),V()}catch(ee){console.error("Error baneando usuario:",ee),h("No se pudo banear al usuario.")}},_=async z=>{try{await ae.adminUnbanUser(z),V()}catch(ee){console.error("Error desbaneando usuario:",ee),h("No se pudo desbanear al usuario.")}},Z=async()=>{if($)try{const{id_usuario:z,nombre:ee,apellido:de,ubicacion:oe}=$;await ae.adminUpdateUser(z,{nombre:ee,apellido:de,ubicacion:oe}),S(null),V()}catch(z){console.error("Error guardando usuario:",z),h("No se pudo guardar el usuario.")}},D=async z=>{try{await ae.adminFlagDonation(z,"Exceso de donaci√≥n"),V()}catch(ee){console.error("Error marcando exceso:",ee),h("No se pudo registrar el exceso.")}},Y=o.useMemo(()=>u,[u]);return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):l?e.jsxs("div",{className:"min-h-screen bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100","data-admin":!0,children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"Admin ‚Ä¢ Demos+"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Panel exclusivo para administradores"})]})]}),e.jsxs("button",{onClick:t,className:"px-3 py-2 rounded-md border border-gray-200 dark:border-gray-800 flex items-center gap-2",children:[e.jsx(rn,{className:"w-4 h-4"}),"Salir"]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-64 border-r border-gray-200 dark:border-gray-800 min-h-[calc(100vh-64px)]",children:e.jsxs("nav",{className:"p-4 space-y-2",children:[e.jsxs("button",{onClick:()=>d("forum"),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2 ${c==="forum"?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Po,{className:"w-4 h-4"})," Foro"]}),e.jsxs("button",{onClick:()=>d("usuarios"),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2 ${c==="usuarios"?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(pt,{className:"w-4 h-4"})," Usuarios"]}),e.jsxs("button",{onClick:()=>d("donations"),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2 ${c==="donations"?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Mo,{className:"w-4 h-4"})," Donaciones"]}),e.jsxs("button",{onClick:()=>d("solicitudes"),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2 ${c==="solicitudes"?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Oo,{className:"w-4 h-4"})," Solicitudes ONGs"]}),e.jsxs("button",{onClick:()=>d("logs"),className:`w-full text-left px-3 py-2 rounded-md flex items-center gap-2 ${c==="logs"?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsx(Do,{className:"w-4 h-4"})," Logs"]})]})}),e.jsxs("main",{className:"flex-1 p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c==="usuarios"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tipo:"}),["all","user","ong"].map(z=>e.jsx("button",{onClick:()=>U(z),className:`px-3 py-1 rounded-full text-sm ${A===z?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:z==="all"?"Todos":z==="user"?"Usuarios":"ONGs"},z))]}),c==="forum"&&P&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["√öltima actualizaci√≥n: ",P.toLocaleTimeString("es-AR"),e.jsx("span",{className:"ml-2 text-gray-400",children:"‚Ä¢ Auto-refresh cada 30s"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>V(),disabled:f,className:"px-3 py-2 rounded-md border border-gray-200 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Recargar datos",children:[e.jsx(un,{className:`w-4 h-4 ${f?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Recargar"})]}),(c==="forum"||c==="usuarios"||c==="donations")&&e.jsxs("div",{className:"relative",children:[e.jsx(Cs,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400"}),e.jsx("input",{value:y,onChange:z=>k(z.target.value),placeholder:"Buscar...",className:"pl-9 pr-3 py-2 rounded-md border border-gray-200 dark:border-gray-800 bg-transparent"})]})]})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800",children:f?e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(Ve,{className:"w-6 h-6 mx-auto mb-3 animate-spin"}),"Cargando..."]}):m?e.jsx("div",{className:"text-center py-12 text-red-600",children:m}):e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[c==="forum"&&e.jsx("div",{className:"p-4 space-y-4",children:x.length===0?e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay mensajes en el foro."}):x.map(z=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"ANUNCIO"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",z.id_publicacion]})]}),e.jsx("h3",{className:"font-bold text-lg mb-1",children:z.titulo}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:z.descripcion_publicacion}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Por: ",z.usuario?.nombre||z.usuario?.email||`User #${z.id_usuario}`," ¬∑ ",new Date(z.fecha_publicacion).toLocaleString()]})]}),e.jsxs("button",{onClick:()=>T({type:"post",id:z.id_publicacion,authorId:z.id_usuario}),className:"px-3 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-1 flex-shrink-0",children:[e.jsx(He,{className:"w-4 h-4"}),"Borrar"]})]})}),z.respuestas&&z.respuestas.length>0&&e.jsx("div",{className:"ml-6 space-y-2",children:z.respuestas.map(ee=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-md",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"RESPUESTA"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",ee.id_respuesta]})]}),e.jsx("p",{className:"text-sm mb-1",children:ee.mensaje}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Por: ",ee.usuario?.nombre||ee.usuario?.email||`User #${ee.id_usuario}`," ¬∑ ",new Date(ee.fecha_respuesta).toLocaleString()]})]}),e.jsxs("button",{onClick:()=>T({type:"reply",id:ee.id_respuesta,authorId:ee.id_usuario}),className:"px-2 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-1 text-sm flex-shrink-0",children:[e.jsx(He,{className:"w-3 h-3"}),"Borrar"]})]})}),ee.respuestasHijas&&ee.respuestasHijas.length>0&&e.jsx("div",{className:"ml-6 space-y-2",children:ee.respuestasHijas.map(de=>e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-md",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:"SUBRESPUESTA"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",de.id_respuesta]})]}),e.jsx("p",{className:"text-sm mb-1",children:de.mensaje}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Por: ",de.usuario?.nombre||de.usuario?.email||`User #${de.id_usuario}`," ¬∑ ",new Date(de.fecha_respuesta).toLocaleString()]})]}),e.jsxs("button",{onClick:()=>T({type:"reply",id:de.id_respuesta,authorId:de.id_usuario}),className:"px-2 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-1 text-sm flex-shrink-0",children:[e.jsx(He,{className:"w-3 h-3"}),"Borrar"]})]})},de.id_respuesta))})]},ee.id_respuesta))})]},z.id_publicacion))}),c==="usuarios"&&e.jsx("div",{className:"p-4 space-y-3",children:Y.length===0?e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay usuarios."}):Y.map(z=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-md flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[z.nombre," ",z.apellido," ",e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(#",z.id_usuario,")"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.email," ¬∑ ",z.ubicacion||"Sin ubicaci√≥n"," ¬∑ ",e.jsx("span",{className:"uppercase",children:z.tipo})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>S(z),className:"px-3 py-2 rounded-md border flex items-center gap-1",children:[e.jsx(Bs,{className:"w-4 h-4"}),"Editar"]}),z.banned?e.jsxs("button",{onClick:()=>_(z.id_usuario),className:"btn-primary px-3 py-2 flex items-center gap-1",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Desbanear"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>re(z.id_usuario),className:"px-3 py-2 rounded-md border border-orange-300 text-orange-600 flex items-center gap-1",children:[e.jsx(es,{className:"w-4 h-4"}),"Ban 7d"]}),e.jsxs("button",{onClick:()=>R({id:z.id_usuario,name:`${z.nombre} ${z.apellido}`}),className:"px-3 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-1",children:[e.jsx(es,{className:"w-4 h-4"}),"Ban Permanente"]})]})]})]},z.id_usuario))}),c==="donations"&&e.jsx("div",{className:"p-4 space-y-3",children:j.length===0?e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay donaciones."}):j.map(z=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-md flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[z.tipoDonacion?.tipo_donacion||"Donaci√≥n"," ",e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(#",z.id_pedido,")"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[z.usuario?.email," ¬∑ Cant: ",z.cantidad??"-"," ¬∑ Horas: ",z.horas_donadas??"-"," ¬∑ Puntos: ",z.puntos_otorgados??"-"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>W(z),className:"px-3 py-2 rounded-md border flex items-center gap-1",children:[e.jsx(Bs,{className:"w-4 h-4"}),"Editar"]}),e.jsxs("button",{onClick:()=>D(z.id_pedido),className:"px-3 py-2 rounded-md border border-red-300 text-red-600 flex items-center gap-1",children:[e.jsx(es,{className:"w-4 h-4"}),"Marcar exceso"]})]})]},z.id_pedido))}),c==="solicitudes"&&e.jsx(Fd,{}),c==="logs"&&e.jsx("div",{className:"p-4 space-y-2",children:E.length===0?e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No hay logs."}):E.map((z,ee)=>e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"text-xs text-gray-400 mr-2",children:z.ts}),e.jsx("span",{className:"font-medium",children:z.action}),e.jsxs("span",{className:"ml-2",children:["actor: ",z.actor]}),z.target&&e.jsxs("span",{className:"ml-2",children:["target: ",z.target.type,"#",z.target.id]})]},ee))})]})})]})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-md p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Confirmar borrado"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["¬øEst√°s seguro de que deseas borrar este ",b.type==="post"?"anuncio":"respuesta","?"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Se enviar√° una notificaci√≥n al autor inform√°ndole que su mensaje fue eliminado por los administradores."}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>T(null),className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancelar"}),e.jsxs("button",{onClick:B,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),"Borrar"]})]})]})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-md p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"‚ö†Ô∏è Baneo Permanente"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["¬øEst√°s seguro de que deseas banear permanentemente a ",e.jsx("strong",{children:H.name}),"?"]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:e.jsx("strong",{children:"Esta acci√≥n:"})}),e.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-300 list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Cerrar√° autom√°ticamente su sesi√≥n"}),e.jsx("li",{children:"No podr√° iniciar sesi√≥n nuevamente"}),e.jsx("li",{children:"Es permanente y requiere intervenci√≥n manual para revertir"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancelar"}),e.jsxs("button",{onClick:X,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4"}),"Banear Permanentemente"]})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Editar usuario #",$.id_usuario]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{className:"input-field",placeholder:"Nombre",value:$.nombre||"",onChange:z=>S({...$,nombre:z.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Apellido",value:$.apellido||"",onChange:z=>S({...$,apellido:z.target.value})}),e.jsx("input",{className:"col-span-2 input-field",placeholder:"Ubicaci√≥n",value:$.ubicacion||"",onChange:z=>S({...$,ubicacion:z.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>S(null),className:"px-3 py-2 rounded-md border",children:"Cancelar"}),e.jsxs("button",{onClick:Z,className:"btn-primary px-3 py-2 flex items-center gap-2",children:[e.jsx(dn,{className:"w-4 h-4"}),"Guardar"]})]})]})})]}):null}function Gd(){const{user:s,isAuthenticated:t}=Ce(),[r,a]=o.useState(""),[n,i]=o.useState(!1),[l,c]=o.useState(""),[d,f]=o.useState(""),p=!!s&&(s.tipo_usuario===2||s.id_tipo_usuario===2),m=async h=>{h.preventDefault(),i(!0),c(""),f("");try{if(!t||!p){f("Debes ser una ONG autenticada para configurar pagos.");return}if(!r.trim()){f("El Access Token es requerido.");return}if(!r.trim().startsWith("APP_USR-")){f("Ingresa el Access Token de producci√≥n de Mercado Pago (APP_USR-...). No se aceptan tokens de prueba.");return}const u=await ae.setOngMPToken(r.trim(),!0);c("Token de Mercado Pago guardado y pagos habilitados."),a("")}catch(x){f(x?.message||"Error al guardar el token")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-start py-10 px-4 flex-1",children:e.jsxs("div",{className:"max-w-3xl w-full rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-fg)"},children:"Configuraci√≥n de donaciones con Mercado Pago"}),e.jsx("p",{className:"mb-6",style:{color:"var(--color-muted)"},children:"Aqu√≠ podr√°s habilitar las donaciones monetarias para tu organizaci√≥n utilizando la API de Mercado Pago. Cada ONG debe generar su propio Access Token de producci√≥n y mantenerlo vigente."}),e.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg)"},children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-fg)"},children:"Credenciales de Mercado Pago"}),e.jsxs("ol",{className:"list-decimal pl-6 space-y-2",style:{color:"var(--color-muted)"},children:[e.jsxs("li",{children:["Reg√≠strate o inicia sesi√≥n en tu cuenta de ",e.jsx("strong",{children:"Mercado Pago"})," de la organizaci√≥n."]}),e.jsxs("li",{children:["Accede a ",e.jsx("strong",{children:"Mercado Pago Developers"})," y crea una ",e.jsx("strong",{children:"Aplicaci√≥n"})," para tu ONG."]}),e.jsxs("li",{children:["En ",e.jsx("strong",{children:"Credenciales"})," selecciona el entorno ",e.jsx("strong",{children:"Producci√≥n"})," y copia el Access Token que empieza con ",e.jsx("code",{children:"APP_USR-"}),"."]}),e.jsx("li",{children:"No se aceptan tokens de prueba (TEST-). Completa la validaci√≥n/KYC si es necesario."})]}),e.jsxs("p",{className:"mt-4 text-sm",style:{color:"var(--color-muted)"},children:["Importante: el token se almacenar√° cifrado y solo se usar√° para crear preferencias de pago para tus donaciones. Solo se aceptan tokens de ",e.jsx("strong",{children:"Producci√≥n"})," (APP_USR-)."]})]}),e.jsx("div",{className:"mb-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b"},children:e.jsxs("p",{className:"text-sm",style:{color:"#92400e"},children:["Disclaimer: Al habilitar donaciones monetarias con ",e.jsx("strong",{children:"Mercado Pago"})," aceptas que eres responsable de: (1) la titularidad de la cuenta de cobro, (2) cumplir con las normativas fiscales aplicables y las ",e.jsx("strong",{children:"Pol√≠ticas/T√©rminos de Mercado Pago"}),", y (3) la veracidad y seguridad de la informaci√≥n ingresada."]})}),!p&&e.jsx("div",{className:"mb-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fee2e2",borderColor:"#ef4444"},children:e.jsx("p",{className:"text-sm",style:{color:"#991b1b"},children:"Esta secci√≥n es exclusiva para cuentas de tipo ONG."})}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-fg)"},children:"Access Token de Mercado Pago (solo APP_USR- de producci√≥n)"}),e.jsx("input",{type:"password",className:"input-field w-full",placeholder:"APP_USR-...",value:r,onChange:h=>a(h.target.value),disabled:!p,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"btn-primary",type:"submit",disabled:n||!p,children:n?"Guardando...":"Guardar token de Mercado Pago"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:async()=>{i(!0),f(""),c("");try{await ae.deleteOngMPToken(),c("Pagos deshabilitados y token de Mercado Pago eliminado")}catch(h){f(h?.message||"Error al deshabilitar pagos")}finally{i(!1)}},disabled:n||!p,children:"Deshabilitar pagos"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>window.history.back(),children:"Volver"})]})]}),l&&e.jsx("div",{className:"mt-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#f0fdf4",borderColor:"#22c55e"},children:e.jsxs("p",{className:"text-sm",style:{color:"#16a34a"},children:["‚úÖ ",l]})}),d&&e.jsx("div",{className:"mt-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"#fef2f2",borderColor:"#ef4444"},children:e.jsxs("p",{className:"text-sm",style:{color:"#dc2626"},children:["‚ùå ",d]})})]})})]})}function Hd(){return e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-center py-16 px-4 flex-1",children:e.jsxs("div",{className:"max-w-xl w-full rounded-lg shadow-lg p-8 text-center",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-fg)"},children:"¬°Gracias por tu donaci√≥n!"}),e.jsx("p",{className:"mb-6",style:{color:"var(--color-muted)"},children:"Tu pago fue aprobado y registrado correctamente. ¬°Tu apoyo hace la diferencia!"}),e.jsx("a",{href:"/donaciones",className:"btn-primary inline-block",children:"Volver a Donaciones"})]})})]})}function Wd(){return e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-center py-16 px-4 flex-1",children:e.jsxs("div",{className:"max-w-xl w-full rounded-lg shadow-lg p-8 text-center",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-fg)"},children:"Pago no completado"}),e.jsx("p",{className:"mb-6",style:{color:"var(--color-muted)"},children:"Tu pago no pudo completarse. Puedes intentarlo nuevamente o contactar a soporte si el problema persiste."}),e.jsx("a",{href:"/donaciones",className:"btn-primary inline-block",children:"Volver a Donaciones"})]})})]})}function Zd(){return e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg)"},children:[e.jsx(ft,{}),e.jsx("main",{className:"flex flex-col items-center justify-center py-16 px-4 flex-1",children:e.jsxs("div",{className:"max-w-xl w-full rounded-lg shadow-lg p-8 text-center",style:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-fg)"},children:"Pago pendiente"}),e.jsx("p",{className:"mb-6",style:{color:"var(--color-muted)"},children:"Tu pago qued√≥ en estado pendiente. Te notificaremos cuando se acredite o cambia su estado."}),e.jsx("a",{href:"/donaciones",className:"btn-primary inline-block",children:"Volver a Donaciones"})]})})]})}function Kd(){const t=ws().pathname.startsWith("/admin");return si(),e.jsx(e.Fragment,{children:e.jsxs(Vo,{children:[e.jsx(qo,{}),e.jsxs("div",{className:"min-h-screen",children:[t?e.jsx(pr,{children:e.jsx(xe,{path:"/admin/*",element:e.jsx(qd,{})})}):e.jsx(Xo,{children:e.jsxs(pr,{children:[e.jsx(xe,{path:"/",element:e.jsx(ri,{})}),e.jsx(xe,{path:"/login",element:e.jsx(_i,{})}),e.jsx(xe,{path:"/register",element:e.jsx(Ai,{})}),e.jsx(xe,{path:"/forgot-password",element:e.jsx(Nl,{})}),e.jsx(xe,{path:"/reset-password/:token",element:e.jsx(wl,{})}),e.jsx(xe,{path:"/verificar/:token",element:e.jsx(Cl,{})}),e.jsx(xe,{path:"/auth/callback",element:e.jsx(Sl,{})}),e.jsx(xe,{path:"/mission",element:e.jsx(Od,{children:e.jsx(Ki,{})})}),e.jsx(xe,{path:"/terms",element:e.jsx(Ji,{})}),e.jsx(xe,{path:"/privacy",element:e.jsx(Yi,{})}),e.jsx(xe,{path:"/cookies",element:e.jsx(Xi,{})}),e.jsx(xe,{path:"/donaciones",element:e.jsx(As,{children:e.jsx(Md,{})})}),e.jsx(xe,{path:"/map",element:e.jsx(As,{children:e.jsx(Sd,{})})}),e.jsx(xe,{path:"/ranking",element:e.jsx(As,{children:e.jsx(Pd,{})})}),e.jsx(xe,{path:"/dashboard",element:e.jsx(Ie,{children:e.jsx(Ri,{})})}),e.jsx(xe,{path:"/forum",element:e.jsx(Ie,{children:e.jsx(Hi,{})})}),e.jsx(xe,{path:"/forum/:id",element:e.jsx(Ie,{children:e.jsx(Zi,{})})}),e.jsx(xe,{path:"/profile",element:e.jsx(Ie,{children:e.jsx(jl,{})})}),e.jsx(xe,{path:"/acciones/crear-campania",element:e.jsx(Ie,{children:e.jsx(Dd,{})})}),e.jsx(xe,{path:"/acciones/gestionar-voluntarios",element:e.jsx(Ie,{children:e.jsx(_d,{})})}),e.jsx(xe,{path:"/acciones/reportes",element:e.jsx(Ie,{children:e.jsx(Td,{})})}),e.jsx(xe,{path:"/acciones/historial-donaciones",element:e.jsx(Ie,{children:e.jsx(Id,{})})}),e.jsx(xe,{path:"/acciones/buscar-organizaciones",element:e.jsx(Ie,{children:e.jsx(Ad,{})})}),e.jsx(xe,{path:"/acciones/oportunidades-voluntariado",element:e.jsx(Ie,{children:e.jsx(Rd,{})})}),e.jsx(xe,{path:"/acciones/mi-historial",element:e.jsx(Ie,{children:e.jsx(zd,{})})}),e.jsx(xe,{path:"/acciones/mis-donaciones",element:e.jsx(Ie,{children:e.jsx(Ud,{})})}),e.jsx(xe,{path:"/pagos/configurar",element:e.jsx(Ie,{children:e.jsx(Gd,{})})}),e.jsx(xe,{path:"/donaciones/exito",element:e.jsx(Hd,{})}),e.jsx(xe,{path:"/donaciones/error",element:e.jsx(Wd,{})}),e.jsx(xe,{path:"/donaciones/pendiente",element:e.jsx(Zd,{})}),e.jsx(xe,{path:"/complete-data",element:e.jsx(Ie,{children:e.jsx(El,{})})})]})}),e.jsx(_o,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--color-card)",color:"var(--color-fg)",border:"1px solid var(--color-border)",boxShadow:"0 10px 30px -12px rgba(0,0,0,0.20)"},success:{duration:2e3},error:{duration:3e3}},containerStyle:{top:20,right:20}})]})]})})}function Jd(){return e.jsx($o,{children:e.jsx(Kd,{})})}const Yd=["log","info","debug","warn","error","trace"];Yd.forEach(s=>{console[s]=()=>{}});zo.createRoot(document.getElementById("root")).render(e.jsx(Le.StrictMode,{children:e.jsx(eo,{children:e.jsx(Zo,{children:e.jsx(Jd,{})})})}));
